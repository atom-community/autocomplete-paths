var e=require("fuzzaldrin-plus-fast"),t=require("atom"),n=require("buffer"),r=require("child_process"),i=require("fs"),o=require("path"),a=require("events");function s(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!0})}var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c={};Object.defineProperty(c,"__esModule",{value:!0});var l=void 0;c.default=l;var f={};Object.defineProperty(f,"__esModule",{value:!0});var h=void 0;f.default=h;var d={};Object.defineProperty(d,"__esModule",{value:!0});var p=void 0;d.default=p;p={enableHtmlSupport:[{scopes:["text.html.basic"],prefixes:["src=['\"]","href=['\"]","name=['\"]"],extensions:["js","png","gif","jpeg","jpg","tiff","html","json","svg"],relative:!0}]},d.default=p,d=d.default;var g,b=(g=d)&&g.__esModule?g:{default:g};const y={normalizeSlashes:{type:"boolean",description:"Replaces backward slashes with forward slashes on windows (if possible)",default:!0},maxFileCount:{type:"number",description:"The maximum amount of files to be handled",default:2e3},suggestionPriority:{type:"number",description:"Suggestion priority of this provider. If set to a number larger than or equal to 1, suggestions will be displayed on top of default suggestions.",default:2},ignoredNames:{type:"boolean",default:!0,description:"Ignore items matched by the `Ignore Names` core option."},ignoreSubmodules:{type:"boolean",default:!1,description:"Ignore submodule directories."},ignoredPatterns:{type:"array",default:[],items:{type:"string"},description:"Ignore additional file path patterns."},ignoreBuiltinScopes:{type:"boolean",default:!1,description:"Ignore built-in scopes and use only scopes from user configuration."},scopes:{type:"array",default:[],items:{type:"object",properties:{scopes:{type:["array"],items:{type:"string"}},prefixes:{type:["array"],items:{type:"string"}},extensions:{type:["array"],items:{type:"string"}},relative:{type:"boolean",default:!0},replaceOnInsert:{type:"array",items:{type:"array",items:{type:["string","string"]}}}}}}};for(let e in b.default)y[e]={type:"boolean",default:!1};h=y,f.default=h;var v=Su(f=f.default),_={};Object.defineProperty(_,"__esModule",{value:!0});var m=void 0;_.default=m;var w=a,S=yu(o),E=yu((e=>{const t=/^\\\\\?\\/.test(e),n=/[^\u0000-\u0080]+/.test(e);return t||n?e:e.replace(/\\/g,"/")})),R={};Object.defineProperty(R,"__esModule",{value:!0});var j=void 0;R.default=j;var x=a,P=au(i),O={};O={trimSlashes:function(e){let t=e;return"/"===t.charAt(0)&&(t=t.substr(1)),"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t},removeTrailingWhitespace:function(e){return/\\\s+$/.test(e)?e.replace(/\\(\s+)$/,"$1"):e.replace(/\s+$/,"")},isWhitespace:function(e){return/^\s*$/.test(e)},startsWithChar:function(e,t){return new RegExp(`^${t}+.*$`).test(e)}};var T=au((function(e){let t=[];return e.split(/\n/).forEach((e=>{let n;O.isWhitespace(e)||O.startsWithChar(e,"#")||(n=O.removeTrailingWhitespace(e),n=O.trimSlashes(n),t.includes(n)||t.push(n))})),t}));const{spawn:M}=r;var D,k,C={},A={},B=!1;function L(){return B||(B=!0,k={},k=a.EventEmitter),k}var I;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=n.Buffer,U={}.inspect,$=U&&U.custom||"inspect";I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,r;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return q.alloc(0);for(var t,n,r,i=q.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,q.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=q.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:$,value:function(e,t){return U(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&W(t.prototype,n),r&&W(t,r),e}();var H,V=!1;function G(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Z,this,e)):process.nextTick(Z,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?process.nextTick(K,n):(n._writableState.errorEmitted=!0,process.nextTick(z,n,e)):process.nextTick(z,n,e):t?(process.nextTick(K,n),t(e)):process.nextTick(K,n)})),this)}function z(e,t){Z(e,t),K(e)}function K(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Z(e,t){e.emit("error",t)}function J(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}function Q(){return V||(V=!0,H={},H={destroy:G,undestroy:Y,errorOrDestroy:J}),H}var X,ee,te,ne=!1;function re(e,t,n){n||(n=Error);var r=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);r.prototype.name=n.name,r.prototype.code=e,ee[e]=r}function ie(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function oe(){return ne||(ne=!0,X={},ee={},re("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),re("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(ie(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(ie(t,"type"))}return a+". Received type ".concat(typeof n)}),TypeError),re("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),re("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),re("ERR_STREAM_PREMATURE_CLOSE","Premature close"),re("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),re("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),re("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),re("ERR_STREAM_WRITE_AFTER_END","write after end"),re("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),re("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),re("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),te=ee,X.codes=te),X}var ae,se,ue=!1;function ce(e,t,n,r){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new se(r?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}function le(){return ue||(ue=!0,ae={},se=oe().codes.ERR_INVALID_OPT_VALUE,ae={getHighWaterMark:ce}),ae}var fe,he=!1;function de(){return he||(he=!0,fe={},fe="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),fe}var pe,ge=!1;function be(e,t){if(ye("noDeprecation"))return e;var n=!1;return function(){if(!n){if(ye("throwDeprecation"))throw new Error(t);ye("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}function ye(e){try{if(!u.localStorage)return!1}catch(e){return!1}var t=u.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}function ve(){return ge||(ge=!0,pe={},pe=be),pe}var _e,me,we,Se,Ee,Re,je,xe,Pe,Oe,Te,Me,De,ke,Ce,Ae,Be,Le,Ie,Ne,Fe=!1;function We(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}function qe(){}function Ue(e,t,n){me=me||lt(),e=e||{},"boolean"!=typeof n&&(n=t instanceof me),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=Pe(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=!1===e.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new De;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(Ze,e,t),e._writableState.errorEmitted=!0,Ie(e,r)):(i(r),e._writableState.errorEmitted=!0,Ie(e,r),Ze(e,t))}(e,n,r,t,i);else{var o=Ke(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||ze(e,n),r?process.nextTick(Ge,e,n,o,i):Ge(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new We(this)}function $e(e){var t=this instanceof(me=me||lt());if(!t&&!Ne.call($e,this))return new $e(e);this._writableState=new Ue(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Se.call(this)}function He(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Ee.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ve(e,t,!1,s,r,i,o);return u}function Ve(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Ce("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Ge(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),Ze(e,t)}function ze(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)i[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;i.allBuffers=s,Ve(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new We(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,l=n.callback;if(Ve(e,t,!1,t.objectMode?1:u.length,u,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function Ke(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function Ye(e,t){e._final((function(n){t.pendingcb--,n&&Ie(e,n),t.prefinished=!0,e.emit("prefinish"),Ze(e,t)}))}function Ze(e,t){var n=Ke(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(Ye,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function Je(){_e={},_e=$e,$e.WritableState=Ue,we={deprecate:ve()},Se=L(),Ee=n.Buffer,Re=u.Uint8Array||function(){},je=Q(),xe=le(),Pe=xe.getHighWaterMark,Oe=oe().codes,Te=Oe.ERR_INVALID_ARG_TYPE,Me=Oe.ERR_METHOD_NOT_IMPLEMENTED,De=Oe.ERR_MULTIPLE_CALLBACK,ke=Oe.ERR_STREAM_CANNOT_PIPE,Ce=Oe.ERR_STREAM_DESTROYED,Ae=Oe.ERR_STREAM_NULL_VALUES,Be=Oe.ERR_STREAM_WRITE_AFTER_END,Le=Oe.ERR_UNKNOWN_ENCODING,Ie=je.errorOrDestroy,de()($e,Se),Ue.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(Ue.prototype,"buffer",{get:we.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Ne=Function.prototype[Symbol.hasInstance],Object.defineProperty($e,Symbol.hasInstance,{value:function(e){return!!Ne.call(this,e)||this===$e&&(e&&e._writableState instanceof Ue)}})):Ne=function(e){return e instanceof this},$e.prototype.pipe=function(){Ie(this,new ke)},$e.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&function(e){return Ee.isBuffer(e)||e instanceof Re}(e);return o&&!Ee.isBuffer(e)&&(e=function(e){return Ee.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=qe),r.ending?function(e,t){var n=new Be;Ie(e,n),process.nextTick(t,n)}(this,n):(o||function(e,t,n,r){var i;return null===n?i=new Ae:"string"==typeof n||t.objectMode||(i=new Te("chunk",["string","Buffer"],n)),!i||(Ie(e,i),process.nextTick(r,i),!1)}(this,r,e,n))&&(r.pendingcb++,i=He(this,r,o,e,t,n)),i},$e.prototype.cork=function(){this._writableState.corked++},$e.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||ze(this,e))},$e.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Le(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty($e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$e.prototype._write=function(e,t,n){n(new Me("_write()"))},$e.prototype._writev=null,$e.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,Ze(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty($e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($e.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),$e.prototype.destroy=je.destroy,$e.prototype._undestroy=je.undestroy,$e.prototype._destroy=function(e,t){t(e)}}function Qe(){return Fe||(Fe=!0,Je()),_e}var Xe,et,tt,nt,rt,it,ot,at=!1;function st(e){if(!(this instanceof st))return new st(e);tt.call(this,e),nt.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",ut)))}function ut(){this._writableState.ended||process.nextTick(ct,this)}function ct(e){e.end()}function lt(){return at||(at=!0,function(){for(Xe={},et=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},Xe=st,tt=Qn(),nt=Qe(),de()(st,tt),rt=et(nt.prototype),it=0;it<rt.length;it++)ot=rt[it],st.prototype[ot]||(st.prototype[ot]=nt.prototype[ot]);Object.defineProperty(st.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(st.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(st.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(st.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}()),Xe}var ft,ht,dt,pt,gt=!1;function bt(e,t){for(var n in e)t[n]=e[n]}function yt(e,t,n){return pt(e,t,n)}function vt(){return gt||(gt=!0,ft={},(pt=(dt=n).Buffer).from&&pt.alloc&&pt.allocUnsafe&&pt.allocUnsafeSlow?ft=dt:(bt(dt,ft),ht=yt,ft.Buffer=ht),yt.prototype=Object.create(pt.prototype),bt(pt,yt),yt.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return pt(e,t,n)},yt.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=pt(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},yt.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return pt(e)},yt.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return dt.SlowBuffer(e)}),ft}var _t,mt,wt,St,Et=!1;function Rt(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(mt.isEncoding===wt||!wt(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=Tt,this.end=Mt,t=4;break;case"utf8":this.fillLast=xt,t=4;break;case"base64":this.text=Dt,this.end=kt,t=3;break;default:return this.write=Ct,void(this.end=At)}this.lastNeed=0,this.lastTotal=0,this.lastChar=mt.allocUnsafe(t)}function jt(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function xt(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function Pt(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=jt(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=jt(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=jt(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function Ot(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function Tt(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Mt(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function Dt(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function kt(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Ct(e){return e.toString(this.encoding)}function At(e){return e&&e.length?this.write(e):""}function Bt(){return Et||(Et=!0,_t={},mt=vt().Buffer,wt=mt.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},St=Rt,_t.StringDecoder=St,Rt.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},Rt.prototype.end=Ot,Rt.prototype.text=Pt,Rt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}),_t}var Lt,It,Nt=!1;function Ft(){}function Wt(e,t,n){if("function"==typeof t)return Wt(e,null,t);t||(t={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(n||Ft);var r=t.readable||!1!==t.readable&&e.readable,i=t.writable||!1!==t.writable&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,r||n.call(e)},u=e._readableState&&e._readableState.endEmitted,c=function(){r=!1,u=!0,i||n.call(e)},l=function(t){n.call(e,t)},f=function(){var t;return r&&!u?(e._readableState&&e._readableState.ended||(t=new It),n.call(e,t)):i&&!a?(e._writableState&&e._writableState.ended||(t=new It),n.call(e,t)):void 0},h=function(){e.req.on("finish",s)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?i&&!e._writableState&&(e.on("end",o),e.on("close",o)):(e.on("complete",s),e.on("abort",f),e.req?h():e.on("request",h)),e.on("end",c),e.on("finish",s),!1!==t.error&&e.on("error",l),e.on("close",f),function(){e.removeListener("complete",s),e.removeListener("abort",f),e.removeListener("request",h),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",l),e.removeListener("close",f)}}function qt(){return Nt||(Nt=!0,Lt={},It=oe().codes.ERR_STREAM_PREMATURE_CLOSE,Lt=Wt),Lt}var Ut,$t,Ht,Vt,Gt,zt,Kt,Yt,Zt,Jt,Qt,Xt,en=!1;function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){return{value:e,done:t}}function rn(e){var t=e[Vt];if(null!==t){var n=e[Jt].read();null!==n&&(e[Yt]=null,e[Vt]=null,e[Gt]=null,t(nn(n,!1)))}}function on(e){process.nextTick(rn,e)}function an(){Ut={},Ht=qt(),Vt=Symbol("lastResolve"),Gt=Symbol("lastReject"),zt=Symbol("error"),Kt=Symbol("ended"),Yt=Symbol("lastPromise"),Zt=Symbol("handlePromise"),Jt=Symbol("stream"),Qt=Object.getPrototypeOf((function(){})),Xt=Object.setPrototypeOf((tn($t={get stream(){return this[Jt]},next:function(){var e=this,t=this[zt];if(null!==t)return Promise.reject(t);if(this[Kt])return Promise.resolve(nn(void 0,!0));if(this[Jt].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[zt]?n(e[zt]):t(nn(void 0,!0))}))}));var n,r=this[Yt];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[Kt]?n(nn(void 0,!0)):t[Zt](n,r)}),r)}}(r,this));else{var i=this[Jt].read();if(null!==i)return Promise.resolve(nn(i,!1));n=new Promise(this[Zt])}return this[Yt]=n,n}},Symbol.asyncIterator,(function(){return this})),tn($t,"return",(function(){var e=this;return new Promise((function(t,n){e[Jt].destroy(null,(function(e){e?n(e):t(nn(void 0,!0))}))}))})),$t),Qt),Ut=function(e){var t,n=Object.create(Xt,(tn(t={},Jt,{value:e,writable:!0}),tn(t,Vt,{value:null,writable:!0}),tn(t,Gt,{value:null,writable:!0}),tn(t,zt,{value:null,writable:!0}),tn(t,Kt,{value:e._readableState.endEmitted,writable:!0}),tn(t,Zt,{value:function(e,t){var r=n[Jt].read();r?(n[Yt]=null,n[Vt]=null,n[Gt]=null,e(nn(r,!1))):(n[Vt]=e,n[Gt]=t)},writable:!0}),t));return n[Yt]=null,Ht(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[Gt];return null!==t&&(n[Yt]=null,n[Vt]=null,n[Gt]=null,t(e)),void(n[zt]=e)}var r=n[Vt];null!==r&&(n[Yt]=null,n[Vt]=null,n[Gt]=null,r(nn(void 0,!0))),n[Kt]=!0})),e.on("readable",on.bind(null,n)),n}}var sn,un=!1;function cn(){return un||(un=!0,sn={},sn=function(){throw new Error("Readable.from is not available in the browser")}),sn}var ln,fn,hn,dn,pn,gn,bn,yn,vn,_n,mn,wn,Sn,En,Rn,jn,xn,Pn,On,Tn,Mn,Dn,kn,Cn=!1;function An(e,t,n){fn=fn||lt(),e=e||{},"boolean"!=typeof n&&(n=t instanceof fn),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=wn(this,e,"readableHighWaterMark",n),this.buffer=new vn,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Pn||(Pn=Bt().StringDecoder),this.decoder=new Pn(e.encoding),this.encoding=e.encoding)}function Bn(e){if(fn=fn||lt(),!(this instanceof Bn))return new Bn(e);var t=this instanceof fn;this._readableState=new An(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),dn.call(this)}function Ln(e,t,n,r,i){yn("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(yn("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?Fn(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Wn(e)))}(e,a);else if(i||(o=function(e,t){var n;(function(e){return pn.isBuffer(e)||e instanceof gn})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new En("chunk",["string","Buffer","Uint8Array"],t));return n}(a,t)),o)Mn(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===pn.prototype||(t=function(e){return pn.from(e)}(t)),r)a.endEmitted?Mn(e,new xn):In(e,a,t,!0);else if(a.ended)Mn(e,new Rn);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?In(e,a,t,!1):qn(e,a)):In(e,a,t,!1)}else r||(a.reading=!1,qn(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function In(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&Fn(e)),qn(e,t)}function Nn(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=kn?e=kn:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function Fn(e){var t=e._readableState;yn("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(yn("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Wn,e))}function Wn(e){var t=e._readableState;yn("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Gn(e)}function qn(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(Un,e,t))}function Un(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(yn("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function $n(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Hn(e){yn("readable nexttick read 0"),e.read(0)}function Vn(e,t){yn("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Gn(e),t.flowing&&!t.reading&&e.read(0)}function Gn(e){var t=e._readableState;for(yn("flow",t.flowing);t.flowing&&null!==e.read(););}function zn(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function Kn(e){var t=e._readableState;yn("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Yn,t,e))}function Yn(e,t){if(yn("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Zn(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Jn(){ln={},ln=Bn,Bn.ReadableState=An,a.EventEmitter,hn=function(e,t){return e.listeners(t).length},dn=L(),pn=n.Buffer,gn=u.Uint8Array||function(){},yn=(bn={})&&bn.debuglog?bn.debuglog("stream"):function(){},vn=I,_n=Q(),mn=le(),wn=mn.getHighWaterMark,Sn=oe().codes,En=Sn.ERR_INVALID_ARG_TYPE,Rn=Sn.ERR_STREAM_PUSH_AFTER_EOF,jn=Sn.ERR_METHOD_NOT_IMPLEMENTED,xn=Sn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,de()(Bn,dn),Mn=_n.errorOrDestroy,Dn=["error","close","destroy","pause","resume"],Object.defineProperty(Bn.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Bn.prototype.destroy=_n.destroy,Bn.prototype._undestroy=_n.undestroy,Bn.prototype._destroy=function(e,t){t(e)},Bn.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=pn.from(e,t),t=""),n=!0),Ln(this,e,t,!1,n)},Bn.prototype.unshift=function(e){return Ln(this,e,null,!0,!1)},Bn.prototype.isPaused=function(){return!1===this._readableState.flowing},Bn.prototype.setEncoding=function(e){Pn||(Pn=Bt().StringDecoder);var t=new Pn(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},kn=1073741824,Bn.prototype.read=function(e){yn("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return yn("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Kn(this):Fn(this),null;if(0===(e=Nn(e,t))&&t.ended)return 0===t.length&&Kn(this),null;var r,i=t.needReadable;return yn("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&yn("length less than watermark",i=!0),t.ended||t.reading?yn("reading or ended",i=!1):i&&(yn("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Nn(n,t))),null===(r=e>0?zn(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Kn(this)),null!==r&&this.emit("data",r),r},Bn.prototype._read=function(e){Mn(this,new jn("_read()"))},Bn.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,yn("pipe count=%d opts=%j",r.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:d;function o(t,i){yn("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,yn("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",s),e.removeListener("error",l),e.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",d),n.removeListener("data",c),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}function a(){yn("onend"),e.end()}r.endEmitted?process.nextTick(i):n.once("end",i),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;yn("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&hn(e,"data")&&(t.flowing=!0,Gn(e))}}(n);e.on("drain",s);var u=!1;function c(t){yn("ondata");var i=e.write(t);yn("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==Zn(r.pipes,e))&&!u&&(yn("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function l(t){yn("onerror",t),d(),e.removeListener("error",l),0===hn(e,"error")&&Mn(e,t)}function f(){e.removeListener("finish",h),d()}function h(){yn("onfinish"),e.removeListener("close",f),d()}function d(){yn("unpipe"),n.unpipe(e)}return n.on("data",c),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",l),e.once("close",f),e.once("finish",h),e.emit("pipe",n),r.flowing||(yn("pipe resume"),n.resume()),e},Bn.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Zn(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},Bn.prototype.on=function(e,t){var n=dn.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,yn("on readable",r.length,r.reading),r.length?Fn(this):r.reading||process.nextTick(Hn,this))),n},Bn.prototype.addListener=Bn.prototype.on,Bn.prototype.removeListener=function(e,t){var n=dn.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick($n,this),n},Bn.prototype.removeAllListeners=function(e){var t=dn.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick($n,this),t},Bn.prototype.resume=function(){var e=this._readableState;return e.flowing||(yn("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(Vn,e,t))}(this,e)),e.paused=!1,this},Bn.prototype.pause=function(){return yn("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(yn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Bn.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(yn("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(yn("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Dn.length;o++)e.on(Dn[o],this.emit.bind(this,Dn[o]));return this._read=function(t){yn("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(Bn.prototype[Symbol.asyncIterator]=function(){return void 0===On&&(en||(en=!0,an()),On=Ut),On(this)}),Object.defineProperty(Bn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Bn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Bn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),Bn._fromList=zn,Object.defineProperty(Bn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Bn.from=function(e,t){return void 0===Tn&&(Tn=cn()),Tn(Bn,e,t)})}function Qn(){return Cn||(Cn=!0,Jn()),ln}var Xn=D=A=Qn();A.Stream=Xn;var er=D;A.Readable=er;var tr=Qe();A.Writable=tr;var nr=lt();A.Duplex=nr;var rr={};rr=fr;var ir=oe().codes,or=ir.ERR_METHOD_NOT_IMPLEMENTED,ar=ir.ERR_MULTIPLE_CALLBACK,sr=ir.ERR_TRANSFORM_ALREADY_TRANSFORMING,ur=ir.ERR_TRANSFORM_WITH_LENGTH_0,cr=lt();function lr(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new ar);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function fr(e){if(!(this instanceof fr))return new fr(e);cr.call(this,e),this._transformState={afterTransform:lr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",hr)}function hr(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?dr(this,null,null):this._flush((function(t,n){dr(e,t,n)}))}function dr(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new ur;if(e._transformState.transforming)throw new sr;return e.push(null)}de()(fr,cr),fr.prototype.push=function(e,t){return this._transformState.needTransform=!1,cr.prototype.push.call(this,e,t)},fr.prototype._transform=function(e,t,n){n(new or("_transform()"))},fr.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},fr.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},fr.prototype._destroy=function(e,t){cr.prototype._destroy.call(this,e,(function(e){t(e)}))},A.Transform=rr;var pr;function gr(e){if(!(this instanceof gr))return new gr(e);rr.call(this,e)}pr=gr,de()(gr,rr),gr.prototype._transform=function(e,t,n){n(null,e)},A.PassThrough=pr;var br=qt();A.finished=br;var yr,vr;var _r=oe().codes,mr=_r.ERR_MISSING_ARGS,wr=_r.ERR_STREAM_DESTROYED;function Sr(e){if(e)throw e}function Er(e,t,n,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var i=!1;e.on("close",(function(){i=!0})),void 0===vr&&(vr=qt()),vr(e,{readable:t,writable:n},(function(e){if(e)return r(e);i=!0,r()}));var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void r(t||new wr("pipe"))}}function Rr(e){e()}function jr(e,t){return e.pipe(t)}function xr(e){return e.length?"function"!=typeof e[e.length-1]?Sr:e.pop():Sr}yr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=xr(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new mr("streams");var o=t.map((function(e,n){var a=n<t.length-1;return Er(e,a,n>0,(function(e){r||(r=e),e&&o.forEach(Rr),a||(o.forEach(Rr),i(r))}))}));return t.reduce(jr)},A.pipeline=yr;const Pr=A.Duplex,Or=de();var Tr={};const{Buffer:Mr}=n,Dr=Symbol.for("BufferList");function kr(e){if(!(this instanceof kr))return new kr(e);kr._init.call(this,e)}function Cr(e){if(!(this instanceof Cr))return new Cr(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}Tr._init.call(this,e),Pr.call(this)}kr._init=function(e){Object.defineProperty(this,Dr,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},kr.prototype._new=function(e){return new kr(e)},kr.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},kr.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},kr.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},kr.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},kr.prototype.copy=function(e,t,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return e||Mr.alloc(0);if(r<=0)return e||Mr.alloc(0);const i=!!e,o=this._offset(n),a=r-n;let s=a,u=i&&t||0,c=o[1];if(0===n&&r===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:Mr.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(s<=this._bufs[o[0]].length-c)return i?this._bufs[o[0]].copy(e,t,c,c+s):this._bufs[o[0]].slice(c,c+s);i||(e=Mr.allocUnsafe(a));for(let t=o[0];t<this._bufs.length;t++){const n=this._bufs[t].length-c;if(!(s>n)){this._bufs[t].copy(e,u,c,c+s),u+=n;break}this._bufs[t].copy(e,u,c),u+=n,s-=n,c&&(c=0)}return e.length>u?e.slice(0,u):e},kr.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},kr.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},kr.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},kr.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},kr.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(Mr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(Mr.from(e));return this},kr.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},kr.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=Mr.from([e]):"string"==typeof e?e=Mr.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=Mr.from(e.buffer,e.byteOffset,e.byteLength):Mr.isBuffer(e)||(e=Mr.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const r=this._offset(t);let i=r[0],o=r[1];for(;i<this._bufs.length;i++){const t=this._bufs[i];for(;o<t.length;){if(t.length-o>=e.length){const n=t.indexOf(e,o);if(-1!==n)return this._reverseOffset([i,n]);o=t.length-e.length+1}else{const t=this._reverseOffset([i,o]);if(this._match(t,e))return t;o++}}o=0}return-1},kr.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){kr.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),kr.prototype._isBufferList=function(e){return e instanceof kr||kr.isBufferList(e)},kr.isBufferList=function(e){return null!=e&&e[Dr]},Tr=kr,Or(Cr,Pr),Object.assign(Cr.prototype,Tr.prototype),Cr.prototype._new=function(e){return new Cr(e)},Cr.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},Cr.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},Cr.prototype.end=function(e){Pr.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},Cr.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},Cr.prototype._isBufferList=function(e){return e instanceof Cr||e instanceof Tr||Cr.isBufferList(e)},Cr.isBufferList=Tr.isBufferList;var Ar=Cr;(C=Cr).BufferListStream=Ar,C.BufferList=Tr;var Br,Lr=au(((...e)=>{const t=M(...e),n=t.stdout?new C:"",r=t.stderr?new C:"";t.stdout&&t.stdout.on("data",(e=>{n.append(e)})),t.stderr&&t.stderr.on("data",(e=>{r.append(e)}));const i=new Promise(((e,i)=>{t.on("error",i),t.on("exit",(t=>{if(0===t)e(n);else{const e=new Error("child exited with code "+t);e.code=t,e.stderr=r,e.stdout=n,i(e)}}))}));return i.child=t,i})),Ir={};Br=Ir,Object.defineProperty(Br,"__esModule",{value:!0});var Nr;Nr=fi,fi.Minimatch=hi;var Fr={sep:"/"};try{Fr=function(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}("path")}catch(e){}var Wr,qr=fi.GLOBSTAR=hi.GLOBSTAR={},Ur={};Wr=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);$r(i)?n.push.apply(n,i):n.push(i)}return n};var $r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Hr={};function Vr(e,t,n){e instanceof RegExp&&(e=Gr(e,n)),t instanceof RegExp&&(t=Gr(t,n));var r=zr(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Gr(e,t){var n=t.match(e);return n?n[0]:null}function zr(e,t,n){var r,i,o,a,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){for(r=[],o=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<o&&(o=i,a=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[o,a])}return s}Hr=Vr,Vr.range=zr,Ur=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return ai(function(e){return e.split("\\\\").join(Kr).split("\\{").join(Yr).split("\\}").join(Zr).split("\\,").join(Jr).split("\\.").join(Qr)}(e),!0).map(ei)};var Kr="\0SLASH"+Math.random()+"\0",Yr="\0OPEN"+Math.random()+"\0",Zr="\0CLOSE"+Math.random()+"\0",Jr="\0COMMA"+Math.random()+"\0",Qr="\0PERIOD"+Math.random()+"\0";function Xr(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function ei(e){return e.split(Kr).join("\\").split(Yr).join("{").split(Zr).join("}").split(Jr).join(",").split(Qr).join(".")}function ti(e){if(!e)return[""];var t=[],n=Hr("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,o=n.post,a=r.split(",");a[a.length-1]+="{"+i+"}";var s=ti(o);return o.length&&(a[a.length-1]+=s.shift(),a.push.apply(a,s)),t.push.apply(t,a),t}function ni(e){return"{"+e+"}"}function ri(e){return/^-?0\d/.test(e)}function ii(e,t){return e<=t}function oi(e,t){return e>=t}function ai(e,t){var n=[],r=Hr("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),s=o||a,u=r.body.indexOf(",")>=0;if(!s&&!u)return r.post.match(/,.*\}/)?ai(e=r.pre+"{"+r.body+Zr+r.post):[e];if(s)i=r.body.split(/\.\./);else if(1===(i=ti(r.body)).length&&1===(i=ai(i[0],!1).map(ni)).length)return(f=r.post.length?ai(r.post,!1):[""]).map((function(e){return r.pre+i[0]+e}));var c,l=r.pre,f=r.post.length?ai(r.post,!1):[""];if(s){var h=Xr(i[0]),d=Xr(i[1]),p=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(Xr(i[2])):1,b=ii;d<h&&(g*=-1,b=oi);var y=i.some(ri);c=[];for(var v=h;b(v,d);v+=g){var _;if(a)"\\"===(_=String.fromCharCode(v))&&(_="");else if(_=String(v),y){var m=p-_.length;if(m>0){var w=new Array(m+1).join("0");_=v<0?"-"+w+_.slice(1):w+_}}c.push(_)}}else c=Wr(i,(function(e){return ai(e,!1)}));for(var S=0;S<c.length;S++)for(var E=0;E<f.length;E++){var R=l+c[S]+f[E];(!t||s||R)&&n.push(R)}return n}var si={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ui="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var ci=/\/+/;function li(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function fi(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new hi(t,n).match(e))}function hi(e,t){if(!(this instanceof hi))return new hi(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==Fr.sep&&(e=e.split(Fr.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function di(e,t){if(t||(t=this instanceof hi?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:Ur(e)}fi.filter=function(e,t){return t=t||{},function(n,r,i){return fi(n,e,t)}},fi.defaults=function(e){if(!e||!Object.keys(e).length)return fi;var t=fi,n=function(n,r,i){return t.minimatch(n,r,li(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,li(e,r))},n},hi.defaults=function(e){return e&&Object.keys(e).length?fi.defaults(e).Minimatch:hi},hi.prototype.debug=function(){},hi.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(ci)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},hi.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},fi.braceExpand=function(e,t){return di(e,t)},hi.prototype.braceExpand=di,hi.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return qr;if(""===e)return"";var r,i="",o=!!n.nocase,a=!1,s=[],u=[],c=!1,l=-1,f=-1,h="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function p(){if(r){switch(r){case"*":i+="[^/]*?",o=!0;break;case"?":i+="[^/]",o=!0;break;default:i+="\\"+r}d.debug("clearStateChar %j %j",r,i),r=!1}}for(var g,b=0,y=e.length;b<y&&(g=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,i,g),a&&ui[g])i+="\\"+g,a=!1;else switch(g){case"/":return!1;case"\\":p(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,i,g),c){this.debug("  in class"),"!"===g&&b===f+1&&(g="^"),i+=g;continue}d.debug("call clearStateChar %j",r),p(),r=g,n.noext&&p();continue;case"(":if(c){i+="(";continue}if(!r){i+="\\(";continue}s.push({type:r,start:b-1,reStart:i.length,open:si[r].open,close:si[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(c||!s.length){i+="\\)";continue}p(),o=!0;var v=s.pop();i+=v.close,"!"===v.type&&u.push(v),v.reEnd=i.length;continue;case"|":if(c||!s.length||a){i+="\\|",a=!1;continue}p(),i+="|";continue;case"[":if(p(),c){i+="\\"+g;continue}c=!0,f=b,l=i.length,i+=g;continue;case"]":if(b===f+1||!c){i+="\\"+g,a=!1;continue}if(c){var _=e.substring(f+1,b);try{RegExp("["+_+"]")}catch(e){var m=this.parse(_,pi);i=i.substr(0,l)+"\\["+m[0]+"\\]",o=o||m[1],c=!1;continue}}o=!0,c=!1,i+=g;continue;default:p(),a?a=!1:!ui[g]||"^"===g&&c||(i+="\\"),i+=g}c&&(_=e.substr(f+1),m=this.parse(_,pi),i=i.substr(0,l)+"\\["+m[0],o=o||m[1]);for(v=s.pop();v;v=s.pop()){var w=i.slice(v.reStart+v.open.length);this.debug("setting tail",i,v),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",w,w,v,i);var S="*"===v.type?"[^/]*?":"?"===v.type?"[^/]":"\\"+v.type;o=!0,i=i.slice(0,v.reStart)+S+"\\("+w}p(),a&&(i+="\\\\");var E=!1;switch(i.charAt(0)){case".":case"[":case"(":E=!0}for(var R=u.length-1;R>-1;R--){var j=u[R],x=i.slice(0,j.reStart),P=i.slice(j.reStart,j.reEnd-8),O=i.slice(j.reEnd-8,j.reEnd),T=i.slice(j.reEnd);O+=T;var M=x.split("(").length-1,D=T;for(b=0;b<M;b++)D=D.replace(/\)[+*?]?/,"");var k="";""===(T=D)&&t!==pi&&(k="$"),i=x+P+T+k+O}""!==i&&o&&(i="(?=.)"+i);E&&(i=h+i);if(t===pi)return[i,o];if(!o)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var C=n.nocase?"i":"";try{var A=new RegExp("^"+i+"$",C)}catch(e){return new RegExp("$.")}return A._glob=e,A._src=i,A};var pi={};fi.makeRe=function(e,t){return new hi(e,t||{}).makeRe()},hi.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===qr?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp},fi.match=function(e,t,n){var r=new hi(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},hi.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==Fr.sep&&(e=e.split(Fr.sep).join("/"));e=e.split(ci),this.debug(this.pattern,"split",e);var r,i,o=this.set;for(this.debug(this.pattern,"set",o),i=e.length-1;i>=0&&!(r=e[i]);i--);for(i=0;i<o.length;i++){var a=o[i],s=e;if(n.matchBase&&1===a.length&&(s=[r]),this.matchOne(s,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},hi.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,s=t.length;i<a&&o<s;i++,o++){this.debug("matchOne loop");var u,c=t[o],l=e[i];if(this.debug(t,c,l),!1===c)return!1;if(c===qr){this.debug("GLOBSTAR",[t,c,l]);var f=i,h=o+1;if(h===s){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;f<a;){var d=e[f];if(this.debug("\nglobstar while",e,f,t,h,d),this.matchOne(e.slice(f),t.slice(h),n))return this.debug("globstar found match!",f,a,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,f,t,h);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,h),f!==a))}if("string"==typeof c?(u=r.nocase?l.toLowerCase()===c.toLowerCase():l===c,this.debug("string match",c,l,u)):(u=l.match(c),this.debug("pattern match",c,l,u)),!u)return!1}if(i===a&&o===s)return!0;if(i===a)return n;if(o===s)return i===a-1&&""===e[i];throw new Error("wtf?")};var gi={},bi={};Object.defineProperty(bi,"__esModule",{value:!0});var yi=mi;bi.merge=yi;var vi=wi;bi.unique=vi;var _i=function(e,t){return mi(e,t),wi(e)};function mi(e,t){t.length&&Array.prototype.push.apply(e,t)}function wi(e){return[...new Set(e)]}bi.union=_i;var Si="object"==typeof self&&self.self===self&&self||"object"==typeof u&&u.global===u&&u||Function("return this")()||{},Ei=Array.prototype,Ri=Object.prototype,ji="undefined"!=typeof Symbol?Symbol.prototype:null,xi=Ei.push,Pi=Ei.slice,Oi=Ri.toString,Ti=Ri.hasOwnProperty,Mi="undefined"!=typeof ArrayBuffer,Di="undefined"!=typeof DataView,ki=Array.isArray,Ci=Object.keys,Ai=Object.create,Bi=Mi&&ArrayBuffer.isView,Li=isNaN,Ii=isFinite,Ni=!{toString:null}.propertyIsEnumerable("toString"),Fi=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Wi=Math.pow(2,53)-1;function qi(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function Ui(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function $i(e){return null===e}function Hi(e){return void 0===e}function Vi(e){return!0===e||!1===e||"[object Boolean]"===Oi.call(e)}function Gi(e){return!(!e||1!==e.nodeType)}function zi(e){var t="[object "+e+"]";return function(e){return Oi.call(e)===t}}var Ki=zi("String"),Yi=zi("Number"),Zi=zi("Date"),Ji=zi("RegExp"),Qi=zi("Error"),Xi=zi("Symbol"),eo=zi("ArrayBuffer"),to=zi("DataView"),no=zi("Object"),ro=Di&&no(new DataView(new ArrayBuffer(8))),io="undefined"!=typeof Map&&no(new Map);function oo(e){return function(t){return null==t?void 0:t[e]}}var ao=oo("length"),so=zi("Function"),uo=Si.document&&Si.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof uo&&(so=function(e){return"function"==typeof e||!1});var co=so;function lo(e,t){return null!=e&&Ti.call(e,t)}function fo(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=Fi.length,r=e.constructor,i=co(r)&&r.prototype||Ri,o="constructor";for(lo(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=Fi[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function ho(e){if(!Ui(e))return[];var t=[];for(var n in e)t.push(n);return Ni&&fo(e,t),t}function po(e){var t=ao(e);return function(n){if(null==n)return!1;var r=ho(n);if(ao(r))return!1;for(var i=0;i<t;i++)if(!co(n[e[i]]))return!1;return e!==_o||!co(n[go])}}var go="forEach",bo=["clear","delete"],yo=["get","has","set"],vo=bo.concat(go,yo),_o=bo.concat(yo),mo=["add"].concat(bo,go,"has"),wo=io?po(vo):zi("Map");var So=io?po(_o):zi("WeakMap"),Eo=ro?function(e){return null!=e&&co(e.getInt8)&&eo(e.buffer)}:to,Ro=io?po(mo):zi("Set"),jo=zi("WeakSet"),xo=ki||zi("Array"),Po=zi("Arguments");!function(){Po(arguments)||(Po=function(e){return lo(e,"callee")})}();var Oo=Po;function To(e){return!Xi(e)&&Ii(e)&&!isNaN(parseFloat(e))}function Mo(e){return Yi(e)&&Li(e)}function Do(e){return function(){return e}}function ko(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=Wi}}var Co=oo("byteLength"),Ao=ko(Co),Bo=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Lo=Mi?function(e){return Bi?Bi(e)&&!Eo(e):Ao(e)&&Bo.test(Oi.call(e))}:Do(!1);function Io(e){if(!Ui(e))return[];if(Ci)return Ci(e);var t=[];for(var n in e)lo(e,n)&&t.push(n);return Ni&&fo(e,t),t}function No(e){if(null==e)return!0;var t=ao(e);return"number"==typeof t&&(xo(e)||Ki(e)||Oo(e))?0===t:0===ao(Io(e))}function Fo(e,t){var n=Io(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function Wo(e){return e instanceof Wo?e:this instanceof Wo?void(this._wrapped=e):new Wo(e)}function qo(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Co(e))}Wo.VERSION="1.12.0",Wo.prototype.value=function(){return this._wrapped},Wo.prototype.valueOf=Wo.prototype.toJSON=Wo.prototype.value,Wo.prototype.toString=function(){return String(this._wrapped)};function Uo(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&$o(e,t,n,r)}function $o(e,t,n,r){e instanceof Wo&&(e=e._wrapped),t instanceof Wo&&(t=t._wrapped);var i=Oi.call(e);if(i!==Oi.call(t))return!1;if(ro&&"[object Object]"==i&&Eo(e)){if(!Eo(t))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return ji.valueOf.call(e)===ji.valueOf.call(t);case"[object ArrayBuffer]":case"[object DataView]":return $o(qo(e),qo(t),n,r)}var o="[object Array]"===i;if(!o&&Lo(e)){if(Co(e)!==Co(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(co(a)&&a instanceof a&&co(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Uo(e[u],t[u],n,r))return!1}else{var c,l=Io(e);if(u=l.length,Io(t).length!==u)return!1;for(;u--;)if(!lo(t,c=l[u])||!Uo(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0}function Ho(e,t){return Uo(e,t)}function Vo(e){for(var t=Io(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Go(e){for(var t=Io(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function zo(e){for(var t={},n=Io(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Ko(e){var t=[];for(var n in e)co(e[n])&&t.push(n);return t.sort()}function Yo(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}}var Zo=Yo(ho),Jo=Yo(Io),Qo=Yo(ho,!0);function Xo(e){if(!Ui(e))return{};if(Ai)return Ai(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function ea(e,t){var n=Xo(e);return t&&Jo(n,t),n}function ta(e){return Ui(e)?xo(e)?e.slice():Zo({},e):e}function na(e,t){return t(e),e}function ra(e){return xo(e)?e:[e]}function ia(e){return Wo.toPath(e)}function oa(e,t){for(var n=(t=ia(t)).length,r=0;r<n;r++){var i=t[r];if(!lo(e,i))return!1;e=e[i]}return!!n}function aa(e){return e}function sa(e){return e=Jo({},e),function(t){return Fo(t,e)}}function ua(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function ca(e){return e=ia(e),function(t){return ua(t,e)}}function la(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function fa(e,t,n){return null==e?aa:co(e)?la(e,t,n):Ui(e)&&!xo(e)?sa(e):ca(e)}function ha(e,t){return fa(e,t,1/0)}function da(e,t,n){return Wo.iteratee!==ha?Wo.iteratee(e,t):fa(e,t,n)}function pa(e,t,n){t=da(t,n);for(var r=Io(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o}function ga(){}function ba(e,t,n){var r=ua(e,ia(t));return Hi(r)?n:r}function ya(e){return null==e?ga:function(t){return ba(e,t)}}function va(e,t,n){var r=Array(Math.max(0,e));t=la(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function _a(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}Wo.toPath=ra,Wo.iteratee=ha;var ma=Date.now||function(){return(new Date).getTime()};function wa(e){var t=function(t){return e[t]},n="(?:"+Io(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var Sa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ea=wa(Sa),Ra=wa(zo(Sa)),ja=Wo.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},xa=/(.)^/,Pa={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Oa=/\\|'|\r|\n|\u2028|\u2029/g;function Ta(e){return"\\"+Pa[e]}function Ma(e,t,n){!t&&n&&(t=n),t=Qo({},t,Wo.templateSettings);var r,i=RegExp([(t.escape||xa).source,(t.interpolate||xa).source,(t.evaluate||xa).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,(function(t,n,r,i,s){return a+=e.slice(o,s).replace(Oa,Ta),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t})),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,Wo)},u=t.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s}function Da(e,t,n){var r=(t=ia(t)).length;if(!r)return co(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=co(o)?o.call(e):o}return e}var ka=0;function Ca(e){var t=++ka+"";return e?e+t:t}function Aa(e){var t=Wo(e);return t._chain=!0,t}function Ba(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Xo(e.prototype),a=e.apply(o,i);return Ui(a)?a:o}var La=qi((function(e,t){var n=La.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return Ba(e,r,this,this,a)};return r}));La.placeholder=Wo;var Ia=qi((function(e,t,n){if(!co(e))throw new TypeError("Bind must be called on a function");var r=qi((function(i){return Ba(e,r,t,this,n.concat(i))}));return r})),Na=ko(ao);function Fa(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,a=ao(e);o<a;o++){var s=e[o];if(Na(s)&&(xo(s)||Oo(s)))if(t>1)Fa(s,t-1,n,r),i=r.length;else for(var u=0,c=s.length;u<c;)r[i++]=s[u++];else n||(r[i++]=s)}return r}var Wa=qi((function(e,t){var n=(t=Fa(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Ia(e[r],e)}return e}));function qa(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return lo(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}var Ua=qi((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),$a=La(Ua,Wo,1);function Ha(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:ma(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=ma();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}function Va(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=qi((function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=Ua(o,t,this,a);return i}));return a.cancel=function(){clearTimeout(r),r=null},a}function Ga(e,t){return La(t,e)}function za(e){return function(){return!e.apply(this,arguments)}}function Ka(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Ya(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Za(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var Ja=La(Za,2);function Qa(e,t,n){t=da(t,n);for(var r,i=Io(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r}function Xa(e){return function(t,n,r){n=da(n,r);for(var i=ao(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var es=Xa(1),ts=Xa(-1);function ns(e,t,n,r){for(var i=(n=da(n,r,1))(t),o=0,a=ao(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o}function rs(e,t,n){return function(r,i,o){var a=0,s=ao(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(Pi.call(r,a,s),Mo))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}var is=rs(1,es,ns),os=rs(-1,ts);function as(e,t,n){var r=(Na(e)?es:Qa)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function ss(e,t){return as(e,sa(t))}function us(e,t,n){var r,i;if(t=la(t,n),Na(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=Io(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function cs(e,t,n){t=da(t,n);for(var r=!Na(e)&&Io(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o}function ls(e){var t=function(t,n,r,i){var o=!Na(t)&&Io(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var u=o?o[s]:s;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,la(n,i,4),r,o)}}var fs=ls(1),hs=ls(-1);function ds(e,t,n){var r=[];return t=da(t,n),us(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function ps(e,t,n){return ds(e,za(da(t)),n)}function gs(e,t,n){t=da(t,n);for(var r=!Na(e)&&Io(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0}function bs(e,t,n){t=da(t,n);for(var r=!Na(e)&&Io(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1}function ys(e,t,n,r){return Na(e)||(e=Vo(e)),("number"!=typeof n||r)&&(n=0),is(e,t,n)>=0}var vs=qi((function(e,t,n){var r,i;return co(t)?i=t:(t=ia(t),r=t.slice(0,-1),t=t[t.length-1]),cs(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=ua(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function _s(e,t){return cs(e,ca(t))}function ms(e,t){return ds(e,sa(t))}function ws(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=Na(e)?e:Vo(e)).length;s<u;s++)null!=(r=e[s])&&r>o&&(o=r);else t=da(t,n),us(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}function Ss(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=Na(e)?e:Vo(e)).length;s<u;s++)null!=(r=e[s])&&r<o&&(o=r);else t=da(t,n),us(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o}function Es(e,t,n){if(null==t||n)return Na(e)||(e=Vo(e)),e[_a(e.length-1)];var r=Na(e)?ta(e):Vo(e),i=ao(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=_a(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,t)}function Rs(e){return Es(e,1/0)}function js(e,t,n){var r=0;return t=da(t,n),_s(cs(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function xs(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=da(r,i),us(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}}var Ps=xs((function(e,t,n){lo(e,n)?e[n].push(t):e[n]=[t]})),Os=xs((function(e,t,n){e[n]=t})),Ts=xs((function(e,t,n){lo(e,n)?e[n]++:e[n]=1})),Ms=xs((function(e,t,n){e[n?0:1].push(t)}),!0),Ds=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ks(e){return e?xo(e)?Pi.call(e):Ki(e)?e.match(Ds):Na(e)?cs(e,aa):Vo(e):[]}function Cs(e){return null==e?0:Na(e)?e.length:Io(e).length}function As(e,t,n){return t in n}var Bs=qi((function(e,t){var n={},r=t[0];if(null==e)return n;co(r)?(t.length>1&&(r=la(r,t[1])),t=ho(e)):(r=As,t=Fa(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),Ls=qi((function(e,t){var n,r=t[0];return co(r)?(r=za(r),t.length>1&&(n=t[1])):(t=cs(Fa(t,!1,!1),String),r=function(e,n){return!ys(t,n)}),Bs(e,r,n)}));function Is(e,t,n){return Pi.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Ns(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Is(e,e.length-t)}function Fs(e,t,n){return Pi.call(e,null==t||n?1:t)}function Ws(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Fs(e,Math.max(0,e.length-t))}function qs(e){return ds(e,Boolean)}function Us(e,t){return Fa(e,t,!1)}var $s=qi((function(e,t){return t=Fa(t,!0,!0),ds(e,(function(e){return!ys(t,e)}))})),Hs=qi((function(e,t){return $s(e,t)}));function Vs(e,t,n,r){Vi(t)||(r=n,n=t,t=!1),null!=n&&(n=da(n,r));for(var i=[],o=[],a=0,s=ao(e);a<s;a++){var u=e[a],c=n?n(u,a,e):u;t&&!n?(a&&o===c||i.push(u),o=c):n?ys(o,c)||(o.push(c),i.push(u)):ys(i,u)||i.push(u)}return i}var Gs=qi((function(e){return Vs(Fa(e,!0,!0))}));function zs(e){for(var t=[],n=arguments.length,r=0,i=ao(e);r<i;r++){var o=e[r];if(!ys(t,o)){var a;for(a=1;a<n&&ys(arguments[a],o);a++);a===n&&t.push(o)}}return t}function Ks(e){for(var t=e&&ws(e,ao).length||0,n=Array(t),r=0;r<t;r++)n[r]=_s(e,r);return n}var Ys=qi(Ks);function Zs(e,t){for(var n={},r=0,i=ao(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Js(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function Qs(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(Pi.call(e,r,r+=t));return n}function Xs(e,t){return e._chain?Wo(t).chain():t}function eu(e){return us(Ko(e),(function(t){var n=Wo[t]=e[t];Wo.prototype[t]=function(){var e=[this._wrapped];return xi.apply(e,arguments),Xs(this,n.apply(Wo,e))}})),Wo}us(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=Ei[e];Wo.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Xs(this,n)}})),us(["concat","join","slice"],(function(e){var t=Ei[e];Wo.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Xs(this,e)}})),s(gi,"VERSION",(function(){return"1.12.0"})),s(gi,"restArguments",(function(){return qi})),s(gi,"isObject",(function(){return Ui})),s(gi,"isNull",(function(){return $i})),s(gi,"isUndefined",(function(){return Hi})),s(gi,"isBoolean",(function(){return Vi})),s(gi,"isElement",(function(){return Gi})),s(gi,"isString",(function(){return Ki})),s(gi,"isNumber",(function(){return Yi})),s(gi,"isDate",(function(){return Zi})),s(gi,"isRegExp",(function(){return Ji})),s(gi,"isError",(function(){return Qi})),s(gi,"isSymbol",(function(){return Xi})),s(gi,"isArrayBuffer",(function(){return eo})),s(gi,"isDataView",(function(){return Eo})),s(gi,"isArray",(function(){return xo})),s(gi,"isFunction",(function(){return co})),s(gi,"isArguments",(function(){return Oo})),s(gi,"isFinite",(function(){return To})),s(gi,"isNaN",(function(){return Mo})),s(gi,"isTypedArray",(function(){return Lo})),s(gi,"isEmpty",(function(){return No})),s(gi,"isMatch",(function(){return Fo})),s(gi,"isEqual",(function(){return Ho})),s(gi,"isMap",(function(){return wo})),s(gi,"isWeakMap",(function(){return So})),s(gi,"isSet",(function(){return Ro})),s(gi,"isWeakSet",(function(){return jo})),s(gi,"keys",(function(){return Io})),s(gi,"allKeys",(function(){return ho})),s(gi,"values",(function(){return Vo})),s(gi,"pairs",(function(){return Go})),s(gi,"invert",(function(){return zo})),s(gi,"methods",(function(){return Ko})),s(gi,"functions",(function(){return Ko})),s(gi,"extend",(function(){return Zo})),s(gi,"assign",(function(){return Jo})),s(gi,"extendOwn",(function(){return Jo})),s(gi,"defaults",(function(){return Qo})),s(gi,"create",(function(){return ea})),s(gi,"clone",(function(){return ta})),s(gi,"tap",(function(){return na})),s(gi,"get",(function(){return ba})),s(gi,"has",(function(){return oa})),s(gi,"mapObject",(function(){return pa})),s(gi,"identity",(function(){return aa})),s(gi,"constant",(function(){return Do})),s(gi,"noop",(function(){return ga})),s(gi,"toPath",(function(){return ra})),s(gi,"property",(function(){return ca})),s(gi,"propertyOf",(function(){return ya})),s(gi,"matches",(function(){return sa})),s(gi,"matcher",(function(){return sa})),s(gi,"times",(function(){return va})),s(gi,"random",(function(){return _a})),s(gi,"now",(function(){return ma})),s(gi,"escape",(function(){return Ea})),s(gi,"unescape",(function(){return Ra})),s(gi,"templateSettings",(function(){return ja})),s(gi,"template",(function(){return Ma})),s(gi,"result",(function(){return Da})),s(gi,"uniqueId",(function(){return Ca})),s(gi,"chain",(function(){return Aa})),s(gi,"iteratee",(function(){return ha})),s(gi,"partial",(function(){return La})),s(gi,"bind",(function(){return Ia})),s(gi,"bindAll",(function(){return Wa})),s(gi,"memoize",(function(){return qa})),s(gi,"delay",(function(){return Ua})),s(gi,"defer",(function(){return $a})),s(gi,"throttle",(function(){return Ha})),s(gi,"debounce",(function(){return Va})),s(gi,"wrap",(function(){return Ga})),s(gi,"negate",(function(){return za})),s(gi,"compose",(function(){return Ka})),s(gi,"after",(function(){return Ya})),s(gi,"before",(function(){return Za})),s(gi,"once",(function(){return Ja})),s(gi,"findKey",(function(){return Qa})),s(gi,"findIndex",(function(){return es})),s(gi,"findLastIndex",(function(){return ts})),s(gi,"sortedIndex",(function(){return ns})),s(gi,"indexOf",(function(){return is})),s(gi,"lastIndexOf",(function(){return os})),s(gi,"detect",(function(){return as})),s(gi,"find",(function(){return as})),s(gi,"findWhere",(function(){return ss})),s(gi,"forEach",(function(){return us})),s(gi,"each",(function(){return us})),s(gi,"collect",(function(){return cs})),s(gi,"map",(function(){return cs})),s(gi,"inject",(function(){return fs})),s(gi,"foldl",(function(){return fs})),s(gi,"reduce",(function(){return fs})),s(gi,"foldr",(function(){return hs})),s(gi,"reduceRight",(function(){return hs})),s(gi,"select",(function(){return ds})),s(gi,"filter",(function(){return ds})),s(gi,"reject",(function(){return ps})),s(gi,"all",(function(){return gs})),s(gi,"every",(function(){return gs})),s(gi,"any",(function(){return bs})),s(gi,"some",(function(){return bs})),s(gi,"include",(function(){return ys})),s(gi,"includes",(function(){return ys})),s(gi,"contains",(function(){return ys})),s(gi,"invoke",(function(){return vs})),s(gi,"pluck",(function(){return _s})),s(gi,"where",(function(){return ms})),s(gi,"max",(function(){return ws})),s(gi,"min",(function(){return Ss})),s(gi,"shuffle",(function(){return Rs})),s(gi,"sample",(function(){return Es})),s(gi,"sortBy",(function(){return js})),s(gi,"groupBy",(function(){return Ps})),s(gi,"indexBy",(function(){return Os})),s(gi,"countBy",(function(){return Ts})),s(gi,"partition",(function(){return Ms})),s(gi,"toArray",(function(){return ks})),s(gi,"size",(function(){return Cs})),s(gi,"pick",(function(){return Bs})),s(gi,"omit",(function(){return Ls})),s(gi,"take",(function(){return Ns})),s(gi,"head",(function(){return Ns})),s(gi,"first",(function(){return Ns})),s(gi,"initial",(function(){return Is})),s(gi,"last",(function(){return Ws})),s(gi,"drop",(function(){return Fs})),s(gi,"tail",(function(){return Fs})),s(gi,"rest",(function(){return Fs})),s(gi,"compact",(function(){return qs})),s(gi,"flatten",(function(){return Us})),s(gi,"without",(function(){return Hs})),s(gi,"unique",(function(){return Vs})),s(gi,"uniq",(function(){return Vs})),s(gi,"union",(function(){return Gs})),s(gi,"intersection",(function(){return zs})),s(gi,"difference",(function(){return $s})),s(gi,"transpose",(function(){return Ks})),s(gi,"unzip",(function(){return Ks})),s(gi,"zip",(function(){return Ys})),s(gi,"object",(function(){return Zs})),s(gi,"range",(function(){return Js})),s(gi,"chunk",(function(){return Qs})),s(gi,"mixin",(function(){return eu})),s(gi,"default",(function(){return Wo}));var tu,nu,ru=eu(gi);ru._=ru,tu=Ir,nu=gi,Object.keys(nu).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(tu,e,{enumerable:!0,get:function(){return nu[e]}})})),s(Ir,"default",(function(){return ru}));var iu=au(Nr),ou=t;function au(e){return e&&e.__esModule?e:{default:e}}class su extends x.EventEmitter{constructor(){super();const e=this.rebuildCache.bind(this);this._projectChangeWatcher=atom.project.onDidChangePaths(e);const t=this._onDidChangeFiles.bind(this);this._projectWatcher=atom.project.onDidChangeFiles(t),this._repositories=[],this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._fileWatchersByDirectory=new Map,this.updateConfig()}updateConfig(){this.config={excludeVcsIgnoredPaths:atom.config.get("core.excludeVcsIgnoredPaths"),ignoreSubmodules:atom.config.get("autocomplete-paths.ignoreSubmodules"),shouldIgnoredNames:atom.config.get("autocomplete-paths.ignoredNames"),ignoredNames:atom.config.get("core.ignoredNames"),ignoredPatterns:atom.config.get("autocomplete-paths.ignoredPatterns"),maxFileCount:atom.config.get("autocomplete-paths.maxFileCount")}}_isPathIgnored(e){let t=!1;return this.config.excludeVcsIgnoredPaths&&this._repositories.forEach((n=>{if(t)return;const r=this.config.ignoreSubmodules&&n.isSubmodule(e);(n.isPathIgnored(e)||r)&&(t=!0)})),this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((n=>{t||(t=t||(0,iu.default)(e,n,{matchBase:!0,dot:!0}))})),this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((n=>{t||(t=t||(0,iu.default)(e,n,{dot:!0}))})),t}async _cacheProjectPathsAndRepositories(){this._projectDirectories=atom.project.getDirectories();const e=this._projectDirectories.length;let t=new Array(e);for(let n=0;n<e;n++)t[n]=atom.project.repositoryForDirectory(this._projectDirectories[n]);const n=await Promise.all(t);this._repositories=n.filter((e=>null!==e))}_onDirectoryChanged(e,t){this._removeFilePathsForDirectory(e,t),this._cleanWatchersForDirectory(t),this._cacheDirectoryFilePaths(e,t)}_cleanWatchersForDirectory(e){this._fileWatchersByDirectory.forEach(((t,n)=>{e.contains(n.path)&&(t.dispose(),this._fileWatchersByDirectory.delete(n))}))}_removeFilePathsForDirectory(e,t){let n=this._filePathsByProjectDirectory.get(e.path);n&&(n=n.filter((e=>!t.contains(e))),this._filePathsByProjectDirectory.set(e.path,n),this._filePathsByDirectory.delete(t.path))}async _cacheDirectoryFilePaths(e,t){if(this._cancelled)return[];if("win32"!==process.platform){let n=this._fileWatchersByDirectory.get(t);n||(n=t.onDidChange((()=>this._onDirectoryChanged(e,t))),this._fileWatchersByDirectory.set(t,n))}const n=await this._getDirectoryEntries(t);if(this._cancelled)return[];let r=[],i=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];t instanceof ou.File&&!this._isPathIgnored(t.path)?r.push(t.path):t instanceof ou.Directory&&!this._isPathIgnored(t.path)&&i.push(t)}let o=this._filePathsByProjectDirectory.get(e.path)||[];return o.length+r.length>this.config.maxFileCount&&!this._cancelled?(atom.notifications.addError("autocomplete-paths",{description:`Maximum file count of ${this.config.maxFileCount} has been exceeded. Path autocompletion will not work in this project.<br /><br /><a href="https://github.com/atom-community/autocomplete-paths/wiki/Troubleshooting#maximum-file-limit-exceeded">Click here to learn more.</a>`,dismissable:!0}),this._filePathsByProjectDirectory.clear(),this._filePathsByDirectory.clear(),this._cancelled=!0,void this.emit("rebuild-cache-done")):(this._filePathsByProjectDirectory.set(e.path,(0,bi.union)(o,r)),o=this._filePathsByDirectory.get(t.path)||[],this._filePathsByDirectory.set(t.path,(0,bi.union)(o,r)),Promise.all(i.map((t=>this._cacheDirectoryFilePaths(e,t)))))}_getDirectoryEntries(e){return new Promise(((t,n)=>{e.getEntries(((e,r)=>{if(e)return n(e);t(r)}))}))}rebuildCache(){return this.dispose(),this._cancelled=!1,this.emit("rebuild-cache"),(0,Lr.default)("find",["--version"]).then((()=>this._buildInitialCacheWithFind()),(()=>this._buildInitialCache()))}async _buildInitialCache(){await this._cacheProjectPathsAndRepositories();const e=await Promise.all(this._projectDirectories.map((e=>this._cacheDirectoryFilePaths(e,e))));return this.emit("rebuild-cache-done"),e}getFilePathsForProjectDirectory(e,t=null){let n=this._filePathsByProjectDirectory.get(e.path)||[];return t?n.filter((e=>0===e.indexOf(t))):n}dispose(e){this._fileWatchersByDirectory.forEach((e=>{e.dispose()})),this._fileWatchersByDirectory=new Map,this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._repositories=[],this._projectWatcher&&(this._projectWatcher.dispose(),this._projectWatcher=null),e&&this._projectChangeWatcher&&(this._projectChangeWatcher.dispose(),this._projectChangeWatcher=null)}async _buildInitialCacheWithFind(){await this._cacheProjectPathsAndRepositories();const e=await Promise.all(this._projectDirectories.map(this._populateCacheFor.bind(this)));return this.emit("rebuild-cache-done"),e}_onDidChangeFiles(e){e.filter((e=>"modified"!==e.action)).forEach((e=>{if(!this._projectDirectories)return;const{action:t,path:n,oldPath:r}=e,i=this._projectDirectories.find((e=>0===n.indexOf(e.path)));if(!i)return;const o=i.path;if(this._isPathIgnored(n))return;const a=this._filePathsByProjectDirectory.get(o)||[];switch(t){case"created":a.push(n);break;case"deleted":const e=a.indexOf(n);e>-1&&a.splice(e,1);break;case"renamed":const t=a.indexOf(r);t>-1&&(a[t]=n)}this._filePathsByProjectDirectory.has(o)||this._filePathsByProjectDirectory.set(o,a)}))}_getIgnorePatterns(e){const t=[];if(this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((e=>t.push(e))),this.config.excludeVcsIgnoredPaths)try{const n=P.default.readFileSync(e+"/.gitignore","utf-8");(0,T.default)(n).forEach((e=>t.push(e)))}catch(e){}return this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((e=>t.push(e))),t}async _populateCacheFor(e){const t=e.path,n=["-L",t+"/","-type","f","-not","-regex","'.*\\("+this._getIgnorePatterns(t).map((e=>e.replace(/\./g,"\\.").replace(/\*/g,".*"))).join("\\|")+"\\).*'"],r=qs((await(0,Lr.default)("find",n)).toString().split("\n"));return this._filePathsByProjectDirectory.set(t,r),r}}j=su,R.default=j;var uu=yu(R=R.default),cu=e,lu={};Object.defineProperty(lu,"__esModule",{value:!0});var fu=void 0;lu.default=fu;const hu=["import\\s+.*?from\\s+['\"]","import\\s+['\"]","require\\(['\"]","define\\(\\[?['\"]"],du=["js","jsx","ts","tsx","coffee","json"],pu=[["\\.jsx?$",""],["\\.ts$",""],["\\.coffee$",""]];fu=[{scopes:["source.js","source.js.jsx","source.coffee","source.coffee.jsx","source.ts","source.tsx","javascript","source.flow"],prefixes:hu,extensions:du,relative:!0,replaceOnInsert:[["([\\/]?index)?\\.jsx?$",""],["([\\/]?index)?\\.ts$",""],["([\\/]?index)?\\.coffee$",""]]},{scopes:["text.html.vue"],prefixes:hu,extensions:du.concat("vue"),relative:!0,replaceOnInsert:pu},{scopes:["text.html.vue"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["css","sass","scss","less","styl"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.coffee","source.coffee.jsx"],prefixes:["require\\s+['\"]","define\\s+\\[?['\"]"],extensions:du,relative:!0,replaceOnInsert:pu},{scopes:["source.php"],prefixes:["require_once\\(['\"]","include\\(['\"]"],extensions:["php"],relative:!0},{scopes:["source.sass","source.css.scss","source.css.less","source.stylus"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["sass","scss","css"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.css"],prefixes:["@import\\s+['\"]?","@import\\s+url\\(['\"]?"],extensions:["css"],relative:!0},{scopes:["source.css","source.sass","source.css.less","source.css.scss","source.stylus"],prefixes:["url\\(['\"]?"],extensions:["png","gif","jpeg","jpg","woff","woff2","ttf","svg","otf"],relative:!0},{scopes:["source.c","source.cpp"],prefixes:["^\\s*#include\\s+['\"]"],extensions:["h","hpp"],relative:!0,includeCurrentDirectory:!1},{scopes:["source.lua"],prefixes:["require[\\s+|\\(]['\"]"],extensions:["lua"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.lua$",""]]},{scopes:["source.ruby"],prefixes:["^\\s*require[\\s+|\\(]['\"]"],extensions:["rb"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\.rb$",""]]},{scopes:["source.python"],prefixes:["^\\s*from\\s+","^\\s*import\\s+"],extensions:["py"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.py$",""]]}],lu.default=fu;var gu=yu(lu=lu.default),bu=yu(d);function yu(e){return e&&e.__esModule?e:{default:e}}class vu extends w.EventEmitter{constructor(){super(),this.reloadScopes(),this._pathsCache=new uu.default,this._isReady=!1,this._onRebuildCache=this._onRebuildCache.bind(this),this._onRebuildCacheDone=this._onRebuildCacheDone.bind(this),this._pathsCache.on("rebuild-cache",this._onRebuildCache),this._pathsCache.on("rebuild-cache-done",this._onRebuildCacheDone)}reloadScopes(){for(var e in this._scopes=atom.config.get("autocomplete-paths.scopes").slice(0)||[],atom.config.get("autocomplete-paths.ignoreBuiltinScopes")||(this._scopes=this._scopes.concat(gu.default)),bu.default)atom.config.get("autocomplete-paths."+e)&&(this._scopes=this._scopes.slice(0).concat(bu.default[e]))}_onRebuildCache(){this.emit("rebuild-cache")}_onRebuildCacheDone(){this.emit("rebuild-cache-done")}_scopeMatchesRequest(e,t){const n=Array.isArray(e.scopes)?e.scopes:[e.scopes];if(!(zs(t.scopeDescriptor.getScopesArray(),n).length>0))return!1;const r=this._getLineTextForRequest(t);let i=null;return(Array.isArray(e.prefixes)?e.prefixes:[e.prefixes]).forEach((e=>{const t=new RegExp(e,"i");i=i||r.match(t)})),i}_getLineTextForRequest(e){const{editor:t,bufferPosition:n}=e;return t.getTextInRange([[n.row,0],n])}_getSuggestionsForScope(e,t,n){const r=this._getLineTextForRequest(t).substr(n.index+n[0].length),i=r.match(/[/|\\]$/),o=0===r.indexOf("./")||0===r.indexOf("../"),a=S.default.parse(r);i&&(a.dir=S.default.join(a.dir,a.base),a.base="",a.name="");const s=this._getProjectDirectory(t.editor);if(!s)return Promise.resolve([]);const u=S.default.dirname(t.editor.getPath()),c=S.default.resolve(u,a.dir);let l=o?this._pathsCache.getFilePathsForProjectDirectory(s,c):this._pathsCache.getFilePathsForProjectDirectory(s);const f=o?a.base:r,{extensions:h}=e;if(h){const e=new RegExp(`.(${h.join("|")})$`);l=l.filter((t=>e.test(t)))}f&&(l=(0,cu.filter)(l,f,{maxResults:10}));let d=l.map((n=>{const i=atom.config.get("autocomplete-paths.normalizeSlashes"),a=atom.project.relativizePath(n)[1];let s=a;o&&(s=S.default.relative(c,n)),i&&(s=(0,E.default)(s));let u=S.default.relative(S.default.dirname(t.editor.getPath()),n);i&&(u=(0,E.default)(u)),!1!==e.relative&&(n=u,!1!==e.includeCurrentDirectory&&"."!==n[0]&&(n="./"+n)),e.projectRelativePath&&(n=(0,E.default)(a)),e.replaceOnInsert&&e.replaceOnInsert.forEach((([e,t])=>{const r=new RegExp(e);r.test(n)&&(n=n.replace(r,t))}));const l=u.split(S.default.sep).length;return{text:n,replacementPrefix:r,displayText:s,type:"import",iconHTML:'<i class="icon-file-code"></i>',score:(0,cu.score)(s,t.prefix),distanceToFile:l}}));const p=d.length;if(d.length){const e=ws(d,(e=>e.distanceToFile)).distanceToFile;d.forEach(((t,n)=>{t.score=p-n+(e-t.distanceToFile)})),d.sort(((e,t)=>t.score-e.score))}return Promise.resolve(d)}async getSuggestions(e){const t=this._scopes.map((t=>[t,this._scopeMatchesRequest(t,e)])).filter((e=>e[1])).map((([t,n])=>this._getSuggestionsForScope(t,e,n))),n=Us(await Promise.all(t));return!!n.length&&n}async rebuildCache(){const e=await this._pathsCache.rebuildCache();return this._isReady=!0,e}_getProjectDirectory(e){const t=e.getBuffer().getPath();let n=null;return atom.project.getDirectories().forEach((e=>{e.contains(t)&&(n=e)})),n}isReady(){return this._isReady}get suggestionPriority(){return atom.config.get("autocomplete-paths.suggestionPriority")}get fileCount(){return atom.project.getDirectories().reduce(((e,t)=>e+this._pathsCache.getFilePathsForProjectDirectory(t).length),0)}dispose(){this._pathsCache.removeListener("rebuild-cache",this._onRebuildCache),this._pathsCache.removeListener("rebuild-cache-done",this._onRebuildCacheDone),this._pathsCache.dispose(!0)}}m=vu,_.default=m,vu.prototype.selector="*",vu.prototype.inclusionPriority=1;var _u=Su(_=_.default),mu=t,wu=Su(d);function Su(e){return e&&e.__esModule?e:{default:e}}l={config:v.default,subscriptions:null,activate:function(){this.subscriptions=new mu.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"autocomplete-paths:rebuild-cache":()=>{this._provider.rebuildCache()}}));["core.ignoredNames","core.excludeVcsIgnoredPaths","autocomplete-paths.ignoreSubmodules","autocomplete-paths.ignoredNames","autocomplete-paths.ignoredPatterns","autocomplete-paths.maxFileCount"].forEach((e=>{this.subscriptions.add(atom.config.observe(e,(e=>{this._provider&&(this._provider._pathsCache.updateConfig(),this._provider.rebuildCache())})))}));const e=["autocomplete-paths.scopes"];for(let t in wu.default)e.push("autocomplete-paths."+t);e.forEach((e=>{this.subscriptions.add(atom.config.observe(e,(e=>{this._provider&&this._provider.reloadScopes()})))}))},deactivate:function(){this._statusBarInterval&&clearInterval(this._statusBarInterval),this.subscriptions.dispose(),this._provider&&(this._provider.dispose(!0),this._provider=null),this._statusBarTile&&(this._statusBarTile.destroy(),this._statusBarTile=null)},consumeStatusBar:function(e){this._statusBar=e,this._displayStatusBarItemOnConsumption&&this._displayStatusBarTile()},_displayStatusBarTile(){this._statusBar?this._statusBarTile||(this._statusBarElement=document.createElement("autocomplete-paths-status-bar"),this._statusBarElement.innerHTML="Rebuilding paths cache...",this._statusBarTile=this._statusBar.addRightTile({item:this._statusBarElement,priority:100}),(this._provider||(this.getProvider(),this._provider))&&(this._statusBarInterval=setInterval((()=>{const e=this._provider.fileCount;e>0&&(this._statusBarElement.innerHTML=`Rebuilding paths cache... ${e} files`)}),500))):this._displayStatusBarItemOnConsumption=!0},_hideStatusBarTile(){this._statusBarInterval&&clearInterval(this._statusBarInterval),this._statusBarTile&&this._statusBarTile.destroy(),this._statusBarTile=null,this._statusBarElement=null},getProvider:function(){return this._provider||(this._provider=new _u.default,this._provider.on("rebuild-cache",(()=>{this._displayStatusBarTile()})),this._provider.on("rebuild-cache-done",(()=>{this._hideStatusBarTile()})),this._provider.rebuildCache()),this._provider}},c.default=l,c=c.default,module.exports=c;
//# sourceMappingURL=autocomplete-paths.js.map
