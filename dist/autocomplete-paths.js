var t=require("zadeh"),e=require("stream"),r=require("os"),n=require("fs"),i=require("buffer"),s=require("util"),o=require("child_process"),a=require("atom"),c=require("path"),u=require("events");function l(t,e,r){Object.defineProperty(t,e,{get:r,enumerable:!0})}function h(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};Object.defineProperty(exports,"__esModule",{value:!0});var p=function(){Zf.add(atom.commands.add("atom-workspace",{"autocomplete-paths:rebuild-cache":()=>{tp()}}));["core.ignoredNames","core.excludeVcsIgnoredPaths","autocomplete-paths.ignoreSubmodules","autocomplete-paths.ignoredNames","autocomplete-paths.ignoredPatterns","autocomplete-paths.maxFileCount"].forEach((t=>{Zf.add(atom.config.observe(t,(()=>{Jf&&(Jf._pathsCache.updateConfig(),tp())})))}));const t=["autocomplete-paths.scopes"];for(const e in v.OptionScopes)t.push(`autocomplete-paths.${e}`);t.forEach((t=>{Zf.add(atom.config.observe(t,(()=>{Jf&&Jf.reloadScopes()})))}))};exports.activate=p;var d=function(){rp&&clearInterval(rp);Zf.dispose(),Jf&&(Jf.dispose(!0),Jf=null);np&&(np.destroy(),np=null)};exports.deactivate=d;var g=function(t){ep=t,sp&&op()};exports.consumeStatusBar=g;var _=ap;exports.getProvider=_,Object.defineProperty(exports,"config",{enumerable:!0,get:function(){return y.config}});var y={};Object.defineProperty(y,"__esModule",{value:!0});var m=void 0;y.config=m;var v={};Object.defineProperty(v,"__esModule",{value:!0});var b=void 0;v.OptionScopes=b;b={enableHtmlSupport:[{scopes:["text.html.basic"],prefixes:["src=['\"]","href=['\"]","name=['\"]"],extensions:["js","png","gif","jpeg","jpg","tiff","html","json","svg"],relative:!0}]},v.OptionScopes=b;const w={normalizeSlashes:{type:"boolean",description:"Replaces backward slashes with forward slashes on windows (if possible)",default:!0},maxFileCount:{type:"number",description:"The maximum amount of files to be handled",default:2e3},suggestionPriority:{type:"number",description:"Suggestion priority of this provider. If set to a number larger than or equal to 1, suggestions will be displayed on top of default suggestions.",default:2},ignoredNames:{type:"boolean",default:!0,description:"Ignore items matched by the `Ignore Names` core option."},ignoreSubmodules:{type:"boolean",default:!1,description:"Ignore submodule directories."},ignoredPatterns:{type:"array",default:[],items:{type:"string"},description:"Ignore additional **glob** or file path patterns."},ignoreBuiltinScopes:{type:"boolean",default:!1,description:"Ignore built-in scopes and use only scopes from user configuration."},scopes:{type:"array",default:[],items:{type:"object",properties:{scopes:{type:["array"],items:{type:"string"}},prefixes:{type:["array"],items:{type:"string"}},extensions:{type:["array"],items:{type:"string"}},relative:{type:"boolean",default:!0},replaceOnInsert:{type:"array",items:{type:"array",items:{type:["string","string"]}}}}}}};m=w,y.config=m;const E=Object.keys(v.OptionScopes);for(let t=0,e=E.length;t<e;t++)w[E[t]]={type:"boolean",default:!1};var S={};Object.defineProperty(S,"__esModule",{value:!0});var A=void 0;S.default=A;var R,P=u,x=qf(c),O={};R=O,Object.defineProperty(R,"__esModule",{value:!0});var C={},k="object"==typeof self&&self.self===self&&self||"object"==typeof f&&f.global===f&&f||Function("return this")()||{},D=Array.prototype,T=Object.prototype,j="undefined"!=typeof Symbol?Symbol.prototype:null,F=D.push,M=D.slice,I=T.toString,L=T.hasOwnProperty,H="undefined"!=typeof ArrayBuffer,$="undefined"!=typeof DataView,N=Array.isArray,B=Object.keys,W=Object.create,G=H&&ArrayBuffer.isView,U=isNaN,V=isFinite,q=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],K=Math.pow(2,53)-1;function Q(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=n,t.apply(this,s)}}function Y(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function X(t){return null===t}function Z(t){return void 0===t}function J(t){return!0===t||!1===t||"[object Boolean]"===I.call(t)}function tt(t){return!(!t||1!==t.nodeType)}function et(t){var e="[object "+t+"]";return function(t){return I.call(t)===e}}var rt=et("String"),nt=et("Number"),it=et("Date"),st=et("RegExp"),ot=et("Error"),at=et("Symbol"),ct=et("ArrayBuffer"),ut=et("Function"),lt=k.document&&k.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof lt&&(ut=function(t){return"function"==typeof t||!1});var ht=ut,ft=et("Object"),pt=$&&ft(new DataView(new ArrayBuffer(8))),dt="undefined"!=typeof Map&&ft(new Map),gt=et("DataView");var _t=pt?function(t){return null!=t&&ht(t.getInt8)&&ct(t.buffer)}:gt,yt=N||et("Array");function mt(t,e){return null!=t&&L.call(t,e)}var vt=et("Arguments");!function(){vt(arguments)||(vt=function(t){return mt(t,"callee")})}();var bt=vt;function wt(t){return!at(t)&&V(t)&&!isNaN(parseFloat(t))}function Et(t){return nt(t)&&U(t)}function St(t){return function(){return t}}function At(t){return function(e){var r=t(e);return"number"==typeof r&&r>=0&&r<=K}}function Rt(t){return function(e){return null==e?void 0:e[t]}}var Pt=Rt("byteLength"),xt=At(Pt),Ot=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Ct=H?function(t){return G?G(t)&&!_t(t):xt(t)&&Ot.test(I.call(t))}:St(!1),kt=Rt("length");function Dt(t,e){e=function(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return e[t]},push:function(r){return e[r]=!0,t.push(r)}}}(e);var r=z.length,n=t.constructor,i=ht(n)&&n.prototype||T,s="constructor";for(mt(t,s)&&!e.contains(s)&&e.push(s);r--;)(s=z[r])in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Tt(t){if(!Y(t))return[];if(B)return B(t);var e=[];for(var r in t)mt(t,r)&&e.push(r);return q&&Dt(t,e),e}function jt(t){if(null==t)return!0;var e=kt(t);return"number"==typeof e&&(yt(t)||rt(t)||bt(t))?0===e:0===kt(Tt(t))}function Ft(t,e){var r=Tt(e),n=r.length;if(null==t)return!n;for(var i=Object(t),s=0;s<n;s++){var o=r[s];if(e[o]!==i[o]||!(o in i))return!1}return!0}function Mt(t){return t instanceof Mt?t:this instanceof Mt?void(this._wrapped=t):new Mt(t)}function It(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Pt(t))}Mt.VERSION="1.13.1",Mt.prototype.value=function(){return this._wrapped},Mt.prototype.valueOf=Mt.prototype.toJSON=Mt.prototype.value,Mt.prototype.toString=function(){return String(this._wrapped)};function Lt(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&Ht(t,e,r,n)}function Ht(t,e,r,n){t instanceof Mt&&(t=t._wrapped),e instanceof Mt&&(e=e._wrapped);var i=I.call(t);if(i!==I.call(e))return!1;if(pt&&"[object Object]"==i&&_t(t)){if(!_t(e))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return j.valueOf.call(t)===j.valueOf.call(e);case"[object ArrayBuffer]":case"[object DataView]":return Ht(It(t),It(e),r,n)}var s="[object Array]"===i;if(!s&&Ct(t)){if(Pt(t)!==Pt(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(ht(o)&&o instanceof o&&ht(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var c=(r=r||[]).length;c--;)if(r[c]===t)return n[c]===e;if(r.push(t),n.push(e),s){if((c=t.length)!==e.length)return!1;for(;c--;)if(!Lt(t[c],e[c],r,n))return!1}else{var u,l=Tt(t);if(c=l.length,Tt(e).length!==c)return!1;for(;c--;)if(!mt(e,u=l[c])||!Lt(t[u],e[u],r,n))return!1}return r.pop(),n.pop(),!0}function $t(t,e){return Lt(t,e)}function Nt(t){if(!Y(t))return[];var e=[];for(var r in t)e.push(r);return q&&Dt(t,e),e}function Bt(t){var e=kt(t);return function(r){if(null==r)return!1;var n=Nt(r);if(kt(n))return!1;for(var i=0;i<e;i++)if(!ht(r[t[i]]))return!1;return t!==qt||!ht(r[Wt])}}var Wt="forEach",Gt=["clear","delete"],Ut=["get","has","set"],Vt=Gt.concat(Wt,Ut),qt=Gt.concat(Ut),zt=["add"].concat(Gt,Wt,"has"),Kt=dt?Bt(Vt):et("Map"),Qt=dt?Bt(qt):et("WeakMap"),Yt=dt?Bt(zt):et("Set"),Xt=et("WeakSet");function Zt(t){for(var e=Tt(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}function Jt(t){for(var e=Tt(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n}function te(t){for(var e={},r=Tt(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e}function ee(t){var e=[];for(var r in t)ht(t[r])&&e.push(r);return e.sort()}function re(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var s=arguments[i],o=t(s),a=o.length,c=0;c<a;c++){var u=o[c];e&&void 0!==r[u]||(r[u]=s[u])}return r}}var ne=re(Nt),ie=re(Tt),se=re(Nt,!0);function oe(t){if(!Y(t))return{};if(W)return W(t);var e=function(){};e.prototype=t;var r=new e;return e.prototype=null,r}function ae(t,e){var r=oe(t);return e&&ie(r,e),r}function ce(t){return Y(t)?yt(t)?t.slice():ne({},t):t}function ue(t,e){return e(t),t}function le(t){return yt(t)?t:[t]}function he(t){return Mt.toPath(t)}function fe(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}function pe(t,e,r){var n=fe(t,he(e));return Z(n)?r:n}function de(t,e){for(var r=(e=he(e)).length,n=0;n<r;n++){var i=e[n];if(!mt(t,i))return!1;t=t[i]}return!!r}function ge(t){return t}function _e(t){return t=ie({},t),function(e){return Ft(e,t)}}function ye(t){return t=he(t),function(e){return fe(e,t)}}function me(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,s){return t.call(e,r,n,i,s)}}return function(){return t.apply(e,arguments)}}function ve(t,e,r){return null==t?ge:ht(t)?me(t,e,r):Y(t)&&!yt(t)?_e(t):ye(t)}function be(t,e){return ve(t,e,1/0)}function we(t,e,r){return Mt.iteratee!==be?Mt.iteratee(t,e):ve(t,e,r)}function Ee(t,e,r){e=we(e,r);for(var n=Tt(t),i=n.length,s={},o=0;o<i;o++){var a=n[o];s[a]=e(t[a],a,t)}return s}function Se(){}function Ae(t){return null==t?Se:function(e){return pe(t,e)}}function Re(t,e,r){var n=Array(Math.max(0,t));e=me(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n}function Pe(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Mt.toPath=le,Mt.iteratee=be;var xe=Date.now||function(){return(new Date).getTime()};function Oe(t){var e=function(e){return t[e]},r="(?:"+Tt(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}}var Ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ke=Oe(Ce),De=Oe(te(Ce)),Te=Mt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},je=/(.)^/,Fe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Me=/\\|'|\r|\n|\u2028|\u2029/g;function Ie(t){return"\\"+Fe[t]}var Le=/^\s*(\w|\$)+\s*$/;function He(t,e,r){!e&&r&&(e=r),e=se({},e,Mt.templateSettings);var n=RegExp([(e.escape||je).source,(e.interpolate||je).source,(e.evaluate||je).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(n,(function(e,r,n,o,a){return s+=t.slice(i,a).replace(Me,Ie),i=a+e.length,r?s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e})),s+="';\n";var o,a=e.variable;if(a){if(!Le.test(a))throw new Error("variable is not a bare identifier: "+a)}else s="with(obj||{}){\n"+s+"}\n",a="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(a,"_",s)}catch(t){throw t.source=s,t}var c=function(t){return o.call(this,t,Mt)};return c.source="function("+a+"){\n"+s+"}",c}function $e(t,e,r){var n=(e=he(e)).length;if(!n)return ht(r)?r.call(t):r;for(var i=0;i<n;i++){var s=null==t?void 0:t[e[i]];void 0===s&&(s=r,i=n),t=ht(s)?s.call(t):s}return t}var Ne=0;function Be(t){var e=++Ne+"";return t?t+e:e}function We(t){var e=Mt(t);return e._chain=!0,e}function Ge(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var s=oe(t.prototype),o=t.apply(s,i);return Y(o)?o:s}var Ue=Q((function(t,e){var r=Ue.placeholder,n=function(){for(var i=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===r?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return Ge(t,n,this,this,o)};return n}));Ue.placeholder=Mt;var Ve=Q((function(t,e,r){if(!ht(t))throw new TypeError("Bind must be called on a function");var n=Q((function(i){return Ge(t,n,e,this,r.concat(i))}));return n})),qe=At(kt);function ze(t,e,r,n){if(n=n||[],e||0===e){if(e<=0)return n.concat(t)}else e=1/0;for(var i=n.length,s=0,o=kt(t);s<o;s++){var a=t[s];if(qe(a)&&(yt(a)||bt(a)))if(e>1)ze(a,e-1,r,n),i=n.length;else for(var c=0,u=a.length;c<u;)n[i++]=a[c++];else r||(n[i++]=a)}return n}var Ke=Q((function(t,e){var r=(e=ze(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=Ve(t[n],t)}return t}));function Qe(t,e){var r=function(n){var i=r.cache,s=""+(e?e.apply(this,arguments):n);return mt(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return r.cache={},r}var Ye=Q((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),Xe=Ue(Ye,Mt,1);function Ze(t,e,r){var n,i,s,o,a=0;r||(r={});var c=function(){a=!1===r.leading?0:xe(),n=null,o=t.apply(i,s),n||(i=s=null)},u=function(){var u=xe();a||!1!==r.leading||(a=u);var l=e-(u-a);return i=this,s=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),a=u,o=t.apply(i,s),n||(i=s=null)):n||!1===r.trailing||(n=setTimeout(c,l)),o};return u.cancel=function(){clearTimeout(n),a=0,n=i=s=null},u}function Je(t,e,r){var n,i,s,o,a,c=function(){var u=xe()-i;e>u?n=setTimeout(c,e-u):(n=null,r||(o=t.apply(a,s)),n||(s=a=null))},u=Q((function(u){return a=this,s=u,i=xe(),n||(n=setTimeout(c,e),r&&(o=t.apply(a,s))),o}));return u.cancel=function(){clearTimeout(n),n=s=a=null},u}function tr(t,e){return Ue(e,t)}function er(t){return function(){return!t.apply(this,arguments)}}function rr(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function nr(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function ir(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}var sr=Ue(ir,2);function or(t,e,r){e=we(e,r);for(var n,i=Tt(t),s=0,o=i.length;s<o;s++)if(e(t[n=i[s]],n,t))return n}function ar(t){return function(e,r,n){r=we(r,n);for(var i=kt(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(r(e[s],s,e))return s;return-1}}var cr=ar(1),ur=ar(-1);function lr(t,e,r,n){for(var i=(r=we(r,n,1))(e),s=0,o=kt(t);s<o;){var a=Math.floor((s+o)/2);r(t[a])<i?s=a+1:o=a}return s}function hr(t,e,r){return function(n,i,s){var o=0,a=kt(n);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(r&&s&&a)return n[s=r(n,i)]===i?s:-1;if(i!=i)return(s=e(M.call(n,o,a),Et))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(n[s]===i)return s;return-1}}var fr=hr(1,cr,lr),pr=hr(-1,ur);function dr(t,e,r){var n=(qe(t)?cr:or)(t,e,r);if(void 0!==n&&-1!==n)return t[n]}function gr(t,e){return dr(t,_e(e))}function _r(t,e,r){var n,i;if(e=me(e,r),qe(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var s=Tt(t);for(n=0,i=s.length;n<i;n++)e(t[s[n]],s[n],t)}return t}function yr(t,e,r){e=we(e,r);for(var n=!qe(t)&&Tt(t),i=(n||t).length,s=Array(i),o=0;o<i;o++){var a=n?n[o]:o;s[o]=e(t[a],a,t)}return s}function mr(t){var e=function(e,r,n,i){var s=!qe(e)&&Tt(e),o=(s||e).length,a=t>0?0:o-1;for(i||(n=e[s?s[a]:a],a+=t);a>=0&&a<o;a+=t){var c=s?s[a]:a;n=r(n,e[c],c,e)}return n};return function(t,r,n,i){var s=arguments.length>=3;return e(t,me(r,i,4),n,s)}}var vr=mr(1),br=mr(-1);function wr(t,e,r){var n=[];return e=we(e,r),_r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Er(t,e,r){return wr(t,er(we(e)),r)}function Sr(t,e,r){e=we(e,r);for(var n=!qe(t)&&Tt(t),i=(n||t).length,s=0;s<i;s++){var o=n?n[s]:s;if(!e(t[o],o,t))return!1}return!0}function Ar(t,e,r){e=we(e,r);for(var n=!qe(t)&&Tt(t),i=(n||t).length,s=0;s<i;s++){var o=n?n[s]:s;if(e(t[o],o,t))return!0}return!1}function Rr(t,e,r,n){return qe(t)||(t=Zt(t)),("number"!=typeof r||n)&&(r=0),fr(t,e,r)>=0}var Pr=Q((function(t,e,r){var n,i;return ht(e)?i=e:(e=he(e),n=e.slice(0,-1),e=e[e.length-1]),yr(t,(function(t){var s=i;if(!s){if(n&&n.length&&(t=fe(t,n)),null==t)return;s=t[e]}return null==s?s:s.apply(t,r)}))}));function xr(t,e){return yr(t,ye(e))}function Or(t,e){return wr(t,_e(e))}function Cr(t,e,r){var n,i,s=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=qe(t)?t:Zt(t)).length;a<c;a++)null!=(n=t[a])&&n>s&&(s=n);else e=we(e,r),_r(t,(function(t,r,n){((i=e(t,r,n))>o||i===-1/0&&s===-1/0)&&(s=t,o=i)}));return s}function kr(t,e,r){var n,i,s=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=qe(t)?t:Zt(t)).length;a<c;a++)null!=(n=t[a])&&n<s&&(s=n);else e=we(e,r),_r(t,(function(t,r,n){((i=e(t,r,n))<o||i===1/0&&s===1/0)&&(s=t,o=i)}));return s}function Dr(t,e,r){if(null==e||r)return qe(t)||(t=Zt(t)),t[Pe(t.length-1)];var n=qe(t)?ce(t):Zt(t),i=kt(n);e=Math.max(Math.min(e,i),0);for(var s=i-1,o=0;o<e;o++){var a=Pe(o,s),c=n[o];n[o]=n[a],n[a]=c}return n.slice(0,e)}function Tr(t){return Dr(t,1/0)}function jr(t,e,r){var n=0;return e=we(e,r),xr(yr(t,(function(t,r,i){return{value:t,index:n++,criteria:e(t,r,i)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")}function Fr(t,e){return function(r,n,i){var s=e?[[],[]]:{};return n=we(n,i),_r(r,(function(e,i){var o=n(e,i,r);t(s,e,o)})),s}}var Mr=Fr((function(t,e,r){mt(t,r)?t[r].push(e):t[r]=[e]})),Ir=Fr((function(t,e,r){t[r]=e})),Lr=Fr((function(t,e,r){mt(t,r)?t[r]++:t[r]=1})),Hr=Fr((function(t,e,r){t[r?0:1].push(e)}),!0),$r=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Nr(t){return t?yt(t)?M.call(t):rt(t)?t.match($r):qe(t)?yr(t,ge):Zt(t):[]}function Br(t){return null==t?0:qe(t)?t.length:Tt(t).length}function Wr(t,e,r){return e in r}var Gr=Q((function(t,e){var r={},n=e[0];if(null==t)return r;ht(n)?(e.length>1&&(n=me(n,e[1])),e=Nt(t)):(n=Wr,e=ze(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var o=e[i],a=t[o];n(a,o,t)&&(r[o]=a)}return r})),Ur=Q((function(t,e){var r,n=e[0];return ht(n)?(n=er(n),e.length>1&&(r=e[1])):(e=yr(ze(e,!1,!1),String),n=function(t,r){return!Rr(e,r)}),Gr(t,n,r)}));function Vr(t,e,r){return M.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))}function qr(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[0]:Vr(t,t.length-e)}function zr(t,e,r){return M.call(t,null==e||r?1:e)}function Kr(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[t.length-1]:zr(t,Math.max(0,t.length-e))}function Qr(t){return wr(t,Boolean)}function Yr(t,e){return ze(t,e,!1)}var Xr=Q((function(t,e){return e=ze(e,!0,!0),wr(t,(function(t){return!Rr(e,t)}))})),Zr=Q((function(t,e){return Xr(t,e)}));function Jr(t,e,r,n){J(e)||(n=r,r=e,e=!1),null!=r&&(r=we(r,n));for(var i=[],s=[],o=0,a=kt(t);o<a;o++){var c=t[o],u=r?r(c,o,t):c;e&&!r?(o&&s===u||i.push(c),s=u):r?Rr(s,u)||(s.push(u),i.push(c)):Rr(i,c)||i.push(c)}return i}var tn=Q((function(t){return Jr(ze(t,!0,!0))}));function en(t){for(var e=[],r=arguments.length,n=0,i=kt(t);n<i;n++){var s=t[n];if(!Rr(e,s)){var o;for(o=1;o<r&&Rr(arguments[o],s);o++);o===r&&e.push(s)}}return e}function rn(t){for(var e=t&&Cr(t,kt).length||0,r=Array(e),n=0;n<e;n++)r[n]=xr(t,n);return r}var nn=Q(rn);function sn(t,e){for(var r={},n=0,i=kt(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function on(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),s=0;s<n;s++,t+=r)i[s]=t;return i}function an(t,e){if(null==e||e<1)return[];for(var r=[],n=0,i=t.length;n<i;)r.push(M.call(t,n,n+=e));return r}function cn(t,e){return t._chain?Mt(e).chain():e}function un(t){return _r(ee(t),(function(e){var r=Mt[e]=t[e];Mt.prototype[e]=function(){var t=[this._wrapped];return F.apply(t,arguments),cn(this,r.apply(Mt,t))}})),Mt}_r(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=D[t];Mt.prototype[t]=function(){var r=this._wrapped;return null!=r&&(e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0]),cn(this,r)}})),_r(["concat","join","slice"],(function(t){var e=D[t];Mt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),cn(this,t)}})),l(C,"VERSION",(function(){return"1.13.1"})),l(C,"restArguments",(function(){return Q})),l(C,"isObject",(function(){return Y})),l(C,"isNull",(function(){return X})),l(C,"isUndefined",(function(){return Z})),l(C,"isBoolean",(function(){return J})),l(C,"isElement",(function(){return tt})),l(C,"isString",(function(){return rt})),l(C,"isNumber",(function(){return nt})),l(C,"isDate",(function(){return it})),l(C,"isRegExp",(function(){return st})),l(C,"isError",(function(){return ot})),l(C,"isSymbol",(function(){return at})),l(C,"isArrayBuffer",(function(){return ct})),l(C,"isDataView",(function(){return _t})),l(C,"isArray",(function(){return yt})),l(C,"isFunction",(function(){return ht})),l(C,"isArguments",(function(){return bt})),l(C,"isFinite",(function(){return wt})),l(C,"isNaN",(function(){return Et})),l(C,"isTypedArray",(function(){return Ct})),l(C,"isEmpty",(function(){return jt})),l(C,"isMatch",(function(){return Ft})),l(C,"isEqual",(function(){return $t})),l(C,"isMap",(function(){return Kt})),l(C,"isWeakMap",(function(){return Qt})),l(C,"isSet",(function(){return Yt})),l(C,"isWeakSet",(function(){return Xt})),l(C,"keys",(function(){return Tt})),l(C,"allKeys",(function(){return Nt})),l(C,"values",(function(){return Zt})),l(C,"pairs",(function(){return Jt})),l(C,"invert",(function(){return te})),l(C,"methods",(function(){return ee})),l(C,"functions",(function(){return ee})),l(C,"extend",(function(){return ne})),l(C,"assign",(function(){return ie})),l(C,"extendOwn",(function(){return ie})),l(C,"defaults",(function(){return se})),l(C,"create",(function(){return ae})),l(C,"clone",(function(){return ce})),l(C,"tap",(function(){return ue})),l(C,"get",(function(){return pe})),l(C,"has",(function(){return de})),l(C,"mapObject",(function(){return Ee})),l(C,"identity",(function(){return ge})),l(C,"constant",(function(){return St})),l(C,"noop",(function(){return Se})),l(C,"toPath",(function(){return le})),l(C,"property",(function(){return ye})),l(C,"propertyOf",(function(){return Ae})),l(C,"matches",(function(){return _e})),l(C,"matcher",(function(){return _e})),l(C,"times",(function(){return Re})),l(C,"random",(function(){return Pe})),l(C,"now",(function(){return xe})),l(C,"escape",(function(){return ke})),l(C,"unescape",(function(){return De})),l(C,"templateSettings",(function(){return Te})),l(C,"template",(function(){return He})),l(C,"result",(function(){return $e})),l(C,"uniqueId",(function(){return Be})),l(C,"chain",(function(){return We})),l(C,"iteratee",(function(){return be})),l(C,"partial",(function(){return Ue})),l(C,"bind",(function(){return Ve})),l(C,"bindAll",(function(){return Ke})),l(C,"memoize",(function(){return Qe})),l(C,"delay",(function(){return Ye})),l(C,"defer",(function(){return Xe})),l(C,"throttle",(function(){return Ze})),l(C,"debounce",(function(){return Je})),l(C,"wrap",(function(){return tr})),l(C,"negate",(function(){return er})),l(C,"compose",(function(){return rr})),l(C,"after",(function(){return nr})),l(C,"before",(function(){return ir})),l(C,"once",(function(){return sr})),l(C,"findKey",(function(){return or})),l(C,"findIndex",(function(){return cr})),l(C,"findLastIndex",(function(){return ur})),l(C,"sortedIndex",(function(){return lr})),l(C,"indexOf",(function(){return fr})),l(C,"lastIndexOf",(function(){return pr})),l(C,"detect",(function(){return dr})),l(C,"find",(function(){return dr})),l(C,"findWhere",(function(){return gr})),l(C,"forEach",(function(){return _r})),l(C,"each",(function(){return _r})),l(C,"collect",(function(){return yr})),l(C,"map",(function(){return yr})),l(C,"inject",(function(){return vr})),l(C,"foldl",(function(){return vr})),l(C,"reduce",(function(){return vr})),l(C,"foldr",(function(){return br})),l(C,"reduceRight",(function(){return br})),l(C,"select",(function(){return wr})),l(C,"filter",(function(){return wr})),l(C,"reject",(function(){return Er})),l(C,"all",(function(){return Sr})),l(C,"every",(function(){return Sr})),l(C,"any",(function(){return Ar})),l(C,"some",(function(){return Ar})),l(C,"include",(function(){return Rr})),l(C,"includes",(function(){return Rr})),l(C,"contains",(function(){return Rr})),l(C,"invoke",(function(){return Pr})),l(C,"pluck",(function(){return xr})),l(C,"where",(function(){return Or})),l(C,"max",(function(){return Cr})),l(C,"min",(function(){return kr})),l(C,"shuffle",(function(){return Tr})),l(C,"sample",(function(){return Dr})),l(C,"sortBy",(function(){return jr})),l(C,"groupBy",(function(){return Mr})),l(C,"indexBy",(function(){return Ir})),l(C,"countBy",(function(){return Lr})),l(C,"partition",(function(){return Hr})),l(C,"toArray",(function(){return Nr})),l(C,"size",(function(){return Br})),l(C,"pick",(function(){return Gr})),l(C,"omit",(function(){return Ur})),l(C,"take",(function(){return qr})),l(C,"head",(function(){return qr})),l(C,"first",(function(){return qr})),l(C,"initial",(function(){return Vr})),l(C,"last",(function(){return Kr})),l(C,"drop",(function(){return zr})),l(C,"tail",(function(){return zr})),l(C,"rest",(function(){return zr})),l(C,"compact",(function(){return Qr})),l(C,"flatten",(function(){return Yr})),l(C,"without",(function(){return Zr})),l(C,"unique",(function(){return Jr})),l(C,"uniq",(function(){return Jr})),l(C,"union",(function(){return tn})),l(C,"intersection",(function(){return en})),l(C,"difference",(function(){return Xr})),l(C,"transpose",(function(){return rn})),l(C,"unzip",(function(){return rn})),l(C,"zip",(function(){return nn})),l(C,"object",(function(){return sn})),l(C,"range",(function(){return on})),l(C,"chunk",(function(){return an})),l(C,"mixin",(function(){return un})),l(C,"default",(function(){return Mt}));var ln,hn,fn=un(C);fn._=fn,ln=O,hn=C,Object.keys(hn).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(ln,t,{enumerable:!0,get:function(){return hn[t]}})})),l(O,"default",(function(){return fn}));var pn=qf((t=>{const e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")})),dn={};Object.defineProperty(dn,"__esModule",{value:!0});var gn=void 0;dn.default=gn;var _n,yn=u;_n=Un,Un.Minimatch=Vn;var mn={sep:"/"};try{mn=h("path")}catch(t){}var vn,bn=Un.GLOBSTAR=Vn.GLOBSTAR={},wn={};vn=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);En(i)?r.push.apply(r,i):r.push(i)}return r};var En=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Sn={};function An(t,e,r){t instanceof RegExp&&(t=Rn(t,r)),e instanceof RegExp&&(e=Rn(e,r));var n=Pn(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Rn(t,e){var r=e.match(t);return r?r[0]:null}function Pn(t,e,r){var n,i,s,o,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(n=[],s=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<s&&(s=i,o=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[s,o])}return a}Sn=An,An.range=Pn,wn=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return $n(function(t){return t.split("\\\\").join(xn).split("\\{").join(On).split("\\}").join(Cn).split("\\,").join(kn).split("\\.").join(Dn)}(t),!0).map(jn)};var xn="\0SLASH"+Math.random()+"\0",On="\0OPEN"+Math.random()+"\0",Cn="\0CLOSE"+Math.random()+"\0",kn="\0COMMA"+Math.random()+"\0",Dn="\0PERIOD"+Math.random()+"\0";function Tn(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function jn(t){return t.split(xn).join("\\").split(On).join("{").split(Cn).join("}").split(kn).join(",").split(Dn).join(".")}function Fn(t){if(!t)return[""];var e=[],r=Sn("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Fn(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Mn(t){return"{"+t+"}"}function In(t){return/^-?0\d/.test(t)}function Ln(t,e){return t<=e}function Hn(t,e){return t>=e}function $n(t,e){var r=[],n=Sn("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i,s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=s||o,c=n.body.indexOf(",")>=0;if(!a&&!c)return n.post.match(/,.*\}/)?$n(t=n.pre+"{"+n.body+Cn+n.post):[t];if(a)i=n.body.split(/\.\./);else if(1===(i=Fn(n.body)).length&&1===(i=$n(i[0],!1).map(Mn)).length)return(h=n.post.length?$n(n.post,!1):[""]).map((function(t){return n.pre+i[0]+t}));var u,l=n.pre,h=n.post.length?$n(n.post,!1):[""];if(a){var f=Tn(i[0]),p=Tn(i[1]),d=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(Tn(i[2])):1,_=Ln;p<f&&(g*=-1,_=Hn);var y=i.some(In);u=[];for(var m=f;_(m,p);m+=g){var v;if(o)"\\"===(v=String.fromCharCode(m))&&(v="");else if(v=String(m),y){var b=d-v.length;if(b>0){var w=new Array(b+1).join("0");v=m<0?"-"+w+v.slice(1):w+v}}u.push(v)}}else u=vn(i,(function(t){return $n(t,!1)}));for(var E=0;E<u.length;E++)for(var S=0;S<h.length;S++){var A=l+u[E]+h[S];(!e||a||A)&&r.push(A)}return r}var Nn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Bn="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Wn=/\/+/;function Gn(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function Un(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Vn(e,r).match(t))}function Vn(t,e){if(!(this instanceof Vn))return new Vn(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==mn.sep&&(t=t.split(mn.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function qn(t,e){if(e||(e=this instanceof Vn?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:wn(t)}Un.filter=function(t,e){return e=e||{},function(r,n,i){return Un(r,t,e)}},Un.defaults=function(t){if(!t||!Object.keys(t).length)return Un;var e=Un,r=function(r,n,i){return e.minimatch(r,n,Gn(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,Gn(t,n))},r},Vn.defaults=function(t){return t&&Object.keys(t).length?Un.defaults(t).Minimatch:Vn},Vn.prototype.debug=function(){},Vn.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(Wn)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},Vn.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,s=t.length;i<s&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},Un.braceExpand=function(t,e){return qn(t,e)},Vn.prototype.braceExpand=qn,Vn.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return bn;if(""===t)return"";var n,i="",s=!!r.nocase,o=!1,a=[],c=[],u=!1,l=-1,h=-1,f="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function d(){if(n){switch(n){case"*":i+="[^/]*?",s=!0;break;case"?":i+="[^/]",s=!0;break;default:i+="\\"+n}p.debug("clearStateChar %j %j",n,i),n=!1}}for(var g,_=0,y=t.length;_<y&&(g=t.charAt(_));_++)if(this.debug("%s\t%s %s %j",t,_,i,g),o&&Bn[g])i+="\\"+g,o=!1;else switch(g){case"/":return!1;case"\\":d(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,_,i,g),u){this.debug("  in class"),"!"===g&&_===h+1&&(g="^"),i+=g;continue}p.debug("call clearStateChar %j",n),d(),n=g,r.noext&&d();continue;case"(":if(u){i+="(";continue}if(!n){i+="\\(";continue}a.push({type:n,start:_-1,reStart:i.length,open:Nn[n].open,close:Nn[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(u||!a.length){i+="\\)";continue}d(),s=!0;var m=a.pop();i+=m.close,"!"===m.type&&c.push(m),m.reEnd=i.length;continue;case"|":if(u||!a.length||o){i+="\\|",o=!1;continue}d(),i+="|";continue;case"[":if(d(),u){i+="\\"+g;continue}u=!0,h=_,l=i.length,i+=g;continue;case"]":if(_===h+1||!u){i+="\\"+g,o=!1;continue}if(u){var v=t.substring(h+1,_);try{RegExp("["+v+"]")}catch(t){var b=this.parse(v,zn);i=i.substr(0,l)+"\\["+b[0]+"\\]",s=s||b[1],u=!1;continue}}s=!0,u=!1,i+=g;continue;default:d(),o?o=!1:!Bn[g]||"^"===g&&u||(i+="\\"),i+=g}u&&(v=t.substr(h+1),b=this.parse(v,zn),i=i.substr(0,l)+"\\["+b[0],s=s||b[1]);for(m=a.pop();m;m=a.pop()){var w=i.slice(m.reStart+m.open.length);this.debug("setting tail",i,m),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",w,w,m,i);var E="*"===m.type?"[^/]*?":"?"===m.type?"[^/]":"\\"+m.type;s=!0,i=i.slice(0,m.reStart)+E+"\\("+w}d(),o&&(i+="\\\\");var S=!1;switch(i.charAt(0)){case".":case"[":case"(":S=!0}for(var A=c.length-1;A>-1;A--){var R=c[A],P=i.slice(0,R.reStart),x=i.slice(R.reStart,R.reEnd-8),O=i.slice(R.reEnd-8,R.reEnd),C=i.slice(R.reEnd);O+=C;var k=P.split("(").length-1,D=C;for(_=0;_<k;_++)D=D.replace(/\)[+*?]?/,"");var T="";""===(C=D)&&e!==zn&&(T="$"),i=P+x+C+T+O}""!==i&&s&&(i="(?=.)"+i);S&&(i=f+i);if(e===zn)return[i,s];if(!s)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var j=r.nocase?"i":"";try{var F=new RegExp("^"+i+"$",j)}catch(t){return new RegExp("$.")}return F._glob=t,F._src=i,F};var zn={};Un.makeRe=function(t,e){return new Vn(t,e||{}).makeRe()},Vn.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",i=t.map((function(t){return t.map((function(t){return t===bn?r:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp},Un.match=function(t,e,r){var n=new Vn(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},Vn.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==mn.sep&&(t=t.split(mn.sep).join("/"));t=t.split(Wn),this.debug(this.pattern,"split",t);var n,i,s=this.set;for(this.debug(this.pattern,"set",s),i=t.length-1;i>=0&&!(n=t[i]);i--);for(i=0;i<s.length;i++){var o=s[i],a=t;if(r.matchBase&&1===o.length&&(a=[n]),this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},Vn.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var c,u=e[s],l=t[i];if(this.debug(e,u,l),!1===u)return!1;if(u===bn){this.debug("GLOBSTAR",[e,u,l]);var h=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;h<o;){var p=t[h];if(this.debug("\nglobstar while",t,h,e,f,p),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,o,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,f),h!==o))}if("string"==typeof u?(c=n.nocase?l.toLowerCase()===u.toLowerCase():l===u,this.debug("string match",u,l,c)):(c=l.match(u),this.debug("pattern match",u,l,c)),!c)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&""===t[i];throw new Error("wtf?")};var Kn=Lf(_n),Qn=a,Yn=c,Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});var Zn=si;Xn.merge=Zn;var Jn=oi;Xn.unique=Jn;var ti=function(t,e){return si(t,e),oi(t)};Xn.union=ti;var ei=(ii=void 0,Xn.exec=ii);Xn.MAX_STRING_LENGTH=ei;var ri=o,ni=i;var ii=(0,s.promisify)(ri.exec);Xn.exec=ii;function si(t,e){e.length&&Array.prototype.push.apply(t,e)}function oi(t){return[...new Set(t)]}ei=ni.constants.MAX_STRING_LENGTH,Xn.MAX_STRING_LENGTH=ei;var ai,ci,ui,li,hi,fi,pi={};Object.defineProperty(pi,"__esModule",{value:!0});var di,gi=c,_i=n,yi={"{":"}","(":")","[":"]"},mi=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,vi=/[‘“!#$%&+^<=>`]/,bi=function(t){return!1===function(t){return"string"!=typeof t||function(t,e){if("string"!=typeof t||""===t)return!1;if(function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1}(t))return!0;for(var r,n=mi;r=n.exec(t);){if(r[2])return!0;var i=r.index+r[0].length,s=r[1],o=s?yi[s]:null;if(s&&o){var a=t.indexOf(o,i);-1!==a&&(i=a+1)}t=t.slice(i)}return!1}(t)||vi.test(t)}(t)},wi=((di={exports:{}}).exports=function(t){var e=void 0;e="string"==typeof t?[t]:t.raw;for(var r="",n=0;n<e.length;n++)r+=e[n].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),n<(arguments.length<=1?0:arguments.length-1)&&(r+=arguments.length<=n+1?void 0:arguments[n+1]);var i=r.split("\n"),s=null;return i.forEach((function(t){var e=t.match(/^(\s+)\S+/);if(e){var r=e[1].length;s=s?Math.min(s,r):r}})),null!==s&&(r=i.map((function(t){return" "===t[0]?t.slice(s):t})).join("\n")),(r=r.trim()).replace(/\\n/g,"\n")},di.exports);const{readFile:Ei,stat:Si}=_i.promises;function Ai(t){return gi.normalize(t).replace(/\\/g,"/")}function Ri(t){return Ai(t).replace(/\/$/,"")}async function Pi(t,e){const r=wi(t).split("\n").filter((t=>{return!(/^\s*$/.test(t)||(e=t,"#"===e[0]));var e})).map((t=>function(t){return t.replace(/^\s+/,"")}(function(t){return/\\\s+$/.test(t)?t.replace(/\\(\s+)$/,"$1"):t.replace(/\s+$/,"")}(t)))),n=r.length,i=new Array(n);for(let t=0;t<n;t++){const n=await xi(r[t],e);"string"==typeof n?i[t]=n:(i[t]=n[0],i.push(n[1]))}return[...new Set(i)]}async function xi(t,e){let r=t,n=!1;"!"===r[0]&&(r=r.substring(1),n=!0);let i=Oi.OTHER;if("/"===r[0])r=r.substring(1),bi(r)&&(i=await Ci(e?gi.join(e,r):r));else{const t=r.indexOf("/");-1===t?r.startsWith("**/")||(r=`**/${r}`):t===r.length-1?i=Oi.DIRECTORY:bi(r)&&(i=await Ci(e?gi.join(e,r):r))}return e&&(r=`${Ai(e)}/${r}`),r=n?r:`!${r}`,i===Oi.DIRECTORY?r.endsWith("/")?`${r}**`:`${r}/**`:i===Oi.FILE||r.endsWith("/**")?r:[r,`${r}/**`]}var Oi;async function Ci(t){let e;try{e=await Si(t)}catch(t){return Oi.OTHER}return e.isDirectory()?Oi.DIRECTORY:e.isFile()?Oi.FILE:Oi.OTHER}!function(t){t[t.OTHER=0]="OTHER",t[t.DIRECTORY=1]="DIRECTORY",t[t.FILE=2]="FILE"}(Oi||(Oi={})),ai=function(t){return`${Ri(t)}/**`},pi.globifyDirectory=ai,ci=Pi,pi.globifyGitIgnore=ci,ui=async function(t){return Pi(await Ei(gi.join(t,".gitignore"),"utf-8"),t)},pi.globifyGitIgnoreFile=ui,li=function(t,e=process.cwd()){return xi(Ai(t),e)},pi.globifyPath=li,hi=Ai,pi.posixifyPath=hi,fi=Ri,pi.posixifyPathNormalized=fi;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});var Di=(tc=void 0,rc=ki.generate=tc,ic=ki.convertPatternsToTasks=rc,oc=ki.getPositivePatterns=ic,cc=ki.getNegativePatternsAsPositive=oc,lc=ki.groupPatternsByBaseDirectory=cc,ki.convertPatternGroupsToTasks=lc);ki.convertPatternGroupToTask=Di;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});var ji=(Li=void 0,Ni=Ti.array=Li,Ui=Ti.errno=Ni,Zi=Ti.fs=Ui,Wa=Ti.path=Zi,Ya=Ti.pattern=Wa,Ti.stream=Ya);Ti.string=ji;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});var Mi=(Ii=void 0,Fi.flatten=Ii);Fi.splitWhen=Mi;var Ii=function(t){return t.reduce(((t,e)=>[].concat(t,e)),[])};Fi.flatten=Ii,Mi=function(t,e){const r=[[]];let n=0;for(const i of t)e(i)?(n++,r[n]=[]):r[n].push(i);return r},Fi.splitWhen=Mi;var Li=Fi;Ti.array=Fi;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});var $i=void 0;Hi.isEnoentCodeError=$i,$i=function(t){return"ENOENT"===t.code},Hi.isEnoentCodeError=$i;var Ni=Hi;Ti.errno=Hi;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});var Wi=void 0;Bi.createDirentFromStats=Wi;class Gi{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}Wi=function(t,e){return new Gi(t,e)},Bi.createDirentFromStats=Wi;var Ui=Bi;Ti.fs=Bi;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});var qi=(Qi=void 0,Yi=Vi.unixify=Qi,Xi=Vi.makeAbsolute=Yi,Vi.escape=Xi);Vi.removeLeadingDotSegment=qi;const zi=c,Ki=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;var Qi=function(t){return t.replace(/\\/g,"/")};Vi.unixify=Qi;var Yi=function(t,e){return zi.resolve(t,e)};Vi.makeAbsolute=Yi;var Xi=function(t){return t.replace(Ki,"\\$2")};Vi.escape=Xi,qi=function(t){if("."===t.charAt(0)){const e=t.charAt(1);if("/"===e||"\\"===e)return t.slice(2)}return t},Vi.removeLeadingDotSegment=qi;var Zi=Vi;Ti.path=Vi;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});var ts=(va=void 0,wa=Ji.isStaticPattern=va,Ea=Ji.isDynamicPattern=wa,Sa=Ji.convertToPositivePattern=Ea,Ra=Ji.convertToNegativePattern=Sa,xa=Ji.isNegativePattern=Ra,Oa=Ji.isPositivePattern=xa,Ca=Ji.getNegativePatterns=Oa,ka=Ji.getPositivePatterns=Ca,Da=Ji.getBaseDirectory=ka,ja=Ji.hasGlobStar=Da,Fa=Ji.endsWithSlashGlobStar=ja,Ma=Ji.isAffectDepthOfReadingPattern=Fa,La=Ji.expandPatternsWithBraceExpansion=Ma,Ha=Ji.expandBraceExpansion=La,Na=Ji.getPatternParts=Ha,Ba=Ji.makeRe=Na,Ji.convertPatternsToRe=Ba);Ji.matchAny=ts;const es=c;var rs,ns,is;
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
is=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1};var ss={"{":"}","(":")","[":"]"},os=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,as=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;ns=function(t,e){if("string"!=typeof t||""===t)return!1;if(is(t))return!0;var r,n=os;for(e&&!1===e.strict&&(n=as);r=n.exec(t);){if(r[2])return!0;var i=r.index+r[0].length,s=r[1],o=s?ss[s]:null;if(s&&o){var a=t.indexOf(o,i);-1!==a&&(i=a+1)}t=t.slice(i)}return!1};var cs=c.posix.dirname,us="win32"===r.platform(),ls=/\\/g,hs=/[\{\[].*[\}\]]$/,fs=/(^|[^\\])([\{\[]|\([^\)]+$)/,ps=/\\([\!\*\?\|\[\]\(\)\{\}])/g;rs=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&us&&t.indexOf("/")<0&&(t=t.replace(ls,"/")),hs.test(t)&&(t+="/"),t+="a";do{t=cs(t)}while(ns(t)||fs.test(t));return t.replace(ps,"$1")};var ds={};const gs=s;var _s,ys={},ms=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),vs=t=>"brace"===t.type&&(!(!0!==t.invalid&&!t.dollar)||(t.commas>>0+t.ranges>>0==0||!0!==t.open||!0!==t.close)&&(t.invalid=!0,!0)),bs=t=>t.reduce(((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t)),[]),ws=(...t)=>{const e=[],r=t=>{for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?r(i,e):void 0!==i&&e.push(i)}return e};return r(t),e};_s=(t,e={})=>{let r=(t,n={})=>{let i=e.escapeInvalid&&vs(n),s=!0===t.invalid&&!0===e.escapeInvalid,o="";if(t.value)return(i||s)&&(t=>"open"===t.type||"close"===t.type||!0===t.open||!0===t.close)(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)o+=r(e);return o};return r(t)};var Es={},Ss={};const As=s;var Rs,Ps={};Rs=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))};const xs=(t,e,r)=>{if(!1===Rs(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===Rs(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};"boolean"==typeof n.strictZeros&&(n.relaxZeros=!1===n.strictZeros);let i=t+":"+e+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture)+String(n.wrap);if(xs.cache.hasOwnProperty(i))return xs.cache[i].result;let s=Math.min(t,e),o=Math.max(t,e);if(1===Math.abs(s-o)){let r=t+"|"+e;return n.capture?`(${r})`:!1===n.wrap?r:`(?:${r})`}let a=Ls(t)||Ls(e),c={min:t,max:e,a:s,b:o},u=[],l=[];if(a&&(c.isPadded=a,c.maxLen=String(c.max).length),s<0){l=Cs(o<0?Math.abs(o):1,Math.abs(s),c,n),s=c.a=0}return o>=0&&(u=Cs(s,o,c,n)),c.negatives=l,c.positives=u,c.result=function(t,e,r){let n=ks(t,e,"-",!1,r)||[],i=ks(e,t,"",!1,r)||[],s=ks(t,e,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}(l,u,n),!0===n.capture?c.result=`(${c.result})`:!1!==n.wrap&&u.length+l.length>1&&(c.result=`(?:${c.result})`),xs.cache[i]=c,c.result};function Os(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=function(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}(t,e),i=n.length,s="",o=0;for(let t=0;t<i;t++){let[e,i]=n[t];e===i?s+=e:"0"!==e||"9"!==i?s+=Is(e,i,r):o++}return o&&(s+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Cs(t,e,r,n){let i,s=function(t,e){let r=1,n=1,i=js(t,r),s=new Set([e]);for(;t<=i&&i<=e;)s.add(i),r+=1,i=js(t,r);for(i=Fs(e+1,n)-1;t<i&&i<=e;)s.add(i),n+=1,i=Fs(e+1,n)-1;return s=[...s],s.sort(Ds),s}(t,e),o=[],a=t;for(let t=0;t<s.length;t++){let e=s[t],c=Os(String(a),String(e),n),u="";r.isPadded||!i||i.pattern!==c.pattern?(r.isPadded&&(u=Hs(e,r,n)),c.string=u+c.pattern+Ms(c.count),o.push(c),a=e+1,i=c):(i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+Ms(i.count),a=e+1)}return o}function ks(t,e,r,n,i){let s=[];for(let i of t){let{string:t}=i;n||Ts(e,"string",t)||s.push(r+t),n&&Ts(e,"string",t)&&s.push(r+t)}return s}function Ds(t,e){return t>e?1:e>t?-1:0}function Ts(t,e,r){return t.some((t=>t[e]===r))}function js(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function Fs(t,e){return t-t%Math.pow(10,e)}function Ms(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function Is(t,e,r){return`[${t}${e-t==1?"":"-"}${e}]`}function Ls(t){return/^-?(0+)\d/.test(t)}function Hs(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}xs.cache={},xs.clearCache=()=>xs.cache={},Ps=xs;const $s=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),Ns=t=>"number"==typeof t||"string"==typeof t&&""!==t,Bs=t=>Number.isInteger(+t),Ws=t=>{let e=`${t}`,r=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++r];);return r>0},Gs=(t,e,r)=>{if(e>0){let r="-"===t[0]?"-":"";r&&(t=t.slice(1)),t=r+t.padStart(r?e-1:e,"0")}return!1===r?String(t):t},Us=(t,e)=>{let r="-"===t[0]?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},Vs=(t,e,r,n)=>{if(r)return Ps(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);return t===e?i:`[${i}-${String.fromCharCode(e)}]`},qs=(t,e,r)=>{if(Array.isArray(t)){let e=!0===r.wrap,n=r.capture?"":"?:";return e?`(${n}${t.join("|")})`:t.join("|")}return Ps(t,e,r)},zs=(...t)=>new RangeError("Invalid range arguments: "+As.inspect(...t)),Ks=(t,e,r)=>{if(!0===r.strictRanges)throw zs([t,e]);return[]},Qs=(t,e,r=1,n={})=>{let i=Number(t),s=Number(e);if(!Number.isInteger(i)||!Number.isInteger(s)){if(!0===n.strictRanges)throw zs([t,e]);return[]}0===i&&(i=0),0===s&&(s=0);let o=i>s,a=String(t),c=String(e),u=String(r);r=Math.max(Math.abs(r),1);let l=Ws(a)||Ws(c)||Ws(u),h=l?Math.max(a.length,c.length,u.length):0,f=!1===l&&!1===((t,e,r)=>"string"==typeof t||"string"==typeof e||!0===r.stringify)(t,e,n),p=n.transform||(t=>e=>!0===t?Number(e):String(e))(f);if(n.toRegex&&1===r)return Vs(Us(t,h),Us(e,h),!0,n);let d={negatives:[],positives:[]},g=[],_=0;for(;o?i>=s:i<=s;)!0===n.toRegex&&r>1?d[(y=i)<0?"negatives":"positives"].push(Math.abs(y)):g.push(Gs(p(i,_),h,f)),i=o?i-r:i+r,_++;var y;return!0===n.toRegex?r>1?((t,e)=>{t.negatives.sort(((t,e)=>t<e?-1:t>e?1:0)),t.positives.sort(((t,e)=>t<e?-1:t>e?1:0));let r,n=e.capture?"":"?:",i="",s="";return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(s=`-(${n}${t.negatives.join("|")})`),r=i&&s?`${i}|${s}`:i||s,e.wrap?`(${n}${r})`:r})(d,n):qs(g,null,{wrap:!1,...n}):g},Ys=(t,e,r,n={})=>{if(null==e&&Ns(t))return[t];if(!Ns(t)||!Ns(e))return Ks(t,e,n);if("function"==typeof r)return Ys(t,e,1,{transform:r});if($s(r))return Ys(t,e,0,r);let i={...n};return!0===i.capture&&(i.wrap=!0),r=r||i.step||1,Bs(r)?Bs(t)&&Bs(e)?Qs(t,e,r,i):((t,e,r=1,n={})=>{if(!Bs(t)&&t.length>1||!Bs(e)&&e.length>1)return Ks(t,e,n);let i=n.transform||(t=>String.fromCharCode(t)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,c=Math.min(s,o),u=Math.max(s,o);if(n.toRegex&&1===r)return Vs(c,u,!1,n);let l=[],h=0;for(;a?s>=o:s<=o;)l.push(i(s,h)),s=a?s-r:s+r,h++;return!0===n.toRegex?qs(l,null,{wrap:!1,options:n}):l})(t,e,Math.max(Math.abs(r),1),i):null==r||$s(r)?Ys(t,e,1,r):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(r,i)};Ss=Ys;Es=(t,e={})=>{let r=(t,n={})=>{let i=vs(n),s=!0===t.invalid&&!0===e.escapeInvalid,o=!0===i||!0===s,a=!0===e.escapeInvalid?"\\":"",c="";if(!0===t.isOpen)return a+t.value;if(!0===t.isClose)return a+t.value;if("open"===t.type)return o?a+t.value:"(";if("close"===t.type)return o?a+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":o?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let r=bs(t.nodes),n=Ss(...r,{...e,wrap:!1,toRegex:!0});if(0!==n.length)return r.length>1&&n.length>1?`(${n})`:n}if(t.nodes)for(let e of t.nodes)c+=r(e,t);return c};return r(t)};var Xs={};const Zs=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return r?ws(e).map((t=>`{${t}}`)):e;for(let i of t)if(Array.isArray(i))for(let t of i)n.push(Zs(t,e,r));else for(let t of e)!0===r&&"string"==typeof t&&(t=`{${t}}`),n.push(Array.isArray(t)?Zs(i,t,r):i+t);return ws(n)};Xs=(t,e={})=>{let r=void 0===e.rangeLimit?1e3:e.rangeLimit,n=(t,i={})=>{t.queue=[];let s=i,o=i.queue;for(;"brace"!==s.type&&"root"!==s.type&&s.parent;)s=s.parent,o=s.queue;if(t.invalid||t.dollar)return void o.push(Zs(o.pop(),_s(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void o.push(Zs(o.pop(),["{}"]));if(t.nodes&&t.ranges>0){let n=bs(t.nodes);if(((t,e,r=1,n)=>!1!==n&&!(!ms(t)||!ms(e))&&(Number(e)-Number(t))/Number(r)>=n)(...n,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let i=Ss(...n,e);return 0===i.length&&(i=_s(t,e)),o.push(Zs(o.pop(),i)),void(t.nodes=[])}let a=(t=>"brace"===t.type&&t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0))(t),c=t.queue,u=t;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,c=u.queue;for(let e=0;e<t.nodes.length;e++){let r=t.nodes[e];"comma"!==r.type||"brace"!==t.type?"close"!==r.type?r.value&&"open"!==r.type?c.push(Zs(c.pop(),r.value)):r.nodes&&n(r,t):o.push(Zs(o.pop(),c,a)):(1===e&&c.push(""),c.push(""))}return c};return ws(n(t))};var Js,to={};Js={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const{MAX_LENGTH:eo,CHAR_BACKSLASH:ro,CHAR_BACKTICK:no,CHAR_COMMA:io,CHAR_DOT:so,CHAR_LEFT_PARENTHESES:oo,CHAR_RIGHT_PARENTHESES:ao,CHAR_LEFT_CURLY_BRACE:co,CHAR_RIGHT_CURLY_BRACE:uo,CHAR_LEFT_SQUARE_BRACKET:lo,CHAR_RIGHT_SQUARE_BRACKET:ho,CHAR_DOUBLE_QUOTE:fo,CHAR_SINGLE_QUOTE:po,CHAR_NO_BREAK_SPACE:go,CHAR_ZERO_WIDTH_NOBREAK_SPACE:_o}=Js;to=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");let r=e||{},n="number"==typeof r.maxLength?Math.min(eo,r.maxLength):eo;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i,s={type:"root",input:t,nodes:[]},o=[s],a=s,c=s,u=0,l=t.length,h=0,f=0;const p=()=>t[h++],d=t=>{if("text"===t.type&&"dot"===c.type&&(c.type="text"),!c||"text"!==c.type||"text"!==t.type)return a.nodes.push(t),t.parent=a,t.prev=c,c=t,t;c.value+=t.value};for(d({type:"bos"});h<l;)if(a=o[o.length-1],i=p(),i!==_o&&i!==go)if(i!==ro)if(i!==ho)if(i!==lo)if(i!==oo)if(i!==ao)if(i!==fo&&i!==po&&i!==no)if(i!==co)if(i!==uo)if(i===io&&f>0){if(a.ranges>0){a.ranges=0;let t=a.nodes.shift();a.nodes=[t,{type:"text",value:_s(a)}]}d({type:"comma",value:i}),a.commas++}else if(i===so&&f>0&&0===a.commas){let t=a.nodes;if(0===f||0===t.length){d({type:"text",value:i});continue}if("dot"===c.type){if(a.range=[],c.value+=i,c.type="range",3!==a.nodes.length&&5!==a.nodes.length){a.invalid=!0,a.ranges=0,c.type="text";continue}a.ranges++,a.args=[];continue}if("range"===c.type){t.pop();let e=t[t.length-1];e.value+=c.value+i,c=e,a.ranges--;continue}d({type:"dot",value:i})}else d({type:"text",value:i});else{if("brace"!==a.type){d({type:"text",value:i});continue}let t="close";a=o.pop(),a.close=!0,d({type:t,value:i}),f--,a=o[o.length-1]}else{f++;let t=c.value&&"$"===c.value.slice(-1)||!0===a.dollar;a=d({type:"brace",open:!0,close:!1,dollar:t,depth:f,commas:0,ranges:0,nodes:[]}),o.push(a),d({type:"open",value:i})}else{let t,r=i;for(!0!==e.keepQuotes&&(i="");h<l&&(t=p());)if(t!==ro){if(t===r){!0===e.keepQuotes&&(i+=t);break}i+=t}else i+=t+p();d({type:"text",value:i})}else{if("paren"!==a.type){d({type:"text",value:i});continue}a=o.pop(),d({type:"text",value:i}),a=o[o.length-1]}else a=d({type:"paren",nodes:[]}),o.push(a),d({type:"text",value:i});else{u++;let t;for(;h<l&&(t=p());)if(i+=t,t!==lo)if(t!==ro){if(t===ho&&(u--,0===u))break}else i+=p();else u++;d({type:"text",value:i})}else d({type:"text",value:"\\"+i});else d({type:"text",value:(e.keepEscaping?i:"")+p()});do{if(a=o.pop(),"root"!==a.type){a.nodes.forEach((t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)}));let t=o[o.length-1],e=t.nodes.indexOf(a);t.nodes.splice(e,1,...a.nodes)}}while(o.length>0);return d({type:"eos"}),s};const yo=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let t=yo.create(n,e);Array.isArray(t)?r.push(...t):r.push(t)}else r=[].concat(yo.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(r=[...new Set(r)]),r};yo.parse=(t,e={})=>to(t,e),yo.stringify=(t,e={})=>_s("string"==typeof t?yo.parse(t,e):t,e),yo.compile=(t,e={})=>("string"==typeof t&&(t=yo.parse(t,e)),Es(t,e)),yo.expand=(t,e={})=>{"string"==typeof t&&(t=yo.parse(t,e));let r=Xs(t,e);return!0===e.noempty&&(r=r.filter(Boolean)),!0===e.nodupes&&(r=[...new Set(r)]),r},yo.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?yo.compile(t,e):yo.expand(t,e),ys=yo;var mo={};const vo=c;var bo={};const wo=c,Eo="win32"===process.platform;var So={};const Ao=c,Ro={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},Po={...Ro,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};So={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ao.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?Po:Ro};const{REGEX_BACKSLASH:xo,REGEX_REMOVE_BACKSLASH:Oo,REGEX_SPECIAL_CHARS:Co,REGEX_SPECIAL_CHARS_GLOBAL:ko}=So;var Do=t=>t.replace(ko,"\\$1"),To=t=>t.replace(xo,"/"),jo=t=>t.replace(Oo,(t=>"\\"===t?"":t)),Fo=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},Mo=t=>t&&"boolean"==typeof t.windows?t.windows:!0===Eo||"\\"===wo.sep,Io=(t,e,r)=>{const n=t.lastIndexOf(e,r);return-1===n?t:"\\"===t[n-1]?Io(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`},Lo=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};const{CHAR_ASTERISK:Ho,CHAR_AT:$o,CHAR_BACKWARD_SLASH:No,CHAR_COMMA:Bo,CHAR_DOT:Wo,CHAR_EXCLAMATION_MARK:Go,CHAR_FORWARD_SLASH:Uo,CHAR_LEFT_CURLY_BRACE:Vo,CHAR_LEFT_PARENTHESES:qo,CHAR_LEFT_SQUARE_BRACKET:zo,CHAR_PLUS:Ko,CHAR_QUESTION_MARK:Qo,CHAR_RIGHT_CURLY_BRACE:Yo,CHAR_RIGHT_PARENTHESES:Xo,CHAR_RIGHT_SQUARE_BRACKET:Zo}=So,Jo=t=>t===Uo||t===No,ta=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};bo=(t,e)=>{const r=e||{},n=t.length-1,i=!0===r.parts||!0===r.scanToEnd,s=[],o=[],a=[];let c,u,l=t,h=-1,f=0,p=0,d=!1,g=!1,_=!1,y=!1,m=!1,v=!1,b=!1,w=!1,E=!1,S=0,A={value:"",depth:0,isGlob:!1};const R=()=>h>=n,P=()=>(c=u,l.charCodeAt(++h));for(;h<n;){let t;if(u=P(),u!==No){if(!0===v||u===Vo){for(S++;!0!==R()&&(u=P());)if(u!==No)if(u!==Vo){if(!0!==v&&u===Wo&&(u=P())===Wo){if(d=A.isBrace=!0,_=A.isGlob=!0,E=!0,!0===i)continue;break}if(!0!==v&&u===Bo){if(d=A.isBrace=!0,_=A.isGlob=!0,E=!0,!0===i)continue;break}if(u===Yo&&(S--,0===S)){v=!1,d=A.isBrace=!0,E=!0;break}}else S++;else b=A.backslashes=!0,P();if(!0===i)continue;break}if(u!==Uo){if(!0!==r.noext){if(!0===(u===Ko||u===$o||u===Ho||u===Qo||u===Go)&&l.charCodeAt(h+1)===qo){if(_=A.isGlob=!0,y=A.isExtglob=!0,E=!0,!0===i){for(;!0!==R()&&(u=P());)if(u!==No){if(u===Xo){_=A.isGlob=!0,E=!0;break}}else b=A.backslashes=!0,u=P();continue}break}}if(u===Ho){if(c===Ho&&(m=A.isGlobstar=!0),_=A.isGlob=!0,E=!0,!0===i)continue;break}if(u===Qo){if(_=A.isGlob=!0,E=!0,!0===i)continue;break}if(u===zo){for(;!0!==R()&&(t=P());)if(t!==No){if(t===Zo){g=A.isBracket=!0,_=A.isGlob=!0,E=!0;break}}else b=A.backslashes=!0,P();if(!0===i)continue;break}if(!0===r.nonegate||u!==Go||h!==f){if(!0!==r.noparen&&u===qo){if(_=A.isGlob=!0,!0===i){for(;!0!==R()&&(u=P());)if(u!==qo){if(u===Xo){E=!0;break}}else b=A.backslashes=!0,u=P();continue}break}if(!0===_){if(E=!0,!0===i)continue;break}}else w=A.negated=!0,f++}else{if(s.push(h),o.push(A),A={value:"",depth:0,isGlob:!1},!0===E)continue;if(c===Wo&&h===f+1){f+=2;continue}p=h+1}}else b=A.backslashes=!0,u=P(),u===Vo&&(v=!0)}!0===r.noext&&(y=!1,_=!1);let x=l,O="",C="";f>0&&(O=l.slice(0,f),l=l.slice(f),p-=f),x&&!0===_&&p>0?(x=l.slice(0,p),C=l.slice(p)):!0===_?(x="",C=l):x=l,x&&""!==x&&"/"!==x&&x!==l&&Jo(x.charCodeAt(x.length-1))&&(x=x.slice(0,-1)),!0===r.unescape&&(C&&(C=jo(C)),x&&!0===b&&(x=jo(x)));const k={prefix:O,input:t,start:f,base:x,glob:C,isBrace:d,isBracket:g,isGlob:_,isExtglob:y,isGlobstar:m,negated:w};if(!0===r.tokens&&(k.maxDepth=0,Jo(u)||o.push(A),k.tokens=o),!0===r.parts||!0===r.tokens){let e;for(let n=0;n<s.length;n++){const i=e?e+1:f,c=s[n],u=t.slice(i,c);r.tokens&&(0===n&&0!==f?(o[n].isPrefix=!0,o[n].value=O):o[n].value=u,ta(o[n]),k.maxDepth+=o[n].depth),0===n&&""===u||a.push(u),e=c}if(e&&e+1<t.length){const n=t.slice(e+1);a.push(n),r.tokens&&(o[o.length-1].value=n,ta(o[o.length-1]),k.maxDepth+=o[o.length-1].depth)}k.slashes=s,k.parts=a}return k};var ea={};const{MAX_LENGTH:ra,POSIX_REGEX_SOURCE:na,REGEX_NON_SPECIAL_CHARS:ia,REGEX_SPECIAL_CHARS_BACKREF:sa,REPLACEMENTS:oa}=So,aa=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const r=`[${t.join("-")}]`;try{new RegExp(r)}catch(e){return t.map((t=>Do(t))).join("..")}return r},ca=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,ua=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=oa[t]||t;const r={...e},n="number"==typeof r.maxLength?Math.min(ra,r.maxLength):ra;let i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);const s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",c=Mo(e),u=So.globChars(c),l=So.extglobChars(u),{DOT_LITERAL:h,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:g,NO_DOT:_,NO_DOT_SLASH:y,NO_DOTS_SLASH:m,QMARK:v,QMARK_NO_DOT:b,STAR:w,START_ANCHOR:E}=u,S=t=>`(${a}(?:(?!${E}${t.dot?g:h}).)*?)`,A=r.dot?"":_,R=r.dot?v:b;let P=!0===r.bash?S(r):w;r.capture&&(P=`(${P})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const x={input:t,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=Lo(t,x),i=t.length;const O=[],C=[],k=[];let D,T=s;const j=()=>x.index===i-1,F=x.peek=(e=1)=>t[x.index+e],M=x.advance=()=>t[++x.index],I=()=>t.slice(x.index+1),L=(t="",e=0)=>{x.consumed+=t,x.index+=e},H=t=>{x.output+=null!=t.output?t.output:t.value,L(t.value)},$=()=>{let t=1;for(;"!"===F()&&("("!==F(2)||"?"===F(3));)M(),x.start++,t++;return t%2!=0&&(x.negated=!0,x.start++,!0)},N=t=>{x[t]++,k.push(t)},B=t=>{x[t]--,k.pop()},W=t=>{if("globstar"===T.type){const e=x.braces>0&&("comma"===t.type||"brace"===t.type),r=!0===t.extglob||O.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||r||(x.output=x.output.slice(0,-T.output.length),T.type="star",T.value="*",T.output=P,x.output+=T.output)}if(O.length&&"paren"!==t.type&&!l[t.value]&&(O[O.length-1].inner+=t.value),(t.value||t.output)&&H(t),T&&"text"===T.type&&"text"===t.type)return T.value+=t.value,void(T.output=(T.output||"")+t.value);t.prev=T,o.push(t),T=t},G=(t,e)=>{const n={...l[e],conditions:1,inner:""};n.prev=T,n.parens=x.parens,n.output=x.output;const i=(r.capture?"(":"")+n.open;N("parens"),W({type:t,value:e,output:x.output?"":d}),W({type:"paren",extglob:!0,value:M(),output:i}),O.push(n)},U=t=>{let e=t.close+(r.capture?")":"");if("negate"===t.type){let n=P;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(n=S(r)),(n!==P||j()||/^\)+$/.test(I()))&&(e=t.close=`)$))${n}`),"bos"===t.prev.type&&(x.negatedExtglob=!0)}W({type:"paren",extglob:!0,value:D,output:e}),B("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let n=!1,i=t.replace(sa,((t,e,r,i,s,o)=>"\\"===i?(n=!0,t):"?"===i?e?e+i+(s?v.repeat(s.length):""):0===o?R+(s?v.repeat(s.length):""):v.repeat(r.length):"."===i?h.repeat(r.length):"*"===i?e?e+i+(s?P:""):P:e?t:`\\${t}`));return!0===n&&(i=!0===r.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),i===t&&!0===r.contains?(x.output=t,x):(x.output=((t,e={},r={})=>{let n=`${r.contains?"":"^"}(?:${t})${r.contains?"":"$"}`;return!0===e.negated&&(n=`(?:^(?!${n}).*$)`),n})(i,x,e),x)}for(;!j();){if(D=M(),"\0"===D)continue;if("\\"===D){const t=F();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){D+="\\",W({type:"text",value:D});continue}const e=/^\\+/.exec(I());let n=0;if(e&&e[0].length>2&&(n=e[0].length,x.index+=n,n%2!=0&&(D+="\\")),!0===r.unescape?D=M()||"":D+=M()||"",0===x.brackets){W({type:"text",value:D});continue}}if(x.brackets>0&&("]"!==D||"["===T.value||"[^"===T.value)){if(!1!==r.posix&&":"===D){const t=T.value.slice(1);if(t.includes("[")&&(T.posix=!0,t.includes(":"))){const t=T.value.lastIndexOf("["),e=T.value.slice(0,t),r=T.value.slice(t+2),n=na[r];if(n){T.value=e+n,x.backtrack=!0,M(),s.output||1!==o.indexOf(T)||(s.output=d);continue}}}("["===D&&":"!==F()||"-"===D&&"]"===F())&&(D=`\\${D}`),"]"!==D||"["!==T.value&&"[^"!==T.value||(D=`\\${D}`),!0===r.posix&&"!"===D&&"["===T.value&&(D="^"),T.value+=D,H({value:D});continue}if(1===x.quotes&&'"'!==D){D=Do(D),T.value+=D,H({value:D});continue}if('"'===D){x.quotes=1===x.quotes?0:1,!0===r.keepQuotes&&W({type:"text",value:D});continue}if("("===D){N("parens"),W({type:"paren",value:D});continue}if(")"===D){if(0===x.parens&&!0===r.strictBrackets)throw new SyntaxError(ca("opening","("));const t=O[O.length-1];if(t&&x.parens===t.parens+1){U(O.pop());continue}W({type:"paren",value:D,output:x.parens?")":"\\)"}),B("parens");continue}if("["===D){if(!0!==r.nobracket&&I().includes("]"))N("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(ca("closing","]"));D=`\\${D}`}W({type:"bracket",value:D});continue}if("]"===D){if(!0===r.nobracket||T&&"bracket"===T.type&&1===T.value.length){W({type:"text",value:D,output:`\\${D}`});continue}if(0===x.brackets){if(!0===r.strictBrackets)throw new SyntaxError(ca("opening","["));W({type:"text",value:D,output:`\\${D}`});continue}B("brackets");const t=T.value.slice(1);if(!0===T.posix||"^"!==t[0]||t.includes("/")||(D=`/${D}`),T.value+=D,H({value:D}),!1===r.literalBrackets||(V=t,Co.test(V)))continue;const e=Do(T.value);if(x.output=x.output.slice(0,-T.value.length),!0===r.literalBrackets){x.output+=e,T.value=e;continue}T.value=`(${a}${e}|${T.value})`,x.output+=T.value;continue}if("{"===D&&!0!==r.nobrace){N("braces");const t={type:"brace",value:D,output:"(",outputIndex:x.output.length,tokensIndex:x.tokens.length};C.push(t),W(t);continue}if("}"===D){const t=C[C.length-1];if(!0===r.nobrace||!t){W({type:"text",value:D,output:D});continue}let e=")";if(!0===t.dots){const t=o.slice(),n=[];for(let e=t.length-1;e>=0&&(o.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=aa(n,r),x.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const r=x.output.slice(0,t.outputIndex),n=x.tokens.slice(t.tokensIndex);t.value=t.output="\\{",D=e="\\}",x.output=r;for(const t of n)x.output+=t.output||t.value}W({type:"brace",value:D,output:e}),B("braces"),C.pop();continue}if("|"===D){O.length>0&&O[O.length-1].conditions++,W({type:"text",value:D});continue}if(","===D){let t=D;const e=C[C.length-1];e&&"braces"===k[k.length-1]&&(e.comma=!0,t="|"),W({type:"comma",value:D,output:t});continue}if("/"===D){if("dot"===T.type&&x.index===x.start+1){x.start=x.index+1,x.consumed="",x.output="",o.pop(),T=s;continue}W({type:"slash",value:D,output:p});continue}if("."===D){if(x.braces>0&&"dot"===T.type){"."===T.value&&(T.output=h);const t=C[C.length-1];T.type="dots",T.output+=D,T.value+=D,t.dots=!0;continue}if(x.braces+x.parens===0&&"bos"!==T.type&&"slash"!==T.type){W({type:"text",value:D,output:h});continue}W({type:"dot",value:D,output:h});continue}if("?"===D){if(!(T&&"("===T.value)&&!0!==r.noextglob&&"("===F()&&"?"!==F(2)){G("qmark",D);continue}if(T&&"paren"===T.type){const t=F();let e=D;if("<"===t&&!Fo())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===T.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(I()))&&(e=`\\${D}`),W({type:"text",value:D,output:e});continue}if(!0!==r.dot&&("slash"===T.type||"bos"===T.type)){W({type:"qmark",value:D,output:b});continue}W({type:"qmark",value:D,output:v});continue}if("!"===D){if(!0!==r.noextglob&&"("===F()&&("?"!==F(2)||!/[!=<:]/.test(F(3)))){G("negate",D);continue}if(!0!==r.nonegate&&0===x.index){$();continue}}if("+"===D){if(!0!==r.noextglob&&"("===F()&&"?"!==F(2)){G("plus",D);continue}if(T&&"("===T.value||!1===r.regex){W({type:"plus",value:D,output:f});continue}if(T&&("bracket"===T.type||"paren"===T.type||"brace"===T.type)||x.parens>0){W({type:"plus",value:D});continue}W({type:"plus",value:f});continue}if("@"===D){if(!0!==r.noextglob&&"("===F()&&"?"!==F(2)){W({type:"at",extglob:!0,value:D,output:""});continue}W({type:"text",value:D});continue}if("*"!==D){"$"!==D&&"^"!==D||(D=`\\${D}`);const t=ia.exec(I());t&&(D+=t[0],x.index+=t[0].length),W({type:"text",value:D});continue}if(T&&("globstar"===T.type||!0===T.star)){T.type="star",T.star=!0,T.value+=D,T.output=P,x.backtrack=!0,x.globstar=!0,L(D);continue}let e=I();if(!0!==r.noextglob&&/^\([^?]/.test(e)){G("star",D);continue}if("star"===T.type){if(!0===r.noglobstar){L(D);continue}const n=T.prev,i=n.prev,s="slash"===n.type||"bos"===n.type,o=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!s||e[0]&&"/"!==e[0])){W({type:"star",value:D,output:""});continue}const a=x.braces>0&&("comma"===n.type||"brace"===n.type),c=O.length&&("pipe"===n.type||"paren"===n.type);if(!s&&"paren"!==n.type&&!a&&!c){W({type:"star",value:D,output:""});continue}for(;"/**"===e.slice(0,3);){const r=t[x.index+4];if(r&&"/"!==r)break;e=e.slice(3),L("/**",3)}if("bos"===n.type&&j()){T.type="globstar",T.value+=D,T.output=S(r),x.output=T.output,x.globstar=!0,L(D);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&j()){x.output=x.output.slice(0,-(n.output+T.output).length),n.output=`(?:${n.output}`,T.type="globstar",T.output=S(r)+(r.strictSlashes?")":"|$)"),T.value+=D,x.globstar=!0,x.output+=n.output+T.output,L(D);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";x.output=x.output.slice(0,-(n.output+T.output).length),n.output=`(?:${n.output}`,T.type="globstar",T.output=`${S(r)}${p}|${p}${t})`,T.value+=D,x.output+=n.output+T.output,x.globstar=!0,L(D+M()),W({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===e[0]){T.type="globstar",T.value+=D,T.output=`(?:^|${p}|${S(r)}${p})`,x.output=T.output,x.globstar=!0,L(D+M()),W({type:"slash",value:"/",output:""});continue}x.output=x.output.slice(0,-T.output.length),T.type="globstar",T.output=S(r),T.value+=D,x.output+=T.output,x.globstar=!0,L(D);continue}const n={type:"star",value:D,output:P};!0!==r.bash?!T||"bracket"!==T.type&&"paren"!==T.type||!0!==r.regex?(x.index!==x.start&&"slash"!==T.type&&"dot"!==T.type||("dot"===T.type?(x.output+=y,T.output+=y):!0===r.dot?(x.output+=m,T.output+=m):(x.output+=A,T.output+=A),"*"!==F()&&(x.output+=d,T.output+=d)),W(n)):(n.output=D,W(n)):(n.output=".*?","bos"!==T.type&&"slash"!==T.type||(n.output=A+n.output),W(n))}for(var V;x.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(ca("closing","]"));x.output=Io(x.output,"["),B("brackets")}for(;x.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(ca("closing",")"));x.output=Io(x.output,"("),B("parens")}for(;x.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(ca("closing","}"));x.output=Io(x.output,"{"),B("braces")}if(!0===r.strictSlashes||"star"!==T.type&&"bracket"!==T.type||W({type:"maybe_slash",value:"",output:`${p}?`}),!0===x.backtrack){x.output="";for(const t of x.tokens)x.output+=null!=t.output?t.output:t.value,t.suffix&&(x.output+=t.suffix)}return x};ua.fastpaths=(t,e)=>{const r={...e},n="number"==typeof r.maxLength?Math.min(ra,r.maxLength):ra,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=oa[t]||t;const s=Mo(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:h,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:d}=So.globChars(s),g=r.dot?h:l,_=r.dot?f:l,y=r.capture?"":"?:";let m=!0===r.bash?".*?":p;r.capture&&(m=`(${m})`);const v=t=>!0===t.noglobstar?m:`(${y}(?:(?!${d}${t.dot?u:o}).)*?)`,b=t=>{switch(t){case"*":return`${g}${c}${m}`;case".*":return`${o}${c}${m}`;case"*.*":return`${g}${m}${o}${c}${m}`;case"*/*":return`${g}${m}${a}${c}${_}${m}`;case"**":return g+v(r);case"**/*":return`(?:${g}${v(r)}${a})?${_}${c}${m}`;case"**/*.*":return`(?:${g}${v(r)}${a})?${_}${m}${o}${c}${m}`;case"**/.*":return`(?:${g}${v(r)}${a})?${o}${c}${m}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const r=b(e[1]);if(!r)return;return r+o+e[2]}}},w=Lo(t,{negated:!1,prefix:""});let E=b(w);return E&&!0!==r.strictSlashes&&(E+=`${a}?`),E},ea=ua;const la=(t,e,r=!1)=>{if(Array.isArray(t)){const n=t.map((t=>la(t,e,r)));return t=>{for(const e of n){const r=e(t);if(r)return r}return!1}}const n=(i=t)&&"object"==typeof i&&!Array.isArray(i)&&t.tokens&&t.input;var i;if(""===t||"string"!=typeof t&&!n)throw new TypeError("Expected pattern to be a non-empty string");const s=e||{},o=Mo(e),a=n?la.compileRe(t,e):la.makeRe(t,e,!1,!0),c=a.state;delete a.state;let u=()=>!1;if(s.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};u=la(s.ignore,t,r)}const l=(r,n=!1)=>{const{isMatch:i,match:l,output:h}=la.test(r,a,e,{glob:t,posix:o}),f={glob:t,state:c,regex:a,posix:o,input:r,output:h,match:l,isMatch:i};return"function"==typeof s.onResult&&s.onResult(f),!1===i?(f.isMatch=!1,!!n&&f):u(r)?("function"==typeof s.onIgnore&&s.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof s.onMatch&&s.onMatch(f),!n||f)};return r&&(l.state=c),l};la.test=(t,e,r,{glob:n,posix:i}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const s=r||{},o=s.format||(i?To:null);let a=t===n,c=a&&o?o(t):t;return!1===a&&(c=o?o(t):t,a=c===n),!1!==a&&!0!==s.capture||(a=!0===s.matchBase||!0===s.basename?la.matchBase(t,e,r,i):e.exec(c)),{isMatch:Boolean(a),match:a,output:c}},la.matchBase=(t,e,r,n=Mo(r))=>(e instanceof RegExp?e:la.makeRe(e,r)).test(vo.basename(t)),la.isMatch=(t,e,r)=>la(e,r)(t),la.parse=(t,e)=>Array.isArray(t)?t.map((t=>la.parse(t,e))):ea(t,{...e,fastpaths:!1}),la.scan=(t,e)=>bo(t,e),la.compileRe=(t,e,r=!1,n=!1)=>{if(!0===r)return t.output;const i=e||{},s=i.contains?"":"^",o=i.contains?"":"$";let a=`${s}(?:${t.output})${o}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const c=la.toRegex(a,e);return!0===n&&(c.state=t),c},la.makeRe=(t,e,r=!1,n=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");const i=e||{};let s,o={negated:!1,fastpaths:!0},a="";return t.startsWith("./")&&(t=t.slice(2),a=o.prefix="./"),!1===i.fastpaths||"."!==t[0]&&"*"!==t[0]||(s=ea.fastpaths(t,e)),void 0===s?(o=ea(t,e),o.prefix=a+(o.prefix||"")):o.output=s,la.compileRe(o,e,r,n)},la.toRegex=(t,e)=>{try{const r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},la.constants=So,mo=la;const ha=t=>""===t||"./"===t,fa=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,s=new Set,o=0,a=t=>{s.add(t.output),r&&r.onResult&&r.onResult(t)};for(let s=0;s<e.length;s++){let c=mo(String(e[s]),{...r,onResult:a},!0),u=c.state.negated||c.state.negatedExtglob;u&&o++;for(let e of t){let t=c(e,!0);(u?!t.isMatch:t.isMatch)&&(u?n.add(t.output):(n.delete(t.output),i.add(t.output)))}}let c=(o===e.length?[...s]:[...i]).filter((t=>!n.has(t)));if(r&&0===c.length){if(!0===r.failglob)throw new Error(`No matches found for "${e.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?e.map((t=>t.replace(/\\/g,""))):e}return c};fa.match=fa,fa.matcher=(t,e)=>mo(t,e),fa.any=fa.isMatch=(t,e,r)=>mo(e,r)(t),fa.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],s=fa(t,e,{...r,onResult:t=>{r.onResult&&r.onResult(t),i.push(t.output)}});for(let t of i)s.includes(t)||n.add(t);return[...n]},fa.contains=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${gs.inspect(t)}"`);if(Array.isArray(e))return e.some((e=>fa.contains(t,e,r)));if("string"==typeof e){if(ha(t)||ha(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return fa.isMatch(t,e,{...r,contains:!0})},fa.matchKeys=(t,e,r)=>{if(null===(n=t)||"object"!=typeof n||Array.isArray(n))throw new TypeError("Expected the first argument to be an object");var n;let i=fa(Object.keys(t),e,r),s={};for(let e of i)s[e]=t[e];return s},fa.some=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=mo(String(t),r);if(n.some((t=>e(t))))return!0}return!1},fa.every=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=mo(String(t),r);if(!n.every((t=>e(t))))return!1}return!0},fa.all=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${gs.inspect(t)}"`);return[].concat(e).every((e=>mo(e,r)(t)))},fa.capture=(t,e,r)=>{let n=Mo(r),i=mo.makeRe(String(t),{...r,capture:!0}).exec(n?To(e):e);if(i)return i.slice(1).map((t=>void 0===t?"":t))},fa.makeRe=(...t)=>mo.makeRe(...t),fa.scan=(...t)=>mo.scan(...t),fa.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let t of ys(String(n),e))r.push(mo.parse(t,e));return r},fa.braces=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return e&&!0===e.nobrace||!/\{.*\}/.test(t)?[t]:ys(t,e)},fa.braceExpand=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return fa.braces(t,{...e,expand:!0})},ds=fa;const pa=/[*?]|^!/,da=/\[.*]/,ga=/(?:^|[^!*+?@])\(.*\|.*\)/,_a=/[!*+?@]\(.*\)/,ya=/{.*(?:,|\.\.).*}/;function ma(t,e={}){return!ba(t,e)}var va=ma;function ba(t,e={}){return""!==t&&(!(!1!==e.caseSensitiveMatch&&!t.includes("\\"))||(!!(pa.test(t)||da.test(t)||ga.test(t))||(!(!1===e.extglob||!_a.test(t))||!(!1===e.braceExpansion||!ya.test(t)))))}Ji.isStaticPattern=va;var wa=ba;Ji.isDynamicPattern=wa;var Ea=function(t){return Aa(t)?t.slice(1):t};Ji.convertToPositivePattern=Ea;var Sa=function(t){return"!"+t};function Aa(t){return t.startsWith("!")&&"("!==t[1]}Ji.convertToNegativePattern=Sa;var Ra=Aa;function Pa(t){return!Aa(t)}Ji.isNegativePattern=Ra;var xa=Pa;Ji.isPositivePattern=xa;var Oa=function(t){return t.filter(Aa)};Ji.getNegativePatterns=Oa;var Ca=function(t){return t.filter(Pa)};Ji.getPositivePatterns=Ca;var ka=function(t){return rs(t,{flipBackslashes:!1})};Ji.getBaseDirectory=ka;var Da=function(t){return t.includes("**")};function Ta(t){return t.endsWith("/**")}Ji.hasGlobStar=Da;var ja=Ta;Ji.endsWithSlashGlobStar=ja;var Fa=function(t){const e=es.basename(t);return Ta(t)||ma(e)};Ji.isAffectDepthOfReadingPattern=Fa;var Ma=function(t){return t.reduce(((t,e)=>t.concat(Ia(e))),[])};function Ia(t){return ds.braces(t,{expand:!0,nodupes:!0})}Ji.expandPatternsWithBraceExpansion=Ma;var La=Ia;Ji.expandBraceExpansion=La;var Ha=function(t,e){let{parts:r}=mo.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return 0===r.length&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r};function $a(t,e){return ds.makeRe(t,e)}Ji.getPatternParts=Ha;var Na=$a;Ji.makeRe=Na;var Ba=function(t,e){return t.map((t=>$a(t,e)))};Ji.convertPatternsToRe=Ba,ts=function(t,e){return e.some((e=>e.test(t)))},Ji.matchAny=ts;var Wa=Ji;Ti.pattern=Ji;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});var Ua=void 0;Ga.merge=Ua;var Va={};const qa=e.PassThrough,za=Array.prototype.slice;function Ka(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=Ka(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(qa(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}function Qa(t){t.forEach((t=>t.emit("close")))}Va=function(){const t=[],e=za.call(arguments);let r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&null==n.pipe?e.pop():n={};const i=!1!==n.end,s=!0===n.pipeError;null==n.objectMode&&(n.objectMode=!0);null==n.highWaterMark&&(n.highWaterMark=65536);const o=qa(n);function a(){for(let e=0,r=arguments.length;e<r;e++)t.push(Ka(arguments[e],n));return c(),this}function c(){if(r)return;r=!0;let e=t.shift();if(!e)return void process.nextTick(u);Array.isArray(e)||(e=[e]);let n=e.length+1;function i(){--n>0||(r=!1,c())}function a(t){function e(){t.removeListener("merge2UnpipeEnd",e),t.removeListener("end",e),s&&t.removeListener("error",r),i()}function r(t){o.emit("error",t)}if(t._readableState.endEmitted)return i();t.on("merge2UnpipeEnd",e),t.on("end",e),s&&t.on("error",r),t.pipe(o,{end:!1}),t.resume()}for(let t=0;t<e.length;t++)a(e[t]);i()}function u(){r=!1,o.emit("queueDrain"),i&&o.end()}o.setMaxListeners(0),o.add=a,o.on("unpipe",(function(t){t.emit("merge2UnpipeEnd")})),e.length&&a.apply(null,e);return o},Ua=function(t){const e=Va(t);return t.forEach((t=>{t.once("error",(t=>e.emit("error",t)))})),e.once("close",(()=>Qa(t))),e.once("end",(()=>Qa(t))),e},Ga.merge=Ua;var Ya=Ga;Ti.stream=Ga;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});var Za=(Ja=void 0,Xa.isString=Ja);Xa.isEmpty=Za;var Ja=function(t){return"string"==typeof t};Xa.isString=Ja,Za=function(t){return""===t},Xa.isEmpty=Za,ji=Xa,Ti.string=ji;var tc=function(t,e){const r=nc(t),n=sc(t,e.ignore),i=r.filter((t=>Ti.pattern.isStaticPattern(t,e))),s=r.filter((t=>Ti.pattern.isDynamicPattern(t,e))),o=ec(i,n,!1),a=ec(s,n,!0);return o.concat(a)};function ec(t,e,r){const n=ac(t);if("."in n){return[hc(".",t,e,r)]}return uc(n,e,r)}ki.generate=tc;var rc=ec;function nc(t){return Ti.pattern.getPositivePatterns(t)}ki.convertPatternsToTasks=rc;var ic=nc;function sc(t,e){return Ti.pattern.getNegativePatterns(t).concat(e).map(Ti.pattern.convertToPositivePattern)}ki.getPositivePatterns=ic;var oc=sc;function ac(t){return t.reduce(((t,e)=>{const r=Ti.pattern.getBaseDirectory(e);return r in t?t[r].push(e):t[r]=[e],t}),{})}ki.getNegativePatternsAsPositive=oc;var cc=ac;function uc(t,e,r){return Object.keys(t).map((n=>hc(n,t[n],e,r)))}ki.groupPatternsByBaseDirectory=cc;var lc=uc;function hc(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(Ti.pattern.convertToNegativePattern))}}ki.convertPatternGroupsToTasks=lc,Di=hc,ki.convertPatternGroupToTask=Di;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});var pc={};Object.defineProperty(pc,"__esModule",{value:!0});const dc=e;var gc={};Object.defineProperty(gc,"__esModule",{value:!0});var _c=(Cc=void 0,kc=gc.Settings=Cc,gc.stat=kc);gc.statSync=_c;var yc={};Object.defineProperty(yc,"__esModule",{value:!0});var mc=void 0;function vc(t,e){t(e)}function bc(t,e){t(null,e)}yc.read=mc,mc=function(t,e,r){e.fs.lstat(t,((n,i)=>null!==n?vc(r,n):i.isSymbolicLink()&&e.followSymbolicLink?void e.fs.stat(t,((t,n)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?vc(r,t):bc(r,i);e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),bc(r,n)})):bc(r,i)))},yc.read=mc;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});var Ec=void 0;wc.read=Ec,Ec=function(t,e){const r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{const r=e.fs.statSync(t);return e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw t}},wc.read=Ec;var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});var Rc=(xc=void 0,Ac.FILE_SYSTEM_ADAPTER=xc);Ac.createFileSystemAdapter=Rc;const Pc=n;var xc={lstat:Pc.lstat,stat:Pc.stat,lstatSync:Pc.lstatSync,statSync:Pc.statSync};Ac.FILE_SYSTEM_ADAPTER=xc,Rc=function(t){return void 0===t?Ac.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ac.FILE_SYSTEM_ADAPTER),t)},Ac.createFileSystemAdapter=Rc;var Oc=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Ac.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return null!=t?t:e}};Sc.default=Oc;var Cc=Sc.default;gc.Settings=Cc;var kc=function(t,e,r){if("function"==typeof e)return yc.read(t,Dc(),e);yc.read(t,Dc(e),r)};function Dc(t={}){return t instanceof Sc.default?t:new Sc.default(t)}gc.stat=kc,_c=function(t,e){const r=Dc(e);return wc.read(t,r)},gc.statSync=_c;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});var jc=(Xu=void 0,Zu=Tc.walk=Xu,Ju=Tc.walkSync=Zu,Tc.walkStream=Ju);Tc.Settings=jc;var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});const Ic=u;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});var Hc=(wu=void 0,Eu=Lc.scandir=wu,Lc.scandirSync=Eu);Lc.Settings=Hc;var $c={};Object.defineProperty($c,"__esModule",{value:!0});var Nc=(ru=void 0,iu=$c.read=ru,$c.readdirWithFileTypes=iu);$c.readdir=Nc;var Bc={};/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */Bc=function(t,e){let r,n,i,s=!0;Array.isArray(t)?(r=[],n=t.length):(i=Object.keys(t),r={},n=i.length);function o(t){function n(){e&&e(t,r),e=null}s?Wc(n):n()}function a(t,e,i){r[t]=i,(0==--n||e)&&o(e)}n?i?i.forEach((function(e){t[e]((function(t,r){a(e,t,r)}))})):t.forEach((function(t,e){t((function(t,r){a(e,t,r)}))})):o(null);s=!1};var Wc={};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Gc;Wc="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:f):t=>(Gc||(Gc=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)));var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});var Vc=void 0;Uc.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Vc;const qc=process.versions.node.split("."),zc=parseInt(qc[0],10),Kc=parseInt(qc[1],10);Vc=zc>10||10===zc&&Kc>=10,Uc.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Vc;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});var Yc=void 0;Qc.fs=Yc;var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});var Zc=void 0;Xc.createDirentFromStats=Zc;class Jc{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}Zc=function(t,e){return new Jc(t,e)},Xc.createDirentFromStats=Zc,Yc=Xc,Qc.fs=Yc;var tu={};Object.defineProperty(tu,"__esModule",{value:!0});var eu=void 0;tu.joinPathSegments=eu,eu=function(t,e,r){return t.endsWith(r)?t+e:t+r+e},tu.joinPathSegments=eu;var ru=function(t,e,r){return!e.stats&&Uc.IS_SUPPORT_READDIR_WITH_FILE_TYPES?nu(t,e,r):su(t,e,r)};function nu(t,e,r){e.fs.readdir(t,{withFileTypes:!0},((n,i)=>{if(null!==n)return ou(r,n);const s=i.map((r=>({dirent:r,name:r.name,path:tu.joinPathSegments(t,r.name,e.pathSegmentSeparator)})));if(!e.followSymbolicLinks)return au(r,s);const o=s.map((t=>function(t,e){return r=>{if(!t.dirent.isSymbolicLink())return r(null,t);e.fs.stat(t.path,((n,i)=>null!==n?e.throwErrorOnBrokenSymbolicLink?r(n):r(null,t):(t.dirent=Qc.fs.createDirentFromStats(t.name,i),r(null,t))))}}(t,e)));Bc(o,((t,e)=>{if(null!==t)return ou(r,t);au(r,e)}))}))}$c.read=ru;var iu=nu;function su(t,e,r){e.fs.readdir(t,((n,i)=>{if(null!==n)return ou(r,n);const s=i.map((r=>tu.joinPathSegments(t,r,e.pathSegmentSeparator))),o=s.map((t=>r=>gc.stat(t,e.fsStatSettings,r)));Bc(o,((t,n)=>{if(null!==t)return ou(r,t);const o=[];i.forEach(((t,r)=>{const i=n[r],a={name:t,path:s[r],dirent:Qc.fs.createDirentFromStats(t,i)};e.stats&&(a.stats=i),o.push(a)})),au(r,o)}))}))}function ou(t,e){t(e)}function au(t,e){t(null,e)}$c.readdirWithFileTypes=iu,Nc=su,$c.readdir=Nc;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});var uu=(lu=void 0,fu=cu.read=lu,cu.readdirWithFileTypes=fu);cu.readdir=uu;var lu=function(t,e){return!e.stats&&Uc.IS_SUPPORT_READDIR_WITH_FILE_TYPES?hu(t,e):pu(t,e)};function hu(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:tu.joinPathSegments(t,r.name,e.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const t=e.fs.statSync(n.path);n.dirent=Qc.fs.createDirentFromStats(n.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return n}))}cu.read=lu;var fu=hu;function pu(t,e){return e.fs.readdirSync(t).map((r=>{const n=tu.joinPathSegments(t,r,e.pathSegmentSeparator),i=gc.statSync(n,e.fsStatSettings),s={name:r,path:n,dirent:Qc.fs.createDirentFromStats(r,i)};return e.stats&&(s.stats=i),s}))}cu.readdirWithFileTypes=fu,uu=pu,cu.readdir=uu;var du={};Object.defineProperty(du,"__esModule",{value:!0});const gu=c;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});var yu=(vu=void 0,_u.FILE_SYSTEM_ADAPTER=vu);_u.createFileSystemAdapter=yu;const mu=n;var vu={lstat:mu.lstat,stat:mu.stat,lstatSync:mu.lstatSync,statSync:mu.statSync,readdir:mu.readdir,readdirSync:mu.readdirSync};_u.FILE_SYSTEM_ADAPTER=vu,yu=function(t){return void 0===t?_u.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},_u.FILE_SYSTEM_ADAPTER),t)},_u.createFileSystemAdapter=yu;var bu=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=_u.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,gu.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new gc.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}};du.default=bu,Hc=du.default,Lc.Settings=Hc;var wu=function(t,e,r){if("function"==typeof e)return $c.read(t,Su(),e);$c.read(t,Su(e),r)};Lc.scandir=wu;var Eu=function(t,e){const r=Su(e);return cu.read(t,r)};function Su(t={}){return t instanceof du.default?t:new du.default(t)}Lc.scandirSync=Eu;var Au={},Ru={};function Pu(t,e,r){if("function"==typeof t&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Ru(Ou),i=null,s=null,o=0,a=null,c={push:function(r,l){var h=n.get();h.context=t,h.release=u,h.value=r,h.callback=l||xu,h.errorHandler=a,o===c.concurrency||c.paused?s?(s.next=h,s=h):(i=h,s=h,c.saturated()):(o++,e.call(t,h.value,h.worked))},drain:xu,saturated:xu,pause:function(){c.paused=!0},paused:!1,concurrency:r,running:function(){return o},resume:function(){if(!c.paused)return;c.paused=!1;for(var t=0;t<c.concurrency;t++)o++,u()},idle:function(){return 0===o&&0===c.length()},length:function(){var t=i,e=0;for(;t;)t=t.next,e++;return e},getQueue:function(){var t=i,e=[];for(;t;)e.push(t.value),t=t.next;return e},unshift:function(r,a){var l=n.get();l.context=t,l.release=u,l.value=r,l.callback=a||xu,o===c.concurrency||c.paused?i?(l.next=i,i=l):(i=l,s=l,c.saturated()):(o++,e.call(t,l.value,l.worked))},empty:xu,kill:function(){i=null,s=null,c.drain=xu},killAndDrain:function(){i=null,s=null,c.drain(),c.drain=xu},error:function(t){a=t}};return c;function u(r){r&&n.release(r);var a=i;a?c.paused?o--:(s===i&&(s=null),i=a.next,a.next=null,e.call(t,a.value,a.worked),null===s&&c.empty()):0==--o&&c.drain()}}function xu(){}function Ou(){this.value=null,this.callback=xu,this.next=null,this.release=xu,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,r){var n=t.callback,i=t.errorHandler,s=t.value;t.value=null,t.callback=xu,t.errorHandler&&i(e,s),n.call(t.context,e,r),t.release(t)}}Ru=function(t){var e=new t,r=e;return{get:function(){var n=e;return n.next?e=n.next:(e=new t,r=e),n.next=null,n},release:function(t){r.next=t,r=t}}};var Cu=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null);var n=Pu(t,(function(t,r){e.call(this,t).then((function(t){r(null,t)}),r)}),r),i=n.push,s=n.unshift;return n.push=function(t){return new Promise((function(e,r){i(t,(function(t,n){t?r(t):e(n)}))}))},n.unshift=function(t){return new Promise((function(e,r){s(t,(function(t,n){t?r(t):e(n)}))}))},n};(Au=Pu).promise=Cu;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});var Du=(Tu=void 0,ju=ku.isFatalError=Tu,Fu=ku.isAppliedFilter=ju,ku.replacePathSegmentSeparator=Fu);ku.joinPathSegments=Du;var Tu=function(t,e){return null===t.errorFilter||!t.errorFilter(e)};ku.isFatalError=Tu;var ju=function(t,e){return null===t||t(e)};ku.isAppliedFilter=ju;var Fu=function(t,e){return t.split(/[/\\]/).join(e)};ku.replacePathSegmentSeparator=Fu,Du=function(t,e,r){return""===t?e:t.endsWith(r)?t+e:t+r+e},ku.joinPathSegments=Du;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});var Iu=class{constructor(t,e){this._root=t,this._settings=e,this._root=ku.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}};Mu.default=Iu;class Lu extends Mu.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=Lc.scandir,this._emitter=new Ic.EventEmitter,this._queue=Au(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){const r={directory:t,base:e};this._queue.push(r,(t=>{null!==t&&this._handleError(t)}))}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,((r,n)=>{if(null!==r)return e(r,void 0);for(const e of n)this._handleEntry(e,t.base);e(null,void 0)}))}_handleError(t){!this._isDestroyed&&ku.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;const r=t.path;void 0!==e&&(t.path=ku.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),ku.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&ku.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}var Hu=Lu;Mc.default=Hu;var $u=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new Mc.default(this._root,this._settings),this._storage=new Set}read(t){this._reader.onError((e=>{!function(t,e){t(e)}(t,e)})),this._reader.onEntry((t=>{this._storage.add(t)})),this._reader.onEnd((()=>{!function(t,e){t(null,e)}(t,[...this._storage])})),this._reader.read()}};Fc.default=$u;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});const Bu=e;var Wu=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new Mc.default(this._root,this._settings),this._stream=new Bu.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((t=>{this._stream.emit("error",t)})),this._reader.onEntry((t=>{this._stream.push(t)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}};Nu.default=Wu;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});class Vu extends Mu.default{constructor(){super(...arguments),this._scandir=Lc.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const t of r)this._handleEntry(t,e)}catch(t){this._handleError(t)}}_handleError(t){if(ku.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;void 0!==e&&(t.path=ku.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),ku.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&ku.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,t.path)}_pushToStorage(t){this._storage.add(t)}}var qu=Vu;Uu.default=qu;var zu=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new Uu.default(this._root,this._settings)}read(){return this._reader.read()}};Gu.default=zu;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const Qu=c;var Yu=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Qu.sep),this.fsScandirSettings=new Lc.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}};Ku.default=Yu,jc=Ku.default,Tc.Settings=jc;var Xu=function(t,e,r){if("function"==typeof e)return new Fc.default(t,tl()).read(e);new Fc.default(t,tl(e)).read(r)};Tc.walk=Xu;var Zu=function(t,e){const r=tl(e);return new Gu.default(t,r).read()};Tc.walkSync=Zu;var Ju=function(t,e){const r=tl(e);return new Nu.default(t,r).read()};function tl(t={}){return t instanceof Ku.default?t:new Ku.default(t)}Tc.walkStream=Ju;var el={};Object.defineProperty(el,"__esModule",{value:!0});const rl=c;var nl=class{constructor(t){this._settings=t,this._fsStatSettings=new gc.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return rl.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:Ti.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!Ti.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};el.default=nl;class il extends el.default{constructor(){super(...arguments),this._walkStream=Tc.walkStream,this._stat=gc.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const r=t.map(this._getFullEntryPath,this),n=new dc.PassThrough({objectMode:!0});n._write=(i,s,o)=>this._getEntry(r[i],t[i],e).then((t=>{null!==t&&e.entryFilter(t)&&n.push(t),i===r.length-1&&n.end(),o()})).catch(o);for(let t=0;t<r.length;t++)n.write(t);return n}_getEntry(t,e,r){return this._getStat(t).then((t=>this._makeEntry(t,e))).catch((t=>{if(r.errorFilter(t))return null;throw t}))}_getStat(t){return new Promise(((e,r)=>{this._stat(t,this._fsStatSettings,((t,n)=>null===t?e(n):r(t)))}))}}var sl=il;pc.default=sl;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});const al=c;var cl={};Object.defineProperty(cl,"__esModule",{value:!0});var ul={};Object.defineProperty(ul,"__esModule",{value:!0});var ll={};Object.defineProperty(ll,"__esModule",{value:!0});var hl=class{constructor(t,e,r){this._patterns=t,this._settings=e,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const t=Ti.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const e of t){const t=this._getPatternSegments(e),r=this._splitSegmentsIntoSections(t);this._storage.push({complete:r.length<=1,pattern:e,segments:t,sections:r})}}_getPatternSegments(t){return Ti.pattern.getPatternParts(t,this._micromatchOptions).map((t=>Ti.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:Ti.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t}))}_splitSegmentsIntoSections(t){return Ti.array.splitWhen(t,(t=>t.dynamic&&Ti.pattern.hasGlobStar(t.pattern)))}};ll.default=hl;class fl extends ll.default{match(t){const e=t.split("/"),r=e.length,n=this._storage.filter((t=>!t.complete||t.segments.length>r));for(const t of n){const n=t.sections[0];if(!t.complete&&r>n.length)return!0;if(e.every(((e,r)=>{const n=t.segments[r];return!(!n.dynamic||!n.patternRe.test(e))||!n.dynamic&&n.pattern===e})))return!0}return!1}}var pl=fl;ul.default=pl;var dl=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,r){const n=this._getMatcher(e),i=this._getNegativePatternsRe(r);return e=>this._filter(t,e,n,i)}_getMatcher(t){return new ul.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(Ti.pattern.isAffectDepthOfReadingPattern);return Ti.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,r,n){if(this._isSkippedByDeep(t,e.path))return!1;if(this._isSkippedSymbolicLink(e))return!1;const i=Ti.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(i,r)&&this._isSkippedByNegativePatterns(i,n)}_isSkippedByDeep(t,e){return this._settings.deep!==1/0&&this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){const r=e.split("/").length;if(""===t)return r;return r-t.split("/").length}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!Ti.pattern.matchAny(t,e)}};cl.default=dl;var gl={};Object.defineProperty(gl,"__esModule",{value:!0});var _l=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){const r=Ti.pattern.convertPatternsToRe(t,this._micromatchOptions),n=Ti.pattern.convertPatternsToRe(e,this._micromatchOptions);return t=>this._filter(t,r,n)}_filter(t,e,r){if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;if(this._isSkippedByAbsoluteNegativePatterns(t.path,r))return!1;const n=this._settings.baseNameMatch?t.name:t.path,i=this._isMatchToPatterns(n,e)&&!this._isMatchToPatterns(t.path,r);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;const r=Ti.path.makeAbsolute(this._settings.cwd,t);return Ti.pattern.matchAny(r,e)}_isMatchToPatterns(t,e){const r=Ti.path.removeLeadingDotSegment(t);return Ti.pattern.matchAny(r,e)}};gl.default=_l;var yl={};Object.defineProperty(yl,"__esModule",{value:!0});var ml=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Ti.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};yl.default=ml;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});var bl=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=Ti.path.makeAbsolute(this._settings.cwd,e),e=Ti.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}};vl.default=bl;var wl=class{constructor(t){this._settings=t,this.errorFilter=new yl.default(this._settings),this.entryFilter=new gl.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new cl.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new vl.default(this._settings)}_getRootDirectory(t){return al.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e="."===t.base?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};ol.default=wl;class El extends ol.default{constructor(){super(...arguments),this._reader=new pc.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),n=[];return new Promise(((i,s)=>{const o=this.api(e,t,r);o.once("error",s),o.on("data",(t=>n.push(r.transform(t)))),o.once("end",(()=>i(n)))}))}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}var Sl=El;fc.default=Sl;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});const Rl=e;class Pl extends ol.default{constructor(){super(...arguments),this._reader=new pc.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),n=this.api(e,t,r),i=new Rl.Readable({objectMode:!0,read:()=>{}});return n.once("error",(t=>i.emit("error",t))).on("data",(t=>i.emit("data",r.transform(t)))).once("end",(()=>i.emit("end"))),i.once("close",(()=>n.destroy())),i}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}var xl=Pl;Al.default=xl;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});class kl extends el.default{constructor(){super(...arguments),this._walkSync=Tc.walkSync,this._statSync=gc.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const n of t){const t=this._getFullEntryPath(n),i=this._getEntry(t,n,e);null!==i&&e.entryFilter(i)&&r.push(i)}return r}_getEntry(t,e,r){try{const r=this._getStat(t);return this._makeEntry(r,e)}catch(t){if(r.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}var Dl=kl;Cl.default=Dl;class Tl extends ol.default{constructor(){super(...arguments),this._reader=new Cl.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t);return this.api(e,t,r).map(r.transform)}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}var jl=Tl;Ol.default=jl;var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});var Ml=void 0;Fl.DEFAULT_FILE_SYSTEM_ADAPTER=Ml;const Il=n,Ll=r,Hl=Math.max(Ll.cpus().length,1);Ml={lstat:Il.lstat,lstatSync:Il.lstatSync,stat:Il.stat,statSync:Il.statSync,readdir:Il.readdir,readdirSync:Il.readdirSync},Fl.DEFAULT_FILE_SYSTEM_ADAPTER=Ml;var $l,Nl=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Hl),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,e){return void 0===t?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Fl.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};async function Bl(t,e){Gl(t);const r=Wl(t,fc.default,e),n=await Promise.all(r);return Ti.array.flatten(n)}function Wl(t,e,r){const n=[].concat(t),i=new Fl.default(r),s=ki.generate(n,i),o=new e(i);return s.map(o.read,o)}function Gl(t){if(![].concat(t).every((t=>Ti.string.isString(t)&&!Ti.string.isEmpty(t))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Fl.default=Nl,($l=Bl||(Bl={})).sync=function(t,e){Gl(t);const r=Wl(t,Ol.default,e);return Ti.array.flatten(r)},$l.stream=function(t,e){Gl(t);const r=Wl(t,Al.default,e);return Ti.stream.merge(r)},$l.generateTasks=function(t,e){Gl(t);const r=[].concat(t),n=new Fl.default(e);return ki.generate(r,n)},$l.isDynamicPattern=function(t,e){Gl(t);const r=new Fl.default(e);return Ti.pattern.isDynamicPattern(t,r)},$l.escapePath=function(t){return Gl(t),Ti.path.escape(t)};var Ul=Lf(Bl),Vl={};const{EventEmitter:ql}=u,zl=n,Kl=c,{promisify:Ql}=s;var Yl={};const Xl=n,{Readable:Zl}=e,Jl=c,{promisify:th}=s,eh=th(Xl.readdir),rh=th(Xl.stat),nh=th(Xl.lstat),ih=th(Xl.realpath),sh=new Set(["ENOENT","EPERM","EACCES","ELOOP"]),oh="files",ah="directories",ch="files_directories",uh="all",lh=[oh,ah,ch,uh],hh=t=>{if(void 0!==t){if("function"==typeof t)return t;if("string"==typeof t){const e=mo(t.trim());return t=>e(t.basename)}if(Array.isArray(t)){const e=[],r=[];for(const n of t){const t=n.trim();"!"===t.charAt(0)?r.push(mo(t.slice(1))):e.push(mo(t))}return r.length>0?e.length>0?t=>e.some((e=>e(t.basename)))&&!r.some((e=>e(t.basename))):t=>!r.some((e=>e(t.basename))):t=>e.some((e=>e(t.basename)))}}};class fh extends Zl{static get defaultOptions(){return{root:".",fileFilter:t=>!0,directoryFilter:t=>!0,type:oh,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(t={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:t.highWaterMark||4096});const e={...fh.defaultOptions,...t},{root:r,type:n}=e;this._fileFilter=hh(e.fileFilter),this._directoryFilter=hh(e.directoryFilter);const i=e.lstat?nh:rh;"win32"===process.platform&&3===rh.length?this._stat=t=>i(t,{bigint:!0}):this._stat=i,this._maxDepth=e.depth,this._wantsDir=[ah,ch,uh].includes(n),this._wantsFile=[oh,ch,uh].includes(n),this._wantsEverything=n===uh,this._root=Jl.resolve(r),this._isDirent="Dirent"in Xl&&!e.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(t){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&t>0;){const{path:e,depth:r,files:n=[]}=this.parent||{};if(n.length>0){const i=n.splice(0,t).map((t=>this._formatEntry(t,e)));for(const e of await Promise.all(i)){if(this.destroyed)return;const n=await this._getEntryType(e);"directory"===n&&this._directoryFilter(e)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(e.fullPath,r+1)),this._wantsDir&&(this.push(e),t--)):("file"===n||this._includeAsFile(e))&&this._fileFilter(e)&&this._wantsFile&&(this.push(e),t--)}}else{const t=this.parents.pop();if(!t){this.push(null);break}if(this.parent=await t,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(t,e){let r;try{r=await eh(t,this._rdOptions)}catch(t){this._onError(t)}return{files:r,depth:e,path:t}}async _formatEntry(t,e){let r;try{const n=this._isDirent?t.name:t,i=Jl.resolve(Jl.join(e,n));r={path:Jl.relative(this._root,i),fullPath:i,basename:n},r[this._statsProp]=this._isDirent?t:await this._stat(i)}catch(t){this._onError(t)}return r}_onError(t){var e;e=t,sh.has(e.code)&&!this.destroyed?this.emit("warn",t):this.destroy(t)}async _getEntryType(t){const e=t&&t[this._statsProp];if(e){if(e.isFile())return"file";if(e.isDirectory())return"directory";if(e&&e.isSymbolicLink()){const e=t.fullPath;try{const t=await ih(e),r=await nh(t);if(r.isFile())return"file";if(r.isDirectory()){const r=t.length;return e.startsWith(t)&&e.substr(r,1)===Jl.sep?this._onError(new Error(`Circular symlink detected: "${e}" points to "${t}"`)):"directory"}}catch(t){this._onError(t)}}}}_includeAsFile(t){const e=t&&t[this._statsProp];return e&&this._wantsEverything&&!e.isDirectory()}}const ph=(t,e={})=>{let r=e.entryType||e.type;if("both"===r&&(r=ch),r&&(e.type=r),!t)throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");if("string"!=typeof t)throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!lh.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${lh.join(", ")}`);return e.root=t,new fh(e)};ph.promise=(t,e={})=>new Promise(((r,n)=>{const i=[];ph(t,e).on("data",(t=>i.push(t))).on("end",(()=>r(i))).on("error",(t=>n(t)))})),ph.ReaddirpStream=fh,ph.default=ph,Yl=ph;var dh={};Object.defineProperty(dh,"__esModule",{value:!0});var gh;
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */gh=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&"\\"===t[3]){var i=t[2];"?"!==i&&"."!==i||"\\\\"!==t.slice(0,2)||(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),n+s.join("/")};const _h={returnIndex:!1},yh=(t,e,r,n)=>{const i=Array.isArray(r),s=i?r[0]:r;if(!i&&"string"!=typeof s)throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(s));const o=gh(s);for(let t=0;t<e.length;t++){if((0,e[t])(o))return!!n&&-1}const a=i&&[o].concat(r.slice(1));for(let e=0;e<t.length;e++){const r=t[e];if(i?r(...a):r(o))return!n||e}return!!n&&-1},mh=(t,e,r=_h)=>{if(null==t)throw new TypeError("anymatch: specify first argument");const n="boolean"==typeof r?{returnIndex:r}:r,i=n.returnIndex||!1,s=(o=t,Array.isArray(o)?o:[o]);var o;const a=s.filter((t=>"string"==typeof t&&"!"===t.charAt(0))).map((t=>t.slice(1))).map((t=>mo(t,n))),c=s.filter((t=>"string"!=typeof t||"string"==typeof t&&"!"!==t.charAt(0))).map((t=>((t,e)=>{if("function"==typeof t)return t;if("string"==typeof t){const r=mo(t,e);return e=>t===e||r(e)}return t instanceof RegExp?e=>t.test(e):t=>!1})(t,n)));return null==e?(t,e=!1)=>yh(c,a,t,"boolean"==typeof e&&e):yh(c,a,e,i)};mh.default=mh;const vh=(dh=mh).default;var bh={};const wh=n,Eh=c,{promisify:Sh}=s;var Ah;const Rh=c;var Ph;Ph=JSON.parse('["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]');const xh=new Set(Ph);Ah=t=>xh.has(Rh.extname(t).slice(1).toLowerCase());const{sep:Oh}=c,{platform:Ch}=process;var kh=["listeners","errHandlers","rawEmitters"],Dh=`.${Oh}`,Th=/\\/g,jh=/\/\//,Fh=/[/\\]/,Mh=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,Ih=/^\.[/\\]/,Lh={dot:!0},Hh=()=>{},$h=t=>t,Nh="win32"===Ch,Bh="darwin"===Ch,Wh="linux"===Ch;const Gh=Sh(wh.open),Uh=Sh(wh.stat),Vh=Sh(wh.lstat),qh=Sh(wh.close),zh=Sh(wh.realpath),Kh={lstat:Vh,stat:Uh},Qh=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},Yh=(t,e,r)=>{let n=t[e];n instanceof Set||(t[e]=n=new Set([n])),n.add(r)},Xh=(t,e,r)=>{const n=t[e];n instanceof Set?n.delete(r):n===r&&delete t[e]},Zh=t=>t instanceof Set?0===t.size:!t,Jh=new Map;function tf(t,e,r,n,i){const s=(e,n)=>{r(t),i(e,n,{watchedPath:t}),n&&t!==n&&ef(Eh.resolve(t,n),"listeners",Eh.join(t,n))};try{return wh.watch(t,e,s)}catch(t){n(t)}}const ef=(t,e,r,n,i)=>{const s=Jh.get(t);s&&Qh(s[e],(t=>{t(r,n,i)}))},rf=(t,e,r,n)=>{const{listener:i,errHandler:s,rawEmitter:o}=n;let a,c=Jh.get(e);if(!r.persistent)return a=tf(t,r,i,s,o),a.close.bind(a);if(c)Yh(c,"listeners",i),Yh(c,"errHandlers",s),Yh(c,"rawEmitters",o);else{if(a=tf(t,r,ef.bind(null,e,"listeners"),s,ef.bind(null,e,"rawEmitters")),!a)return;a.on("error",(async r=>{const n=ef.bind(null,e,"errHandlers");if(c.watcherUnusable=!0,Nh&&"EPERM"===r.code)try{const e=await Gh(t,"r");await qh(e),n(r)}catch(t){}else n(r)})),c={listeners:i,errHandlers:s,rawEmitters:o,watcher:a},Jh.set(e,c)}return()=>{Xh(c,"listeners",i),Xh(c,"errHandlers",s),Xh(c,"rawEmitters",o),Zh(c.listeners)&&(c.watcher.close(),Jh.delete(e),kh.forEach((t=>e=>{const r=t[e];r instanceof Set?r.clear():delete t[e]})(c)),c.watcher=void 0,Object.freeze(c))}},nf=new Map;bh=class{constructor(t){this.fsw=t,this._boundHandleError=e=>t._handleError(e)}_watchWithNodeFs(t,e){const r=this.fsw.options,n=Eh.dirname(t),i=Eh.basename(t);this.fsw._getWatchedDir(n).add(i);const s=Eh.resolve(t),o={persistent:r.persistent};let a;return e||(e=Hh),r.usePolling?(o.interval=r.enableBinaryInterval&&Ah(i)?r.binaryInterval:r.interval,a=((t,e,r,n)=>{const{listener:i,rawEmitter:s}=n;let o=nf.get(e),a=new Set,c=new Set;const u=o&&o.options;return u&&(u.persistent<r.persistent||u.interval>r.interval)&&(a=o.listeners,c=o.rawEmitters,wh.unwatchFile(e),o=void 0),o?(Yh(o,"listeners",i),Yh(o,"rawEmitters",s)):(o={listeners:i,rawEmitters:s,options:r,watcher:wh.watchFile(e,r,((r,n)=>{Qh(o.rawEmitters,(t=>{t("change",e,{curr:r,prev:n})}));const i=r.mtimeMs;(r.size!==n.size||i>n.mtimeMs||0===i)&&Qh(o.listeners,(e=>e(t,r)))}))},nf.set(e,o)),()=>{Xh(o,"listeners",i),Xh(o,"rawEmitters",s),Zh(o.listeners)&&(nf.delete(e),wh.unwatchFile(e),o.options=o.watcher=void 0,Object.freeze(o))}})(t,s,o,{listener:e,rawEmitter:this.fsw._emitRaw})):a=rf(t,s,o,{listener:e,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),a}_handleFile(t,e,r){if(this.fsw.closed)return;const n=Eh.dirname(t),i=Eh.basename(t),s=this.fsw._getWatchedDir(n);let o=e;if(s.has(i))return;const a=async(e,r)=>{if(this.fsw._throttle("watch",t,5))if(r&&0!==r.mtimeMs){if(s.has(i)){const e=r.atimeMs,n=r.mtimeMs;(!e||e<=n||n!==o.mtimeMs)&&this.fsw._emit("change",t,r),o=r}}else try{const r=await Uh(t);if(this.fsw.closed)return;const n=r.atimeMs,i=r.mtimeMs;(!n||n<=i||i!==o.mtimeMs)&&this.fsw._emit("change",t,r),Wh&&o.ino!==r.ino?(this.fsw._closeFile(e),o=r,this.fsw._addPathCloser(e,this._watchWithNodeFs(t,a))):o=r}catch(t){this.fsw._remove(n,i)}},c=this._watchWithNodeFs(t,a);if((!r||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle("add",t,0))return;this.fsw._emit("add",t,e)}return c}async _handleSymlink(t,e,r,n){if(this.fsw.closed)return;const i=t.fullPath,s=this.fsw._getWatchedDir(e);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();const e=await zh(r);if(this.fsw.closed)return;return s.has(n)?this.fsw._symlinkPaths.get(i)!==e&&(this.fsw._symlinkPaths.set(i,e),this.fsw._emit("change",r,t.stats)):(s.add(n),this.fsw._symlinkPaths.set(i,e),this.fsw._emit("add",r,t.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(i))return!0;this.fsw._symlinkPaths.set(i,!0)}_handleRead(t,e,r,n,i,s,o){if(t=Eh.join(t,""),!r.hasGlob&&!(o=this.fsw._throttle("readdir",t,1e3)))return;const a=this.fsw._getWatchedDir(r.path),c=new Set;let u=this.fsw._readdirp(t,{fileFilter:t=>r.filterPath(t),directoryFilter:t=>r.filterDir(t),depth:0}).on("data",(async o=>{if(this.fsw.closed)return void(u=void 0);const l=o.path;let h=Eh.join(t,l);c.add(l),o.stats.isSymbolicLink()&&await this._handleSymlink(o,t,h,l)||(this.fsw.closed?u=void 0:l!==n&&(n||a.has(l))||(this.fsw._incrReadyCount(),h=Eh.join(i,Eh.relative(i,h)),this._addToNodeFs(h,e,r,s+1)))})).on("error",this._boundHandleError);return new Promise((e=>u.once("end",(()=>{if(this.fsw.closed)return void(u=void 0);const l=!!o&&o.clear();e(),a.getChildren().filter((e=>e!==t&&!c.has(e)&&(!r.hasGlob||r.filterPath({fullPath:Eh.resolve(t,e)})))).forEach((e=>{this.fsw._remove(t,e)})),u=void 0,l&&this._handleRead(t,!1,r,n,i,s,o)}))))}async _handleDir(t,e,r,n,i,s,o){const a=this.fsw._getWatchedDir(Eh.dirname(t)),c=a.has(Eh.basename(t));let u,l;r&&this.fsw.options.ignoreInitial||i||c||s.hasGlob&&!s.globFilter(t)||this.fsw._emit("addDir",t,e),a.add(Eh.basename(t)),this.fsw._getWatchedDir(t);const h=this.fsw.options.depth;if((null==h||n<=h)&&!this.fsw._symlinkPaths.has(o)){if(!i&&(await this._handleRead(t,r,s,i,t,n,u),this.fsw.closed))return;l=this._watchWithNodeFs(t,((e,r)=>{r&&0===r.mtimeMs||this._handleRead(e,!1,s,i,t,n,u)}))}return l}async _addToNodeFs(t,e,r,n,i){const s=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return s(),!1;const o=this.fsw._getWatchHelpers(t,n);!o.hasGlob&&r&&(o.hasGlob=r.hasGlob,o.globFilter=r.globFilter,o.filterPath=t=>r.filterPath(t),o.filterDir=t=>r.filterDir(t));try{const r=await Kh[o.statMethod](o.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(o.watchPath,r))return s(),!1;const a=this.fsw.options.followSymlinks&&!t.includes("*")&&!t.includes("{");let c;if(r.isDirectory()){const s=Eh.resolve(t),u=a?await zh(t):t;if(this.fsw.closed)return;if(c=await this._handleDir(o.watchPath,r,e,n,i,o,u),this.fsw.closed)return;s!==u&&void 0!==u&&this.fsw._symlinkPaths.set(s,u)}else if(r.isSymbolicLink()){const i=a?await zh(t):t;if(this.fsw.closed)return;const s=Eh.dirname(o.watchPath);if(this.fsw._getWatchedDir(s).add(o.watchPath),this.fsw._emit("add",o.watchPath,r),c=await this._handleDir(s,r,e,n,t,o,i),this.fsw.closed)return;void 0!==i&&this.fsw._symlinkPaths.set(Eh.resolve(t),i)}else c=this._handleFile(o.watchPath,r,e);return s(),this.fsw._addPathCloser(t,c),!1}catch(e){if(this.fsw._handleError(e))return s(),t}}};var sf={};const of=n,af=c,{promisify:cf}=s;let uf;try{uf=h("fsevents")}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t)}if(uf){const t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){const e=Number.parseInt(t[1],10),r=Number.parseInt(t[2],10);8===e&&r<16&&(uf=void 0)}}const lf=cf(of.stat),hf=cf(of.lstat),ff=cf(of.realpath),pf={stat:lf,lstat:hf},df=new Map,gf=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),_f=(t,e)=>({stop:uf.watch(t,e)});const yf=t=>{let e=0;for(const r of df.keys())if(0===r.indexOf(t)&&(e++,e>=10))return!0;return!1},mf=(t,e)=>{let r=0;for(;!t.indexOf(e)&&(t=af.dirname(t))!==e;)r++;return r},vf=(t,e)=>"directory"===t.type&&e.isDirectory()||"symlink"===t.type&&e.isSymbolicLink()||"file"===t.type&&e.isFile();var bf=()=>uf&&df.size<128;(sf=class{constructor(t){this.fsw=t}checkIgnored(t,e){const r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(t,e))return r.add(t),e&&e.isDirectory()&&r.add(t+"/**/*"),!0;r.delete(t),r.delete(t+"/**/*")}addOrChange(t,e,r,n,i,s,o,a){const c=i.has(s)?"change":"add";this.handleEvent(c,t,e,r,n,i,s,o,a)}async checkExists(t,e,r,n,i,s,o,a){try{const c=await lf(t);if(this.fsw.closed)return;vf(o,c)?this.addOrChange(t,e,r,n,i,s,o,a):this.handleEvent("unlink",t,e,r,n,i,s,o,a)}catch(c){"EACCES"===c.code?this.addOrChange(t,e,r,n,i,s,o,a):this.handleEvent("unlink",t,e,r,n,i,s,o,a)}}handleEvent(t,e,r,n,i,s,o,a,c){if(!this.fsw.closed&&!this.checkIgnored(e))if("unlink"===t){const t="directory"===a.type;(t||s.has(o))&&this.fsw._remove(i,o,t)}else{if("add"===t){if("directory"===a.type&&this.fsw._getWatchedDir(e),"symlink"===a.type&&c.followSymlinks){const t=void 0===c.depth?void 0:mf(r,n)+1;return this._addToFsEvents(e,!1,!0,t)}this.fsw._getWatchedDir(i).add(o)}const s="directory"===a.type?t+"Dir":t;this.fsw._emit(s,e),"addDir"===s&&this._addToFsEvents(e,!1,!0)}}_watchWithFsEvents(t,e,r,n){if(this.fsw.closed||this.fsw._isIgnored(t))return;const i=this.fsw.options,s=function(t,e,r,n){let i=af.extname(t)?af.dirname(t):t;const s=af.dirname(i);let o=df.get(i);yf(s)&&(i=s);const a=af.resolve(t),c=a!==e,u=(t,n,i)=>{c&&(t=t.replace(e,a)),t!==a&&t.indexOf(a+af.sep)||r(t,n,i)};let l=!1;for(const t of df.keys())if(0===e.indexOf(af.resolve(t)+af.sep)){i=t,o=df.get(i),l=!0;break}return o||l?o.listeners.add(u):(o={listeners:new Set([u]),rawEmitter:n,watcher:_f(i,((t,e)=>{if(!o.listeners.size)return;const r=uf.getInfo(t,e);o.listeners.forEach((n=>{n(t,e,r)})),o.rawEmitter(r.event,t,r)}))},df.set(i,o)),()=>{const t=o.listeners;if(t.delete(u),!t.size&&(df.delete(i),o.watcher))return o.watcher.stop().then((()=>{o.rawEmitter=o.watcher=void 0,Object.freeze(o)}))}}(t,e,(async(s,o,a)=>{if(this.fsw.closed)return;if(void 0!==i.depth&&mf(s,e)>i.depth)return;const c=r(af.join(t,af.relative(t,s)));if(n&&!n(c))return;const u=af.dirname(c),l=af.basename(c),h=this.fsw._getWatchedDir("directory"===a.type?c:u);if(gf.has(o)||"unknown"===a.event)if("function"==typeof i.ignored){let t;try{t=await lf(c)}catch(t){}if(this.fsw.closed)return;if(this.checkIgnored(c,t))return;vf(a,t)?this.addOrChange(c,s,e,u,h,l,a,i):this.handleEvent("unlink",c,s,e,u,h,l,a,i)}else this.checkExists(c,s,e,u,h,l,a,i);else switch(a.event){case"created":case"modified":return this.addOrChange(c,s,e,u,h,l,a,i);case"deleted":case"moved":return this.checkExists(c,s,e,u,h,l,a,i)}}),this.fsw._emitRaw);return this.fsw._emitReady(),s}async _handleFsEventsSymlink(t,e,r,n){if(!this.fsw.closed&&!this.fsw._symlinkPaths.has(e)){this.fsw._symlinkPaths.set(e,!0),this.fsw._incrReadyCount();try{const e=await ff(t);if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(e||t,(n=>{let i=t;return e&&e!==Dh?i=n.replace(e,t):n!==Dh&&(i=af.join(t,n)),r(i)}),!1,n)}catch(t){if(this.fsw._handleError(t))return this.fsw._emitReady()}}}emitAdd(t,e,r,n,i){const s=r(t),o=e.isDirectory(),a=this.fsw._getWatchedDir(af.dirname(s)),c=af.basename(s);o&&this.fsw._getWatchedDir(s),a.has(c)||(a.add(c),n.ignoreInitial&&!0!==i||this.fsw._emit(o?"addDir":"add",s,e))}initWatch(t,e,r,n){if(this.fsw.closed)return;const i=this._watchWithFsEvents(r.watchPath,af.resolve(t||r.watchPath),n,r.globFilter);this.fsw._addPathCloser(e,i)}async _addToFsEvents(t,e,r,n){if(this.fsw.closed)return;const i=this.fsw.options,s="function"==typeof e?e:$h,o=this.fsw._getWatchHelpers(t);try{const e=await pf[o.statMethod](o.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(o.watchPath,e))throw null;if(e.isDirectory()){if(o.globFilter||this.emitAdd(s(t),e,s,i,r),n&&n>i.depth)return;this.fsw._readdirp(o.watchPath,{fileFilter:t=>o.filterPath(t),directoryFilter:t=>o.filterDir(t),...(a=i.depth-(n||0),isNaN(a)?{}:{depth:a})}).on("data",(t=>{if(this.fsw.closed)return;if(t.stats.isDirectory()&&!o.filterPath(t))return;const e=af.join(o.watchPath,t.path),{fullPath:n}=t;if(o.followSymlinks&&t.stats.isSymbolicLink()){const t=void 0===i.depth?void 0:mf(e,af.resolve(o.watchPath))+1;this._handleFsEventsSymlink(e,n,s,t)}else this.emitAdd(e,t.stats,s,i,r)})).on("error",Hh).on("end",(()=>{this.fsw._emitReady()}))}else this.emitAdd(o.watchPath,e,s,i,r),this.fsw._emitReady()}catch(t){t&&!this.fsw._handleError(t)||(this.fsw._emitReady(),this.fsw._emitReady())}var a;if(i.persistent&&!0!==r)if("function"==typeof e)this.initWatch(void 0,t,o,s);else{let e;try{e=await ff(o.watchPath)}catch(t){}this.initWatch(e,t,o,s)}}}).canUse=bf;const wf=Ql(zl.stat),Ef=Ql(zl.readdir),Sf=(t=[])=>Array.isArray(t)?t:[t],Af=(t,e=[])=>(t.forEach((t=>{Array.isArray(t)?Af(t,e):e.push(t)})),e),Rf=t=>{const e=Af(Sf(t));if(!e.every((t=>"string"==typeof t)))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(xf)},Pf=t=>{let e=t.replace(Th,"/"),r=!1;for(e.startsWith("//")&&(r=!0);e.match(jh);)e=e.replace(jh,"/");return r&&(e="/"+e),e},xf=t=>Pf(Kl.normalize(Pf(t))),Of=(t="")=>e=>"string"!=typeof e?e:xf(Kl.isAbsolute(e)?e:Kl.join(t,e)),Cf=(t,e)=>void 0===t[e];class kf{constructor(t,e){this.path=t,this._removeWatcher=e,this.items=new Set}add(t){const{items:e}=this;e&&"."!==t&&".."!==t&&e.add(t)}async remove(t){const{items:e}=this;if(!e)return;if(e.delete(t),e.size>0)return;const r=this.path;try{await Ef(r)}catch(t){this._removeWatcher&&this._removeWatcher(Kl.dirname(r),Kl.basename(r))}}has(t){const{items:e}=this;if(e)return e.has(t)}getChildren(){const{items:t}=this;if(t)return[...t.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}class Df{constructor(t,e,r,n){this.fsw=n,this.path=t=t.replace(Ih,""),this.watchPath=e,this.fullWatchPath=Kl.resolve(e),this.hasGlob=e!==t,""===t&&(this.hasGlob=!1),this.globSymlink=!(!this.hasGlob||!r)&&void 0,this.globFilter=!!this.hasGlob&&vh(t,void 0,Lh),this.dirParts=this.getDirParts(t),this.dirParts.forEach((t=>{t.length>1&&t.pop()})),this.followSymlinks=r,this.statMethod=r?"stat":"lstat"}checkGlobSymlink(t){return void 0===this.globSymlink&&(this.globSymlink=t.fullParentDir!==this.fullWatchPath&&{realPath:t.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?t.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):t.fullPath}entryPath(t){return Kl.join(this.watchPath,Kl.relative(this.watchPath,this.checkGlobSymlink(t)))}filterPath(t){const{stats:e}=t;if(e&&e.isSymbolicLink())return this.filterDir(t);const r=this.entryPath(t);return(!this.hasGlob||"function"!=typeof this.globFilter||this.globFilter(r))&&this.fsw._isntIgnored(r,e)&&this.fsw._hasReadPermissions(e)}getDirParts(t){if(!this.hasGlob)return[];const e=[];return(t.includes("{")?ys.expand(t):[t]).forEach((t=>{e.push(Kl.relative(this.watchPath,t).split(Fh))})),e}filterDir(t){if(this.hasGlob){const e=this.getDirParts(this.checkGlobSymlink(t));let r=!1;this.unmatchedGlob=!this.dirParts.some((t=>t.every(((t,n)=>("**"===t&&(r=!0),r||!e[0][n]||vh(t,e[0][n],Lh))))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class Tf extends ql{constructor(t){super();const e={};t&&Object.assign(e,t),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,Cf(e,"persistent")&&(e.persistent=!0),Cf(e,"ignoreInitial")&&(e.ignoreInitial=!1),Cf(e,"ignorePermissionErrors")&&(e.ignorePermissionErrors=!1),Cf(e,"interval")&&(e.interval=100),Cf(e,"binaryInterval")&&(e.binaryInterval=300),Cf(e,"disableGlobbing")&&(e.disableGlobbing=!1),e.enableBinaryInterval=e.binaryInterval!==e.interval,Cf(e,"useFsEvents")&&(e.useFsEvents=!e.usePolling);bf()||(e.useFsEvents=!1),Cf(e,"usePolling")&&!e.useFsEvents&&(e.usePolling=Bh);const r=process.env.CHOKIDAR_USEPOLLING;if(void 0!==r){const t=r.toLowerCase();e.usePolling="false"!==t&&"0"!==t&&("true"===t||"1"===t||!!t)}const n=process.env.CHOKIDAR_INTERVAL;n&&(e.interval=Number.parseInt(n,10)),Cf(e,"atomic")&&(e.atomic=!e.usePolling&&!e.useFsEvents),e.atomic&&(this._pendingUnlinks=new Map),Cf(e,"followSymlinks")&&(e.followSymlinks=!0),Cf(e,"awaitWriteFinish")&&(e.awaitWriteFinish=!1),!0===e.awaitWriteFinish&&(e.awaitWriteFinish={});const i=e.awaitWriteFinish;i&&(i.stabilityThreshold||(i.stabilityThreshold=2e3),i.pollInterval||(i.pollInterval=100),this._pendingWrites=new Map),e.ignored&&(e.ignored=Sf(e.ignored));let s=0;this._emitReady=()=>{s++,s>=this._readyCount&&(this._emitReady=Hh,this._readyEmitted=!0,process.nextTick((()=>this.emit("ready"))))},this._emitRaw=(...t)=>this.emit("raw",...t),this._readyEmitted=!1,this.options=e,e.useFsEvents?this._fsEventsHandler=new sf(this):this._nodeFsHandler=new bh(this),Object.freeze(e)}add(t,e,r){const{cwd:n,disableGlobbing:i}=this.options;this.closed=!1;let s=Rf(t);return n&&(s=s.map((t=>{const e=((t,e)=>Kl.isAbsolute(t)?t:t.startsWith("!")?"!"+Kl.join(e,t.slice(1)):Kl.join(e,t))(t,n);return i||!ns(t)?e:gh(e)}))),s=s.filter((t=>t.startsWith("!")?(this._ignoredPaths.add(t.slice(1)),!1):(this._ignoredPaths.delete(t),this._ignoredPaths.delete(t+"/**"),this._userIgnored=void 0,!0))),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=s.length),this.options.persistent&&(this._readyCount*=2),s.forEach((t=>this._fsEventsHandler._addToFsEvents(t)))):(this._readyCount||(this._readyCount=0),this._readyCount+=s.length,Promise.all(s.map((async t=>{const n=await this._nodeFsHandler._addToNodeFs(t,!r,0,0,e);return n&&this._emitReady(),n}))).then((t=>{this.closed||t.filter((t=>t)).forEach((t=>{this.add(Kl.dirname(t),Kl.basename(e||t))}))}))),this}unwatch(t){if(this.closed)return this;const e=Rf(t),{cwd:r}=this.options;return e.forEach((t=>{Kl.isAbsolute(t)||this._closers.has(t)||(r&&(t=Kl.join(r,t)),t=Kl.resolve(t)),this._closePath(t),this._ignoredPaths.add(t),this._watched.has(t)&&this._ignoredPaths.add(t+"/**"),this._userIgnored=void 0})),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const t=[];return this._closers.forEach((e=>e.forEach((e=>{const r=e();r instanceof Promise&&t.push(r)})))),this._streams.forEach((t=>t.destroy())),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach((t=>t.dispose())),["closers","watched","streams","symlinkPaths","throttled"].forEach((t=>{this[`_${t}`].clear()})),this._closePromise=t.length?Promise.all(t).then((()=>{})):Promise.resolve(),this._closePromise}getWatched(){const t={};return this._watched.forEach(((e,r)=>{const n=this.options.cwd?Kl.relative(this.options.cwd,r):r;t[n||"."]=e.getChildren().sort()})),t}emitWithAll(t,e){this.emit(...e),"error"!==t&&this.emit("all",...e)}async _emit(t,e,r,n,i){if(this.closed)return;const s=this.options;Nh&&(e=Kl.normalize(e)),s.cwd&&(e=Kl.relative(s.cwd,e));const o=[t,e];void 0!==i?o.push(r,n,i):void 0!==n?o.push(r,n):void 0!==r&&o.push(r);const a=s.awaitWriteFinish;let c;if(a&&(c=this._pendingWrites.get(e)))return c.lastChange=new Date,this;if(s.atomic){if("unlink"===t)return this._pendingUnlinks.set(e,o),setTimeout((()=>{this._pendingUnlinks.forEach(((t,e)=>{this.emit(...t),this.emit("all",...t),this._pendingUnlinks.delete(e)}))}),"number"==typeof s.atomic?s.atomic:100),this;"add"===t&&this._pendingUnlinks.has(e)&&(t=o[0]="change",this._pendingUnlinks.delete(e))}if(a&&("add"===t||"change"===t)&&this._readyEmitted){const r=(e,r)=>{e?(t=o[0]="error",o[1]=e,this.emitWithAll(t,o)):r&&(o.length>2?o[2]=r:o.push(r),this.emitWithAll(t,o))};return this._awaitWriteFinish(e,a.stabilityThreshold,t,r),this}if("change"===t){if(!this._throttle("change",e,50))return this}if(s.alwaysStat&&void 0===r&&("add"===t||"addDir"===t||"change"===t)){const t=s.cwd?Kl.join(s.cwd,e):e;let r;try{r=await wf(t)}catch(t){}if(!r||this.closed)return;o.push(r)}return this.emitWithAll(t,o),this}_handleError(t){const e=t&&t.code;return t&&"ENOENT"!==e&&"ENOTDIR"!==e&&(!this.options.ignorePermissionErrors||"EPERM"!==e&&"EACCES"!==e)&&this.emit("error",t),t||this.closed}_throttle(t,e,r){this._throttled.has(t)||this._throttled.set(t,new Map);const n=this._throttled.get(t),i=n.get(e);if(i)return i.count++,!1;let s;const o=()=>{const t=n.get(e),r=t?t.count:0;return n.delete(e),clearTimeout(s),t&&clearTimeout(t.timeoutObject),r};s=setTimeout(o,r);const a={timeoutObject:s,clear:o,count:0};return n.set(e,a),a}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(t,e,r,n){let i,s=t;this.options.cwd&&!Kl.isAbsolute(t)&&(s=Kl.join(this.options.cwd,t));const o=new Date,a=r=>{zl.stat(s,((s,o)=>{if(s||!this._pendingWrites.has(t))return void(s&&"ENOENT"!==s.code&&n(s));const c=Number(new Date);r&&o.size!==r.size&&(this._pendingWrites.get(t).lastChange=c);c-this._pendingWrites.get(t).lastChange>=e?(this._pendingWrites.delete(t),n(void 0,o)):i=setTimeout(a,this.options.awaitWriteFinish.pollInterval,o)}))};this._pendingWrites.has(t)||(this._pendingWrites.set(t,{lastChange:o,cancelWait:()=>(this._pendingWrites.delete(t),clearTimeout(i),r)}),i=setTimeout(a,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(t,e){if(this.options.atomic&&Mh.test(t))return!0;if(!this._userIgnored){const{cwd:t}=this.options,e=this.options.ignored,r=e&&e.map(Of(t)),n=Sf(r).filter((t=>"string"==typeof t&&!ns(t))).map((t=>t+"/**")),i=this._getGlobIgnored().map(Of(t)).concat(r,n);this._userIgnored=vh(i,void 0,Lh)}return this._userIgnored([t,e])}_isntIgnored(t,e){return!this._isIgnored(t,e)}_getWatchHelpers(t,e){const r=e||this.options.disableGlobbing||!ns(t)?t:rs(t),n=this.options.followSymlinks;return new Df(t,r,n,this)}_getWatchedDir(t){this._boundRemove||(this._boundRemove=this._remove.bind(this));const e=Kl.resolve(t);return this._watched.has(e)||this._watched.set(e,new kf(e,this._boundRemove)),this._watched.get(e)}_hasReadPermissions(t){if(this.options.ignorePermissionErrors)return!0;const e=511&(t&&Number.parseInt(t.mode,10)),r=Number.parseInt(e.toString(8)[0],10);return Boolean(4&r)}_remove(t,e,r){const n=Kl.join(t,e),i=Kl.resolve(n);if(r=null!=r?r:this._watched.has(n)||this._watched.has(i),!this._throttle("remove",n,100))return;r||this.options.useFsEvents||1!==this._watched.size||this.add(t,e,!0);this._getWatchedDir(n).getChildren().forEach((t=>this._remove(n,t)));const s=this._getWatchedDir(t),o=s.has(e);s.remove(e),this._symlinkPaths.has(i)&&this._symlinkPaths.delete(i);let a=n;if(this.options.cwd&&(a=Kl.relative(this.options.cwd,n)),this.options.awaitWriteFinish&&this._pendingWrites.has(a)){if("add"===this._pendingWrites.get(a).cancelWait())return}this._watched.delete(n),this._watched.delete(i);const c=r?"unlinkDir":"unlink";o&&!this._isIgnored(n)&&this._emit(c,n),this.options.useFsEvents||this._closePath(n)}_closePath(t){this._closeFile(t);const e=Kl.dirname(t);this._getWatchedDir(e).remove(Kl.basename(t))}_closeFile(t){const e=this._closers.get(t);e&&(e.forEach((t=>t())),this._closers.delete(t))}_addPathCloser(t,e){if(!e)return;let r=this._closers.get(t);r||(r=[],this._closers.set(t,r)),r.push(e)}_readdirp(t,e){if(this.closed)return;const r={type:"all",alwaysStat:!0,lstat:!0,...e};let n=Yl(t,r);return this._streams.add(n),n.once("close",(()=>{n=void 0})),n.once("end",(()=>{n&&(this._streams.delete(n),n=void 0)})),n}}var jf=Tf;Vl.FSWatcher=jf;var Ff=(t,e)=>{const r=new Tf(e);return r.add(t),r};Vl.watch=Ff;var Mf=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=If();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}r.default=t,e&&e.set(t,r);return r}(Vl);function If(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return If=function(){return t},t}function Lf(t){return t&&t.__esModule?t:{default:t}}class Hf extends yn.EventEmitter{constructor(){super();const t=this.rebuildCache.bind(this);this._projectChangeWatcher=atom.project.onDidChangePaths(t);const e=this._onDidChangeFiles.bind(this);this._projectWatcher=atom.project.onDidChangeFiles(e),this._repositories=[],this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._fileWatchersByDirectory=new Map,this._allIgnoredGlobByDirectory=new Map,this.updateConfig()}updateConfig(){this.config={excludeVcsIgnoredPaths:atom.config.get("core.excludeVcsIgnoredPaths"),ignoreSubmodules:atom.config.get("autocomplete-paths.ignoreSubmodules"),shouldIgnoredNames:atom.config.get("autocomplete-paths.ignoredNames"),ignoredNames:atom.config.get("core.ignoredNames"),ignoredPatterns:atom.config.get("autocomplete-paths.ignoredPatterns"),maxFileCount:atom.config.get("autocomplete-paths.maxFileCount")}}async rebuildCache(){this.dispose(),this._cancelled=!1,this.emit("rebuild-cache"),await this._cacheProjectPathsAndRepositories();const t=await this._cachePaths();return await this._addWatchers(),this.emit("rebuild-cache-done"),t}getFilePathsForProjectDirectory(t,e=null){const r=this._filePathsByProjectDirectory.get(t.path)||[];return e?r.filter((t=>0===t.indexOf(e))):r}dispose(t){this._fileWatchersByDirectory.forEach((async t=>{await t.close()})),this._fileWatchersByDirectory.clear(),this._filePathsByProjectDirectory.clear(),this._filePathsByDirectory.clear(),this._repositories=[],this._projectWatcher&&(this._projectWatcher.dispose(),this._projectWatcher=null),t&&this._projectChangeWatcher&&(this._projectChangeWatcher.dispose(),this._projectChangeWatcher=null)}_isPathIgnored(t){let e=!1;return this.config.excludeVcsIgnoredPaths&&this._repositories.forEach((r=>{if(e)return;const n=this.config.ignoreSubmodules&&r.isSubmodule(t);(r.isPathIgnored(t)||n)&&(e=!0)})),this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((r=>{e||(e=e||(0,Kn.default)(t,r,{matchBase:!0,dot:!0}))})),this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((r=>{e||(e=e||(0,Kn.default)(t,r,{dot:!0}))})),e}async _cacheProjectPathsAndRepositories(){this._projectDirectories=atom.project.getDirectories();const t=this._projectDirectories.length,e=new Array(t);for(let r=0;r<t;r++)e[r]=atom.project.repositoryForDirectory(this._projectDirectories[r]);const r=await Promise.all(e);this._repositories=r.filter((t=>null!==t))}async _addWatchers(){await Promise.all(this._projectDirectories.map((t=>this._addWatcherForDirectory(t))))}async _addWatcherForDirectory(t){let e=this._fileWatchersByDirectory.get(t);void 0!==e&&"function"==typeof e.close&&await e.close();const r=t.getPath(),n=this._allIgnoredGlobByDirectory.get(t.path);e=Mf.watch([r,...n],{persistent:!0,ignoreInitial:!0,followSymlinks:!1,interval:1e3,binaryInterval:1e3}).on("add",(e=>{this.onAddFile(t,e)})).on("unlink",(e=>{this.onRemoveFile(t,e)})).on("addDir",(t=>{this.onAddDir(t)})).on("unlinkDir",(e=>{this.onRemoveDir(t,e)})),this._fileWatchersByDirectory.set(t,e)}onAddFile(t,e){const r=this._filePathsByProjectDirectory.get(t.path);r.push(e),this._filePathsByProjectDirectory.set(t.path,r)}onRemoveFile(t,e){const r=this._filePathsByProjectDirectory.get(t.path),n=r.indexOf(e);delete r[n],this._filePathsByProjectDirectory.set(t.path,r)}async onAddDir(t){await this._cachePathsForDirectoryWithGlob(t)}onRemoveDir(t,e){const r=new Qn.Directory(e);this._removeFilePathsForDirectory(t,r)}async _onDirectoryChanged(t,e){this.emit("rebuild-cache"),this._removeFilePathsForDirectory(t,e),this._cleanWatchersForDirectory(e),await this._cachePathsForDirectory(t,e),this.emit("rebuild-cache-done")}_cleanWatchersForDirectory(t){this._fileWatchersByDirectory.forEach((async(e,r)=>{t.contains(r.path)&&(await await e.close(),this._fileWatchersByDirectory.delete(r))}))}_removeFilePathsForDirectory(t,e){let r=this._filePathsByProjectDirectory.get(t.path);r&&(r=r.filter((t=>!e.contains(t))),this._filePathsByProjectDirectory.set(t.path,r),this._filePathsByDirectory.delete(e.path))}_onDidChangeFiles(t){t.filter((t=>"modified"!==t.action)).forEach((t=>{if(!this._projectDirectories)return;const{action:e,path:r,oldPath:n}=t,i=this._projectDirectories.find((t=>0===r.indexOf(t.path)));if(!i)return;const s=i.path;if(this._isPathIgnored(r))return;const o=this._filePathsByProjectDirectory.get(s)||[];switch(e){case"created":o.push(r);break;case"deleted":{const t=o.indexOf(r);t>-1&&o.splice(t,1);break}case"renamed":{const t=o.indexOf(n);t>-1&&(o[t]=r);break}default:console.error(`unkown _onDidChangeFiles action: ${e}`)}this._filePathsByProjectDirectory.has(s)||this._filePathsByProjectDirectory.set(s,o)}))}_cachePaths(){try{return this._cachePathsWithGlob()}catch(t){return console.error(t),this._cachePathsWithAtom()}}_cachePathsForDirectory(t,e){try{return this._cachePathsForDirectoryWithGlob(e.path)}catch(r){return console.error(r),this._cachePathsForDirectoryWithAtom(t,e)}}async _cachePathsWithGlob(){return await Promise.all(this._projectDirectories.map((t=>this._cachePathsForDirectoryWithGlob(t.path))))}async _getIgnoredPatternsGlob(t){const e=[];this.config.shouldIgnoredNames&&e.push(...this.config.ignoredNames),this.config.ignoredPatterns&&e.push(...this.config.ignoredPatterns);const r=e.length,n=new Array(r);for(let i=0;i<r;i++){const r=await(0,pi.globifyPath)(e[i],t);"string"==typeof r?n[i]=r:(n[i]=r[0],n.push(r[1]))}return n}async _getAllGitIgnoreGlob(t,e){if(this.config.excludeVcsIgnoredPaths){const r=await(0,Ul.default)(["**/.gitignore",...e],{dot:!0,cwd:t,onlyFiles:!0,absolute:!0});return(await Promise.all(r.map((t=>function(t){try{return(0,pi.globifyGitIgnoreFile)(t)}catch(t){return[]}}((0,Yn.dirname)(t)))))).flat()}return[]}async _getAllIgnoredGlob(t){const e=await this._getIgnoredPatternsGlob(t);return[...await this._getAllGitIgnoreGlob(t,e),...e]}async _cachePathsForDirectoryWithGlob(t){const e=(0,pi.globifyDirectory)(t),r=await this._getAllIgnoredGlob(t);this._allIgnoredGlobByDirectory.set(t,r);const n=await(0,Ul.default)([e,...r],{dot:!0,cwd:t,onlyFiles:!0});return this._filePathsByProjectDirectory.set(t,n),n}async _cachePathsWithAtom(){return await Promise.all(this._projectDirectories.map((t=>this._cachePathsForDirectoryWithAtom(t,t))))}async _cachePathsForDirectoryWithAtom(t,e){if(this._cancelled)return[];const r=await this._getDirectoryEntries(e);if(this._cancelled)return[];const n=[],i=[];for(let t=0,e=r.length;t<e;t++){const e=r[t];e instanceof Qn.File&&!this._isPathIgnored(e.path)?n.push(e.path):e instanceof Qn.Directory&&!this._isPathIgnored(e.path)&&i.push(e)}let s=this._filePathsByProjectDirectory.get(t.path)||[];return s.length+n.length>this.config.maxFileCount&&!this._cancelled?(atom.notifications.addError("autocomplete-paths",{description:`Maximum file count of ${this.config.maxFileCount} has been exceeded. Path autocompletion will not work in this project.<br /><br /><a href="https://github.com/atom-community/autocomplete-paths/wiki/Troubleshooting#maximum-file-limit-exceeded">Click here to learn more.</a>`,dismissable:!0}),this._filePathsByProjectDirectory.clear(),this._filePathsByDirectory.clear(),void(this._cancelled=!0)):(this._filePathsByProjectDirectory.set(t.path,(0,Xn.union)(s,n)),s=this._filePathsByDirectory.get(e.path)||[],this._filePathsByDirectory.set(e.path,(0,Xn.union)(s,n)),Promise.all(i.map((e=>this._cachePathsForDirectoryWithAtom(t,e)))))}}gn=Hf,dn.default=gn;var $f=qf(dn=dn.default),Nf=t,Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});var Wf=void 0;Bf.DefaultScopes=Wf;const Gf=["import\\s+.*?from\\s+['\"]","import\\s+['\"]","require\\(['\"]","define\\(\\[?['\"]"],Uf=["js","jsx","ts","tsx","coffee","json"],Vf=[["\\.jsx?$",""],["\\.ts$",""],["\\.coffee$",""]];function qf(t){return t&&t.__esModule?t:{default:t}}Wf=[{scopes:["source.js","source.js.jsx","source.coffee","source.coffee.jsx","source.ts","source.tsx","javascript","source.flow"],prefixes:Gf,extensions:Uf,relative:!0,replaceOnInsert:[["([\\/]?index)?\\.jsx?$",""],["([\\/]?index)?\\.ts$",""],["([\\/]?index)?\\.coffee$",""]]},{scopes:["text.html.vue"],prefixes:Gf,extensions:Uf.concat("vue"),relative:!0,replaceOnInsert:Vf},{scopes:["text.html.vue"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["css","sass","scss","less","styl"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.coffee","source.coffee.jsx"],prefixes:["require\\s+['\"]","define\\s+\\[?['\"]"],extensions:Uf,relative:!0,replaceOnInsert:Vf},{scopes:["source.php"],prefixes:["require_once\\(['\"]","include\\(['\"]"],extensions:["php"],relative:!0},{scopes:["source.sass","source.css.scss","source.css.less","source.stylus"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["sass","scss","css"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.css"],prefixes:["@import\\s+['\"]?","@import\\s+url\\(['\"]?"],extensions:["css"],relative:!0},{scopes:["source.css","source.sass","source.css.less","source.css.scss","source.stylus"],prefixes:["url\\(['\"]?"],extensions:["png","gif","jpeg","jpg","woff","woff2","ttf","svg","otf"],relative:!0},{scopes:["source.c","source.cpp"],prefixes:["^\\s*#include\\s+['\"]"],extensions:["h","hpp"],relative:!0,includeCurrentDirectory:!1},{scopes:["source.lua"],prefixes:["require[\\s+|\\(]['\"]"],extensions:["lua"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.lua$",""]]},{scopes:["source.ruby"],prefixes:["^\\s*require[\\s+|\\(]['\"]"],extensions:["rb"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\.rb$",""]]},{scopes:["source.python"],prefixes:["^\\s*from\\s+","^\\s*import\\s+"],extensions:["py"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.py$",""]]}],Bf.DefaultScopes=Wf;class zf extends P.EventEmitter{constructor(){super(),this.reloadScopes(),this._pathsCache=new $f.default,this._isReady=!1,this._onRebuildCache=this._onRebuildCache.bind(this),this._onRebuildCacheDone=this._onRebuildCacheDone.bind(this),this._pathsCache.on("rebuild-cache",this._onRebuildCache),this._pathsCache.on("rebuild-cache-done",this._onRebuildCacheDone)}reloadScopes(){this._scopes=atom.config.get("autocomplete-paths.scopes").slice(0)||[],atom.config.get("autocomplete-paths.ignoreBuiltinScopes")||(this._scopes=this._scopes.concat(Bf.DefaultScopes));for(const t in v.OptionScopes)atom.config.get(`autocomplete-paths.${t}`)&&(this._scopes=this._scopes.slice(0).concat(v.OptionScopes[t]))}_onRebuildCache(){this.emit("rebuild-cache")}_onRebuildCacheDone(){this.emit("rebuild-cache-done")}_getSuggestionsForScope(t,e,r){const n=Qf(e).substr(r.index+r[0].length),i=n.match(/[/\\|]$/),s=0===n.indexOf("./")||0===n.indexOf("../"),o=x.default.parse(n);i&&(o.dir=x.default.join(o.dir,o.base),o.base="",o.name="");const a=function(t){const e=t.getBuffer().getPath();let r=null;return atom.project.getDirectories().forEach((t=>{t.contains(e)&&(r=t)})),r}(e.editor);if(!a)return Promise.resolve([]);const c=x.default.dirname(e.editor.getPath()),u=x.default.resolve(c,o.dir);let l=s?this._pathsCache.getFilePathsForProjectDirectory(a,u):this._pathsCache.getFilePathsForProjectDirectory(a);const h=s?o.base:n,{extensions:f}=t;if(f){const t=new RegExp(`.(${f.join("|")})$`);l=l.filter((e=>t.test(e)))}h&&(l=(0,Nf.filter)(l,h,{maxResults:10}));const p=l.map((r=>{const i=atom.config.get("autocomplete-paths.normalizeSlashes"),o=atom.project.relativizePath(r)[1];let a=o;s&&(a=x.default.relative(u,r)),i&&(a=(0,pn.default)(a));let c=x.default.relative(x.default.dirname(e.editor.getPath()),r);i&&(c=(0,pn.default)(c)),!1!==t.relative&&(r=c,!1!==t.includeCurrentDirectory&&"."!==r[0]&&(r=`./${r}`)),t.projectRelativePath&&(r=(0,pn.default)(o)),t.replaceOnInsert&&t.replaceOnInsert.forEach((([t,e])=>{const n=new RegExp(t);n.test(r)&&(r=r.replace(n,e))}));const l=c.split(x.default.sep).length;return{text:r,replacementPrefix:n,displayText:a,type:"import",iconHTML:'<i class="icon-file-code"></i>',score:(0,Nf.score)(a,e.prefix),distanceToFile:l}})),d=p.length;if(p.length){const t=Cr(p,(t=>t.distanceToFile)).distanceToFile;p.forEach(((e,r)=>{e.score=d-r+(t-e.distanceToFile)})),p.sort(((t,e)=>e.score-t.score))}return Promise.resolve(p)}async getSuggestions(t){const e=this._scopes.map((e=>[e,Kf(e,t)])).filter((t=>t[1])).map((([e,r])=>this._getSuggestionsForScope(e,t,r))),r=Yr(await Promise.all(e));return!!r.length&&r}async rebuildCache(){const t=await this._pathsCache.rebuildCache();return this._isReady=!0,t}isReady(){return this._isReady}get suggestionPriority(){return atom.config.get("autocomplete-paths.suggestionPriority")}get fileCount(){return atom.project.getDirectories().reduce(((t,e)=>t+this._pathsCache.getFilePathsForProjectDirectory(e).length),0)}dispose(){this._pathsCache.removeListener("rebuild-cache",this._onRebuildCache),this._pathsCache.removeListener("rebuild-cache-done",this._onRebuildCacheDone),this._pathsCache.dispose(!0)}}function Kf(t,e){const r=Array.isArray(t.scopes)?t.scopes:[t.scopes];if(!(en(e.scopeDescriptor.getScopesArray(),r).length>0))return!1;const n=Qf(e);let i=null;return(Array.isArray(t.prefixes)?t.prefixes:[t.prefixes]).forEach((t=>{const e=new RegExp(t,"i");i=i||n.match(e)})),i}function Qf(t){const{editor:e,bufferPosition:r}=t;return e.getTextInRange([[r.row,0],r])}A=zf,S.default=A,zf.prototype.selector="*",zf.prototype.inclusionPriority=1,S=S.default;var Yf,Xf=(Yf=S)&&Yf.__esModule?Yf:{default:Yf};const Zf=new a.CompositeDisposable;let Jf,tp,ep,rp,np,ip,sp;function op(){ep?np||(ip=document.createElement("autocomplete-paths-status-bar"),ip.innerHTML="Rebuilding paths cache...",np=ep.addRightTile({item:ip,priority:100}),(Jf||(ap(),Jf))&&(rp=setInterval((()=>{const t=Jf.fileCount;t>0&&(ip.innerHTML=`Rebuilding paths cache... ${t} files`)}),500))):sp=!0}function ap(){return Jf||(Jf=new Xf.default,Jf.on("rebuild-cache",(()=>{op()})),Jf.on("rebuild-cache-done",(()=>{rp&&clearInterval(rp),np&&np.destroy(),np=null,ip=null})),tp=Je((()=>Jf.rebuildCache()),1e3,!0),tp()),Jf}
//# sourceMappingURL=autocomplete-paths.js.map
