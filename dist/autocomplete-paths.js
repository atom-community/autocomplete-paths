var t=require("zadeh"),e=require("stream"),r=require("os"),n=require("fs"),i=require("buffer"),o=require("util"),s=require("child_process"),a=require("atom"),u=require("path"),c=require("events");function l(t,e,r){Object.defineProperty(t,e,{get:r,enumerable:!0})}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};Object.defineProperty(exports,"__esModule",{value:!0});var f=function(){ap.add(atom.commands.add("atom-workspace",{"autocomplete-paths:rebuild-cache":()=>{ep.rebuildCache()}}));["core.ignoredNames","core.excludeVcsIgnoredPaths","autocomplete-paths.ignoreSubmodules","autocomplete-paths.ignoredNames","autocomplete-paths.ignoredPatterns","autocomplete-paths.maxFileCount"].forEach((t=>{ap.add(atom.config.observe(t,(()=>{ep&&(ep._pathsCache.updateConfig(),ep.rebuildCache())})))}));const t=["autocomplete-paths.scopes"];for(let e in v.OptionScopes)t.push(`autocomplete-paths.${e}`);t.forEach((t=>{ap.add(atom.config.observe(t,(()=>{ep&&ep.reloadScopes()})))}))};exports.activate=f;var h=function(){np&&clearInterval(np);ap.dispose(),ep&&(ep.dispose(!0),ep=null);ip&&(ip.destroy(),ip=null)};exports.deactivate=h;var d=function(t){rp=t,sp&&up()};exports.consumeStatusBar=d;var g=cp;exports.getProvider=g,Object.defineProperty(exports,"config",{enumerable:!0,get:function(){return _.config}});var _={};Object.defineProperty(_,"__esModule",{value:!0});var y=void 0;_.config=y;var v={};Object.defineProperty(v,"__esModule",{value:!0});var m=void 0;v.OptionScopes=m;m={enableHtmlSupport:[{scopes:["text.html.basic"],prefixes:["src=['\"]","href=['\"]","name=['\"]"],extensions:["js","png","gif","jpeg","jpg","tiff","html","json","svg"],relative:!0}]},v.OptionScopes=m;const b={normalizeSlashes:{type:"boolean",description:"Replaces backward slashes with forward slashes on windows (if possible)",default:!0},maxFileCount:{type:"number",description:"The maximum amount of files to be handled",default:2e3},suggestionPriority:{type:"number",description:"Suggestion priority of this provider. If set to a number larger than or equal to 1, suggestions will be displayed on top of default suggestions.",default:2},ignoredNames:{type:"boolean",default:!0,description:"Ignore items matched by the `Ignore Names` core option."},ignoreSubmodules:{type:"boolean",default:!1,description:"Ignore submodule directories."},ignoredPatterns:{type:"array",default:[],items:{type:"string"},description:"Ignore additional **glob** or file path patterns."},ignoreBuiltinScopes:{type:"boolean",default:!1,description:"Ignore built-in scopes and use only scopes from user configuration."},scopes:{type:"array",default:[],items:{type:"object",properties:{scopes:{type:["array"],items:{type:"string"}},prefixes:{type:["array"],items:{type:"string"}},extensions:{type:["array"],items:{type:"string"}},relative:{type:"boolean",default:!0},replaceOnInsert:{type:"array",items:{type:"array",items:{type:["string","string"]}}}}}}};y=b,_.config=y;const S=Object.keys(v.OptionScopes);for(let t=0,e=S.length;t<e;t++)b[S[t]]={type:"boolean",default:!1};var E={};Object.defineProperty(E,"__esModule",{value:!0});var A=void 0;E.default=A;var R,x=c,P=Zl(u),w={};R=w,Object.defineProperty(R,"__esModule",{value:!0});var C={},O="object"==typeof self&&self.self===self&&self||"object"==typeof p&&p.global===p&&p||Function("return this")()||{},T=Array.prototype,k=Object.prototype,j="undefined"!=typeof Symbol?Symbol.prototype:null,D=T.push,L=T.slice,M=k.toString,H=k.hasOwnProperty,$="undefined"!=typeof ArrayBuffer,F="undefined"!=typeof DataView,I=Array.isArray,N=Object.keys,B=Object.create,G=$&&ArrayBuffer.isView,W=isNaN,U=isFinite,q=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],K=Math.pow(2,53)-1;function Q(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=n,t.apply(this,o)}}function Y(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function X(t){return null===t}function Z(t){return void 0===t}function z(t){return!0===t||!1===t||"[object Boolean]"===M.call(t)}function J(t){return!(!t||1!==t.nodeType)}function tt(t){var e="[object "+t+"]";return function(t){return M.call(t)===e}}var et=tt("String"),rt=tt("Number"),nt=tt("Date"),it=tt("RegExp"),ot=tt("Error"),st=tt("Symbol"),at=tt("ArrayBuffer"),ut=tt("Function"),ct=O.document&&O.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof ct&&(ut=function(t){return"function"==typeof t||!1});var lt=ut,pt=tt("Object"),ft=F&&pt(new DataView(new ArrayBuffer(8))),ht="undefined"!=typeof Map&&pt(new Map),dt=tt("DataView");var gt=ft?function(t){return null!=t&&lt(t.getInt8)&&at(t.buffer)}:dt,_t=I||tt("Array");function yt(t,e){return null!=t&&H.call(t,e)}var vt=tt("Arguments");!function(){vt(arguments)||(vt=function(t){return yt(t,"callee")})}();var mt=vt;function bt(t){return!st(t)&&U(t)&&!isNaN(parseFloat(t))}function St(t){return rt(t)&&W(t)}function Et(t){return function(){return t}}function At(t){return function(e){var r=t(e);return"number"==typeof r&&r>=0&&r<=K}}function Rt(t){return function(e){return null==e?void 0:e[t]}}var xt=Rt("byteLength"),Pt=At(xt),wt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Ct=$?function(t){return G?G(t)&&!gt(t):Pt(t)&&wt.test(M.call(t))}:Et(!1),Ot=Rt("length");function Tt(t,e){e=function(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return e[t]},push:function(r){return e[r]=!0,t.push(r)}}}(e);var r=V.length,n=t.constructor,i=lt(n)&&n.prototype||k,o="constructor";for(yt(t,o)&&!e.contains(o)&&e.push(o);r--;)(o=V[r])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function kt(t){if(!Y(t))return[];if(N)return N(t);var e=[];for(var r in t)yt(t,r)&&e.push(r);return q&&Tt(t,e),e}function jt(t){if(null==t)return!0;var e=Ot(t);return"number"==typeof e&&(_t(t)||et(t)||mt(t))?0===e:0===Ot(kt(t))}function Dt(t,e){var r=kt(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0}function Lt(t){return t instanceof Lt?t:this instanceof Lt?void(this._wrapped=t):new Lt(t)}function Mt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,xt(t))}Lt.VERSION="1.12.0",Lt.prototype.value=function(){return this._wrapped},Lt.prototype.valueOf=Lt.prototype.toJSON=Lt.prototype.value,Lt.prototype.toString=function(){return String(this._wrapped)};function Ht(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&$t(t,e,r,n)}function $t(t,e,r,n){t instanceof Lt&&(t=t._wrapped),e instanceof Lt&&(e=e._wrapped);var i=M.call(t);if(i!==M.call(e))return!1;if(ft&&"[object Object]"==i&&gt(t)){if(!gt(e))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return j.valueOf.call(t)===j.valueOf.call(e);case"[object ArrayBuffer]":case"[object DataView]":return $t(Mt(t),Mt(e),r,n)}var o="[object Array]"===i;if(!o&&Ct(t)){if(xt(t)!==xt(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(lt(s)&&s instanceof s&&lt(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!Ht(t[u],e[u],r,n))return!1}else{var c,l=kt(t);if(u=l.length,kt(e).length!==u)return!1;for(;u--;)if(!yt(e,c=l[u])||!Ht(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0}function Ft(t,e){return Ht(t,e)}function It(t){if(!Y(t))return[];var e=[];for(var r in t)e.push(r);return q&&Tt(t,e),e}function Nt(t){var e=Ot(t);return function(r){if(null==r)return!1;var n=It(r);if(Ot(n))return!1;for(var i=0;i<e;i++)if(!lt(r[t[i]]))return!1;return t!==qt||!lt(r[Bt])}}var Bt="forEach",Gt=["clear","delete"],Wt=["get","has","set"],Ut=Gt.concat(Bt,Wt),qt=Gt.concat(Wt),Vt=["add"].concat(Gt,Bt,"has"),Kt=ht?Nt(Ut):tt("Map"),Qt=ht?Nt(qt):tt("WeakMap"),Yt=ht?Nt(Vt):tt("Set"),Xt=tt("WeakSet");function Zt(t){for(var e=kt(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}function zt(t){for(var e=kt(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n}function Jt(t){for(var e={},r=kt(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e}function te(t){var e=[];for(var r in t)lt(t[r])&&e.push(r);return e.sort()}function ee(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}}var re=ee(It),ne=ee(kt),ie=ee(It,!0);function oe(t){if(!Y(t))return{};if(B)return B(t);var e=function(){};e.prototype=t;var r=new e;return e.prototype=null,r}function se(t,e){var r=oe(t);return e&&ne(r,e),r}function ae(t){return Y(t)?_t(t)?t.slice():re({},t):t}function ue(t,e){return e(t),t}function ce(t){return _t(t)?t:[t]}function le(t){return Lt.toPath(t)}function pe(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}function fe(t,e,r){var n=pe(t,le(e));return Z(n)?r:n}function he(t,e){for(var r=(e=le(e)).length,n=0;n<r;n++){var i=e[n];if(!yt(t,i))return!1;t=t[i]}return!!r}function de(t){return t}function ge(t){return t=ne({},t),function(e){return Dt(e,t)}}function _e(t){return t=le(t),function(e){return pe(e,t)}}function ye(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}}function ve(t,e,r){return null==t?de:lt(t)?ye(t,e,r):Y(t)&&!_t(t)?ge(t):_e(t)}function me(t,e){return ve(t,e,1/0)}function be(t,e,r){return Lt.iteratee!==me?Lt.iteratee(t,e):ve(t,e,r)}function Se(t,e,r){e=be(e,r);for(var n=kt(t),i=n.length,o={},s=0;s<i;s++){var a=n[s];o[a]=e(t[a],a,t)}return o}function Ee(){}function Ae(t){return null==t?Ee:function(e){return fe(t,e)}}function Re(t,e,r){var n=Array(Math.max(0,t));e=ye(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n}function xe(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Lt.toPath=ce,Lt.iteratee=me;var Pe=Date.now||function(){return(new Date).getTime()};function we(t){var e=function(e){return t[e]},r="(?:"+kt(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}}var Ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Oe=we(Ce),Te=we(Jt(Ce)),ke=Lt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},je=/(.)^/,De={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Le=/\\|'|\r|\n|\u2028|\u2029/g;function Me(t){return"\\"+De[t]}function He(t,e,r){!e&&r&&(e=r),e=ie({},e,Lt.templateSettings);var n,i=RegExp([(e.escape||je).source,(e.interpolate||je).source,(e.evaluate||je).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,(function(e,r,n,i,a){return s+=t.slice(o,a).replace(Le,Me),o=a+e.length,r?s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return n.call(this,t,Lt)},u=e.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a}function $e(t,e,r){var n=(e=le(e)).length;if(!n)return lt(r)?r.call(t):r;for(var i=0;i<n;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=r,i=n),t=lt(o)?o.call(t):o}return t}var Fe=0;function Ie(t){var e=++Fe+"";return t?t+e:e}function Ne(t){var e=Lt(t);return e._chain=!0,e}function Be(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=oe(t.prototype),s=t.apply(o,i);return Y(s)?s:o}var Ge=Q((function(t,e){var r=Ge.placeholder,n=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===r?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return Be(t,n,this,this,s)};return n}));Ge.placeholder=Lt;var We=Q((function(t,e,r){if(!lt(t))throw new TypeError("Bind must be called on a function");var n=Q((function(i){return Be(t,n,e,this,r.concat(i))}));return n})),Ue=At(Ot);function qe(t,e,r,n){if(n=n||[],e||0===e){if(e<=0)return n.concat(t)}else e=1/0;for(var i=n.length,o=0,s=Ot(t);o<s;o++){var a=t[o];if(Ue(a)&&(_t(a)||mt(a)))if(e>1)qe(a,e-1,r,n),i=n.length;else for(var u=0,c=a.length;u<c;)n[i++]=a[u++];else r||(n[i++]=a)}return n}var Ve=Q((function(t,e){var r=(e=qe(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=We(t[n],t)}return t}));function Ke(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return yt(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r}var Qe=Q((function(t,e,r){return setTimeout((function(){return t.apply(null,r)}),e)})),Ye=Ge(Qe,Lt,1);function Xe(t,e,r){var n,i,o,s,a=0;r||(r={});var u=function(){a=!1===r.leading?0:Pe(),n=null,s=t.apply(i,o),n||(i=o=null)},c=function(){var c=Pe();a||!1!==r.leading||(a=c);var l=e-(c-a);return i=this,o=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),a=c,s=t.apply(i,o),n||(i=o=null)):n||!1===r.trailing||(n=setTimeout(u,l)),s};return c.cancel=function(){clearTimeout(n),a=0,n=i=o=null},c}function Ze(t,e,r){var n,i,o=function(e,r){n=null,r&&(i=t.apply(e,r))},s=Q((function(s){if(n&&clearTimeout(n),r){var a=!n;n=setTimeout(o,e),a&&(i=t.apply(this,s))}else n=Qe(o,e,this,s);return i}));return s.cancel=function(){clearTimeout(n),n=null},s}function ze(t,e){return Ge(e,t)}function Je(t){return function(){return!t.apply(this,arguments)}}function tr(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function er(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function rr(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}var nr=Ge(rr,2);function ir(t,e,r){e=be(e,r);for(var n,i=kt(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n}function or(t){return function(e,r,n){r=be(r,n);for(var i=Ot(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}var sr=or(1),ar=or(-1);function ur(t,e,r,n){for(var i=(r=be(r,n,1))(e),o=0,s=Ot(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o}function cr(t,e,r){return function(n,i,o){var s=0,a=Ot(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(L.call(n,s,a),St))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}var lr=cr(1,sr,ur),pr=cr(-1,ar);function fr(t,e,r){var n=(Ue(t)?sr:ir)(t,e,r);if(void 0!==n&&-1!==n)return t[n]}function hr(t,e){return fr(t,ge(e))}function dr(t,e,r){var n,i;if(e=ye(e,r),Ue(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=kt(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t}function gr(t,e,r){e=be(e,r);for(var n=!Ue(t)&&kt(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o}function _r(t){var e=function(e,r,n,i){var o=!Ue(e)&&kt(e),s=(o||e).length,a=t>0?0:s-1;for(i||(n=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var u=o?o[a]:a;n=r(n,e[u],u,e)}return n};return function(t,r,n,i){var o=arguments.length>=3;return e(t,ye(r,i,4),n,o)}}var yr=_r(1),vr=_r(-1);function mr(t,e,r){var n=[];return e=be(e,r),dr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function br(t,e,r){return mr(t,Je(be(e)),r)}function Sr(t,e,r){e=be(e,r);for(var n=!Ue(t)&&kt(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0}function Er(t,e,r){e=be(e,r);for(var n=!Ue(t)&&kt(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1}function Ar(t,e,r,n){return Ue(t)||(t=Zt(t)),("number"!=typeof r||n)&&(r=0),lr(t,e,r)>=0}var Rr=Q((function(t,e,r){var n,i;return lt(e)?i=e:(e=le(e),n=e.slice(0,-1),e=e[e.length-1]),gr(t,(function(t){var o=i;if(!o){if(n&&n.length&&(t=pe(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,r)}))}));function xr(t,e){return gr(t,_e(e))}function Pr(t,e){return mr(t,ge(e))}function wr(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=Ue(t)?t:Zt(t)).length;a<u;a++)null!=(n=t[a])&&n>o&&(o=n);else e=be(e,r),dr(t,(function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o}function Cr(t,e,r){var n,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=Ue(t)?t:Zt(t)).length;a<u;a++)null!=(n=t[a])&&n<o&&(o=n);else e=be(e,r),dr(t,(function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o}function Or(t,e,r){if(null==e||r)return Ue(t)||(t=Zt(t)),t[xe(t.length-1)];var n=Ue(t)?ae(t):Zt(t),i=Ot(n);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=xe(s,o),u=n[s];n[s]=n[a],n[a]=u}return n.slice(0,e)}function Tr(t){return Or(t,1/0)}function kr(t,e,r){var n=0;return e=be(e,r),xr(gr(t,(function(t,r,i){return{value:t,index:n++,criteria:e(t,r,i)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index})),"value")}function jr(t,e){return function(r,n,i){var o=e?[[],[]]:{};return n=be(n,i),dr(r,(function(e,i){var s=n(e,i,r);t(o,e,s)})),o}}var Dr=jr((function(t,e,r){yt(t,r)?t[r].push(e):t[r]=[e]})),Lr=jr((function(t,e,r){t[r]=e})),Mr=jr((function(t,e,r){yt(t,r)?t[r]++:t[r]=1})),Hr=jr((function(t,e,r){t[r?0:1].push(e)}),!0),$r=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Fr(t){return t?_t(t)?L.call(t):et(t)?t.match($r):Ue(t)?gr(t,de):Zt(t):[]}function Ir(t){return null==t?0:Ue(t)?t.length:kt(t).length}function Nr(t,e,r){return e in r}var Br=Q((function(t,e){var r={},n=e[0];if(null==t)return r;lt(n)?(e.length>1&&(n=ye(n,e[1])),e=It(t)):(n=Nr,e=qe(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];n(a,s,t)&&(r[s]=a)}return r})),Gr=Q((function(t,e){var r,n=e[0];return lt(n)?(n=Je(n),e.length>1&&(r=e[1])):(e=gr(qe(e,!1,!1),String),n=function(t,r){return!Ar(e,r)}),Br(t,n,r)}));function Wr(t,e,r){return L.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))}function Ur(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[0]:Wr(t,t.length-e)}function qr(t,e,r){return L.call(t,null==e||r?1:e)}function Vr(t,e,r){return null==t||t.length<1?null==e||r?void 0:[]:null==e||r?t[t.length-1]:qr(t,Math.max(0,t.length-e))}function Kr(t){return mr(t,Boolean)}function Qr(t,e){return qe(t,e,!1)}var Yr=Q((function(t,e){return e=qe(e,!0,!0),mr(t,(function(t){return!Ar(e,t)}))})),Xr=Q((function(t,e){return Yr(t,e)}));function Zr(t,e,r,n){z(e)||(n=r,r=e,e=!1),null!=r&&(r=be(r,n));for(var i=[],o=[],s=0,a=Ot(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e&&!r?(s&&o===c||i.push(u),o=c):r?Ar(o,c)||(o.push(c),i.push(u)):Ar(i,u)||i.push(u)}return i}var zr=Q((function(t){return Zr(qe(t,!0,!0))}));function Jr(t){for(var e=[],r=arguments.length,n=0,i=Ot(t);n<i;n++){var o=t[n];if(!Ar(e,o)){var s;for(s=1;s<r&&Ar(arguments[s],o);s++);s===r&&e.push(o)}}return e}function tn(t){for(var e=t&&wr(t,Ot).length||0,r=Array(e),n=0;n<e;n++)r[n]=xr(t,n);return r}var en=Q(tn);function rn(t,e){for(var r={},n=0,i=Ot(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function nn(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i}function on(t,e){if(null==e||e<1)return[];for(var r=[],n=0,i=t.length;n<i;)r.push(L.call(t,n,n+=e));return r}function sn(t,e){return t._chain?Lt(e).chain():e}function an(t){return dr(te(t),(function(e){var r=Lt[e]=t[e];Lt.prototype[e]=function(){var t=[this._wrapped];return D.apply(t,arguments),sn(this,r.apply(Lt,t))}})),Lt}dr(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=T[t];Lt.prototype[t]=function(){var r=this._wrapped;return null!=r&&(e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0]),sn(this,r)}})),dr(["concat","join","slice"],(function(t){var e=T[t];Lt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),sn(this,t)}})),l(C,"VERSION",(function(){return"1.12.0"})),l(C,"restArguments",(function(){return Q})),l(C,"isObject",(function(){return Y})),l(C,"isNull",(function(){return X})),l(C,"isUndefined",(function(){return Z})),l(C,"isBoolean",(function(){return z})),l(C,"isElement",(function(){return J})),l(C,"isString",(function(){return et})),l(C,"isNumber",(function(){return rt})),l(C,"isDate",(function(){return nt})),l(C,"isRegExp",(function(){return it})),l(C,"isError",(function(){return ot})),l(C,"isSymbol",(function(){return st})),l(C,"isArrayBuffer",(function(){return at})),l(C,"isDataView",(function(){return gt})),l(C,"isArray",(function(){return _t})),l(C,"isFunction",(function(){return lt})),l(C,"isArguments",(function(){return mt})),l(C,"isFinite",(function(){return bt})),l(C,"isNaN",(function(){return St})),l(C,"isTypedArray",(function(){return Ct})),l(C,"isEmpty",(function(){return jt})),l(C,"isMatch",(function(){return Dt})),l(C,"isEqual",(function(){return Ft})),l(C,"isMap",(function(){return Kt})),l(C,"isWeakMap",(function(){return Qt})),l(C,"isSet",(function(){return Yt})),l(C,"isWeakSet",(function(){return Xt})),l(C,"keys",(function(){return kt})),l(C,"allKeys",(function(){return It})),l(C,"values",(function(){return Zt})),l(C,"pairs",(function(){return zt})),l(C,"invert",(function(){return Jt})),l(C,"methods",(function(){return te})),l(C,"functions",(function(){return te})),l(C,"extend",(function(){return re})),l(C,"assign",(function(){return ne})),l(C,"extendOwn",(function(){return ne})),l(C,"defaults",(function(){return ie})),l(C,"create",(function(){return se})),l(C,"clone",(function(){return ae})),l(C,"tap",(function(){return ue})),l(C,"get",(function(){return fe})),l(C,"has",(function(){return he})),l(C,"mapObject",(function(){return Se})),l(C,"identity",(function(){return de})),l(C,"constant",(function(){return Et})),l(C,"noop",(function(){return Ee})),l(C,"toPath",(function(){return ce})),l(C,"property",(function(){return _e})),l(C,"propertyOf",(function(){return Ae})),l(C,"matches",(function(){return ge})),l(C,"matcher",(function(){return ge})),l(C,"times",(function(){return Re})),l(C,"random",(function(){return xe})),l(C,"now",(function(){return Pe})),l(C,"escape",(function(){return Oe})),l(C,"unescape",(function(){return Te})),l(C,"templateSettings",(function(){return ke})),l(C,"template",(function(){return He})),l(C,"result",(function(){return $e})),l(C,"uniqueId",(function(){return Ie})),l(C,"chain",(function(){return Ne})),l(C,"iteratee",(function(){return me})),l(C,"partial",(function(){return Ge})),l(C,"bind",(function(){return We})),l(C,"bindAll",(function(){return Ve})),l(C,"memoize",(function(){return Ke})),l(C,"delay",(function(){return Qe})),l(C,"defer",(function(){return Ye})),l(C,"throttle",(function(){return Xe})),l(C,"debounce",(function(){return Ze})),l(C,"wrap",(function(){return ze})),l(C,"negate",(function(){return Je})),l(C,"compose",(function(){return tr})),l(C,"after",(function(){return er})),l(C,"before",(function(){return rr})),l(C,"once",(function(){return nr})),l(C,"findKey",(function(){return ir})),l(C,"findIndex",(function(){return sr})),l(C,"findLastIndex",(function(){return ar})),l(C,"sortedIndex",(function(){return ur})),l(C,"indexOf",(function(){return lr})),l(C,"lastIndexOf",(function(){return pr})),l(C,"detect",(function(){return fr})),l(C,"find",(function(){return fr})),l(C,"findWhere",(function(){return hr})),l(C,"forEach",(function(){return dr})),l(C,"each",(function(){return dr})),l(C,"collect",(function(){return gr})),l(C,"map",(function(){return gr})),l(C,"inject",(function(){return yr})),l(C,"foldl",(function(){return yr})),l(C,"reduce",(function(){return yr})),l(C,"foldr",(function(){return vr})),l(C,"reduceRight",(function(){return vr})),l(C,"select",(function(){return mr})),l(C,"filter",(function(){return mr})),l(C,"reject",(function(){return br})),l(C,"all",(function(){return Sr})),l(C,"every",(function(){return Sr})),l(C,"any",(function(){return Er})),l(C,"some",(function(){return Er})),l(C,"include",(function(){return Ar})),l(C,"includes",(function(){return Ar})),l(C,"contains",(function(){return Ar})),l(C,"invoke",(function(){return Rr})),l(C,"pluck",(function(){return xr})),l(C,"where",(function(){return Pr})),l(C,"max",(function(){return wr})),l(C,"min",(function(){return Cr})),l(C,"shuffle",(function(){return Tr})),l(C,"sample",(function(){return Or})),l(C,"sortBy",(function(){return kr})),l(C,"groupBy",(function(){return Dr})),l(C,"indexBy",(function(){return Lr})),l(C,"countBy",(function(){return Mr})),l(C,"partition",(function(){return Hr})),l(C,"toArray",(function(){return Fr})),l(C,"size",(function(){return Ir})),l(C,"pick",(function(){return Br})),l(C,"omit",(function(){return Gr})),l(C,"take",(function(){return Ur})),l(C,"head",(function(){return Ur})),l(C,"first",(function(){return Ur})),l(C,"initial",(function(){return Wr})),l(C,"last",(function(){return Vr})),l(C,"drop",(function(){return qr})),l(C,"tail",(function(){return qr})),l(C,"rest",(function(){return qr})),l(C,"compact",(function(){return Kr})),l(C,"flatten",(function(){return Qr})),l(C,"without",(function(){return Xr})),l(C,"unique",(function(){return Zr})),l(C,"uniq",(function(){return Zr})),l(C,"union",(function(){return zr})),l(C,"intersection",(function(){return Jr})),l(C,"difference",(function(){return Yr})),l(C,"transpose",(function(){return tn})),l(C,"unzip",(function(){return tn})),l(C,"zip",(function(){return en})),l(C,"object",(function(){return rn})),l(C,"range",(function(){return nn})),l(C,"chunk",(function(){return on})),l(C,"mixin",(function(){return an})),l(C,"default",(function(){return Lt}));var un,cn,ln=an(C);ln._=ln,un=w,cn=C,Object.keys(cn).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(un,t,{enumerable:!0,get:function(){return cn[t]}})})),l(w,"default",(function(){return ln}));var pn=Zl((t=>{const e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")})),fn={};Object.defineProperty(fn,"__esModule",{value:!0});var hn=void 0;fn.default=hn;var dn,gn=c;dn=Gn,Gn.Minimatch=Wn;var _n={sep:"/"};try{_n=function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}("path")}catch(t){}var yn,vn=Gn.GLOBSTAR=Wn.GLOBSTAR={},mn={};yn=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);bn(i)?r.push.apply(r,i):r.push(i)}return r};var bn=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Sn={};function En(t,e,r){t instanceof RegExp&&(t=An(t,r)),e instanceof RegExp&&(e=An(e,r));var n=Rn(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function An(t,e){var r=e.match(t);return r?r[0]:null}function Rn(t,e,r){var n,i,o,s,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(t,l+1)):1==n.length?a=[n.pop(),c]:((i=n.pop())<o&&(o=i,s=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}Sn=En,En.range=Rn,mn=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return $n(function(t){return t.split("\\\\").join(xn).split("\\{").join(Pn).split("\\}").join(wn).split("\\,").join(Cn).split("\\.").join(On)}(t),!0).map(kn)};var xn="\0SLASH"+Math.random()+"\0",Pn="\0OPEN"+Math.random()+"\0",wn="\0CLOSE"+Math.random()+"\0",Cn="\0COMMA"+Math.random()+"\0",On="\0PERIOD"+Math.random()+"\0";function Tn(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function kn(t){return t.split(xn).join("\\").split(Pn).join("{").split(wn).join("}").split(Cn).join(",").split(On).join(".")}function jn(t){if(!t)return[""];var e=[],r=Sn("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=jn(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Dn(t){return"{"+t+"}"}function Ln(t){return/^-?0\d/.test(t)}function Mn(t,e){return t<=e}function Hn(t,e){return t>=e}function $n(t,e){var r=[],n=Sn("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=o||s,u=n.body.indexOf(",")>=0;if(!a&&!u)return n.post.match(/,.*\}/)?$n(t=n.pre+"{"+n.body+wn+n.post):[t];if(a)i=n.body.split(/\.\./);else if(1===(i=jn(n.body)).length&&1===(i=$n(i[0],!1).map(Dn)).length)return(p=n.post.length?$n(n.post,!1):[""]).map((function(t){return n.pre+i[0]+t}));var c,l=n.pre,p=n.post.length?$n(n.post,!1):[""];if(a){var f=Tn(i[0]),h=Tn(i[1]),d=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(Tn(i[2])):1,_=Mn;h<f&&(g*=-1,_=Hn);var y=i.some(Ln);c=[];for(var v=f;_(v,h);v+=g){var m;if(s)"\\"===(m=String.fromCharCode(v))&&(m="");else if(m=String(v),y){var b=d-m.length;if(b>0){var S=new Array(b+1).join("0");m=v<0?"-"+S+m.slice(1):S+m}}c.push(m)}}else c=yn(i,(function(t){return $n(t,!1)}));for(var E=0;E<c.length;E++)for(var A=0;A<p.length;A++){var R=l+c[E]+p[A];(!e||a||R)&&r.push(R)}return r}var Fn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},In="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Nn=/\/+/;function Bn(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function Gn(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Wn(e,r).match(t))}function Wn(t,e){if(!(this instanceof Wn))return new Wn(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==_n.sep&&(t=t.split(_n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function Un(t,e){if(e||(e=this instanceof Wn?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:mn(t)}Gn.filter=function(t,e){return e=e||{},function(r,n,i){return Gn(r,t,e)}},Gn.defaults=function(t){if(!t||!Object.keys(t).length)return Gn;var e=Gn,r=function(r,n,i){return e.minimatch(r,n,Bn(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,Bn(t,n))},r},Wn.defaults=function(t){return t&&Object.keys(t).length?Gn.defaults(t).Minimatch:Wn},Wn.prototype.debug=function(){},Wn.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(Nn)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},Wn.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},Gn.braceExpand=function(t,e){return Un(t,e)},Wn.prototype.braceExpand=Un,Wn.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return vn;if(""===t)return"";var n,i="",o=!!r.nocase,s=!1,a=[],u=[],c=!1,l=-1,p=-1,f="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(n){switch(n){case"*":i+="[^/]*?",o=!0;break;case"?":i+="[^/]",o=!0;break;default:i+="\\"+n}h.debug("clearStateChar %j %j",n,i),n=!1}}for(var g,_=0,y=t.length;_<y&&(g=t.charAt(_));_++)if(this.debug("%s\t%s %s %j",t,_,i,g),s&&In[g])i+="\\"+g,s=!1;else switch(g){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,_,i,g),c){this.debug("  in class"),"!"===g&&_===p+1&&(g="^"),i+=g;continue}h.debug("call clearStateChar %j",n),d(),n=g,r.noext&&d();continue;case"(":if(c){i+="(";continue}if(!n){i+="\\(";continue}a.push({type:n,start:_-1,reStart:i.length,open:Fn[n].open,close:Fn[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(c||!a.length){i+="\\)";continue}d(),o=!0;var v=a.pop();i+=v.close,"!"===v.type&&u.push(v),v.reEnd=i.length;continue;case"|":if(c||!a.length||s){i+="\\|",s=!1;continue}d(),i+="|";continue;case"[":if(d(),c){i+="\\"+g;continue}c=!0,p=_,l=i.length,i+=g;continue;case"]":if(_===p+1||!c){i+="\\"+g,s=!1;continue}if(c){var m=t.substring(p+1,_);try{RegExp("["+m+"]")}catch(t){var b=this.parse(m,qn);i=i.substr(0,l)+"\\["+b[0]+"\\]",o=o||b[1],c=!1;continue}}o=!0,c=!1,i+=g;continue;default:d(),s?s=!1:!In[g]||"^"===g&&c||(i+="\\"),i+=g}c&&(m=t.substr(p+1),b=this.parse(m,qn),i=i.substr(0,l)+"\\["+b[0],o=o||b[1]);for(v=a.pop();v;v=a.pop()){var S=i.slice(v.reStart+v.open.length);this.debug("setting tail",i,v),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",S,S,v,i);var E="*"===v.type?"[^/]*?":"?"===v.type?"[^/]":"\\"+v.type;o=!0,i=i.slice(0,v.reStart)+E+"\\("+S}d(),s&&(i+="\\\\");var A=!1;switch(i.charAt(0)){case".":case"[":case"(":A=!0}for(var R=u.length-1;R>-1;R--){var x=u[R],P=i.slice(0,x.reStart),w=i.slice(x.reStart,x.reEnd-8),C=i.slice(x.reEnd-8,x.reEnd),O=i.slice(x.reEnd);C+=O;var T=P.split("(").length-1,k=O;for(_=0;_<T;_++)k=k.replace(/\)[+*?]?/,"");var j="";""===(O=k)&&e!==qn&&(j="$"),i=P+w+O+j+C}""!==i&&o&&(i="(?=.)"+i);A&&(i=f+i);if(e===qn)return[i,o];if(!o)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var D=r.nocase?"i":"";try{var L=new RegExp("^"+i+"$",D)}catch(t){return new RegExp("$.")}return L._glob=t,L._src=i,L};var qn={};Gn.makeRe=function(t,e){return new Wn(t,e||{}).makeRe()},Wn.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",i=t.map((function(t){return t.map((function(t){return t===vn?r:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp},Gn.match=function(t,e,r){var n=new Wn(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},Wn.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==_n.sep&&(t=t.split(_n.sep).join("/"));t=t.split(Nn),this.debug(this.pattern,"split",t);var n,i,o=this.set;for(this.debug(this.pattern,"set",o),i=t.length-1;i>=0&&!(n=t[i]);i--);for(i=0;i<o.length;i++){var s=o[i],a=t;if(r.matchBase&&1===s.length&&(a=[n]),this.matchOne(a,s,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},Wn.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u,c=e[o],l=t[i];if(this.debug(e,c,l),!1===c)return!1;if(c===vn){this.debug("GLOBSTAR",[e,c,l]);var p=i,f=o+1;if(f===a){for(this.debug("** at the end");i<s;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;p<s;){var h=t[p];if(this.debug("\nglobstar while",t,p,e,f,h),this.matchOne(t.slice(p),e.slice(f),r))return this.debug("globstar found match!",p,s,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==s))}if("string"==typeof c?(u=n.nocase?l.toLowerCase()===c.toLowerCase():l===c,this.debug("string match",c,l,u)):(u=l.match(c),this.debug("pattern match",c,l,u)),!u)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a)return i===s-1&&""===t[i];throw new Error("wtf?")};var Vn=Gl(dn),Kn=a,Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});var Yn=ri;Qn.merge=Yn;var Xn=ni;Qn.unique=Xn;var Zn=function(t,e){return ri(t,e),ni(t)};Qn.union=Zn;var zn=(ei=void 0,Qn.exec=ei);Qn.MAX_STRING_LENGTH=zn;var Jn=s,ti=i;var ei=(0,o.promisify)(Jn.exec);Qn.exec=ei;function ri(t,e){e.length&&Array.prototype.push.apply(t,e)}function ni(t){return[...new Set(t)]}zn=ti.constants.MAX_STRING_LENGTH,Qn.MAX_STRING_LENGTH=zn;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});var oi=Si;ii.posixifyPath=oi;var si=Ei;ii.posixifyPathNormalized=si;var ai=async function(t,e=process.cwd()){return await Ri(Si(t),e)};ii.globifyPath=ai;var ui=function(t){return`${Ei(t)}/**`};ii.globifyDirectory=ui;var ci=async function(t){return await Ai(await mi(di.default.join(t,".gitignore"),"utf-8"),t)};ii.globifyGitIgnoreFile=ci;var li=Ai;ii.globifyGitIgnore=li;var pi,fi,hi,di=vi(u),gi=n;hi=function(t){return"string"==typeof t&&/[@?!+*]\(/.test(t)},fi=function(t){return"string"==typeof t&&(/[*!?{}(|)[\]]/.test(t)||hi(t))};var _i=/[‘“!#$%&+^<=>`]/;pi=function(t){return"string"!=typeof t||fi(t)||_i.test(t)};var yi=vi((function(t){return!1===pi(t)}));function vi(t){return t&&t.__esModule?t:{default:t}}const{readFile:mi,stat:bi}=gi.promises;function Si(t){return di.default.normalize(t).replace(/\\/g,"/")}function Ei(t){return Si(t).replace(/\/$/,"")}async function Ai(t,e){const r=t.split("\n").filter((t=>{return!(/^\s*$/.test(t)||(e=t,"#"===e[0]));var e})).map((t=>function(t){return t.replace(/^\s+/,"")}(function(t){return/\\\s+$/.test(t)?t.replace(/\\(\s+)$/,"$1"):t.replace(/\s+$/,"")}(t)))),n=r.length;let i=new Array(n);for(let t=0;t<n;t++){const n=await Ri(r[t],e);"string"==typeof n?i[t]=n:(i[t]=n[0],i.push(n[1]))}return(0,Qn.unique)(i)}async function Ri(t,e){let r=t,n=!1;"!"===r[0]&&(r=r.substring(1),n=!0);let i=xi.OTHER;if("/"===r[0])r=r.substring(1),await(0,yi.default)(r)&&(i=await Pi(e?di.default.join(e,r):r));else{const t=r.indexOf("/");-1===t?r.startsWith("**/")||(r=`**/${r}`):t===r.length-1?i=xi.DIRECTORY:await(0,yi.default)(r)&&(i=await Pi(e?di.default.join(e,r):r))}return e&&(r=`${Si(e)}/${r}`),r=n?r:`!${r}`,i===xi.DIRECTORY?r.endsWith("/")?`${r}**`:`${r}/**`:i===xi.FILE||r.endsWith("/**")?r:[r,`${r}/**`]}const xi={OTHER:0,DIRECTORY:1,FILE:2};async function Pi(t){let e;try{e=await bi(t)}catch(t){return xi.OTHER}return e.isDirectory()?xi.DIRECTORY:e.isFile()?xi.FILE:xi.OTHER}var wi={};Object.defineProperty(wi,"__esModule",{value:!0});var Ci=(Za=void 0,Ja=wi.generate=Za,eu=wi.convertPatternsToTasks=Ja,nu=wi.getPositivePatterns=eu,ou=wi.getNegativePatternsAsPositive=nu,au=wi.groupPatternsByBaseDirectory=ou,wi.convertPatternGroupsToTasks=au);wi.convertPatternGroupToTask=Ci;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});var Ti=(Li=void 0,$i=Oi.array=Li,Bi=Oi.errno=$i,Yi=Oi.fs=Bi,Ia=Oi.path=Yi,Ka=Oi.pattern=Ia,Oi.stream=Ka);Oi.string=Ti;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});var ji=(Di=void 0,ki.flatten=Di);ki.splitWhen=ji;var Di=function(t){return t.reduce(((t,e)=>[].concat(t,e)),[])};ki.flatten=Di,ji=function(t,e){const r=[[]];let n=0;for(const i of t)e(i)?(n++,r[n]=[]):r[n].push(i);return r},ki.splitWhen=ji;var Li=ki;Oi.array=ki;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});var Hi=void 0;Mi.isEnoentCodeError=Hi,Hi=function(t){return"ENOENT"===t.code},Mi.isEnoentCodeError=Hi;var $i=Mi;Oi.errno=Mi;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});var Ii=void 0;Fi.createDirentFromStats=Ii;class Ni{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}Ii=function(t,e){return new Ni(t,e)},Fi.createDirentFromStats=Ii;var Bi=Fi;Oi.fs=Fi;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});var Wi=(Vi=void 0,Ki=Gi.unixify=Vi,Qi=Gi.makeAbsolute=Ki,Gi.escape=Qi);Gi.removeLeadingDotSegment=Wi;const Ui=u,qi=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;var Vi=function(t){return t.replace(/\\/g,"/")};Gi.unixify=Vi;var Ki=function(t,e){return Ui.resolve(t,e)};Gi.makeAbsolute=Ki;var Qi=function(t){return t.replace(qi,"\\$2")};Gi.escape=Qi,Wi=function(t){if("."===t.charAt(0)){const e=t.charAt(1);if("/"===e||"\\"===e)return t.slice(2)}return t},Gi.removeLeadingDotSegment=Wi;var Yi=Gi;Oi.path=Gi;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});var Zi=(_a=void 0,va=Xi.isStaticPattern=_a,ma=Xi.isDynamicPattern=va,ba=Xi.convertToPositivePattern=ma,Ea=Xi.convertToNegativePattern=ba,Ra=Xi.isNegativePattern=Ea,xa=Xi.isPositivePattern=Ra,Pa=Xi.getNegativePatterns=xa,wa=Xi.getPositivePatterns=Pa,Ca=Xi.getBaseDirectory=wa,Ta=Xi.hasGlobStar=Ca,ka=Xi.endsWithSlashGlobStar=Ta,ja=Xi.isAffectDepthOfReadingPattern=ka,La=Xi.expandPatternsWithBraceExpansion=ja,Ma=Xi.expandBraceExpansion=La,$a=Xi.getPatternParts=Ma,Fa=Xi.makeRe=$a,Xi.convertPatternsToRe=Fa);Xi.matchAny=Zi;const zi=u;var Ji,to,eo;eo=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1};var ro={"{":"}","(":")","[":"]"},no=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,io=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;to=function(t,e){if("string"!=typeof t||""===t)return!1;if(eo(t))return!0;var r,n=no;for(e&&!1===e.strict&&(n=io);r=n.exec(t);){if(r[2])return!0;var i=r.index+r[0].length,o=r[1],s=o?ro[o]:null;if(o&&s){var a=t.indexOf(s,i);-1!==a&&(i=a+1)}t=t.slice(i)}return!1};var oo=u.posix.dirname,so="win32"===r.platform(),ao=/\\/g,uo=/[\{\[].*[\/]*.*[\}\]]$/,co=/(^|[^\\])([\{\[]|\([^\)]+$)/,lo=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Ji=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&so&&t.indexOf("/")<0&&(t=t.replace(ao,"/")),uo.test(t)&&(t+="/"),t+="a";do{t=oo(t)}while(to(t)||co.test(t));return t.replace(lo,"$1")};var po={};const fo=o;var ho,go={},_o=t=>"number"==typeof t?Number.isInteger(t):"string"==typeof t&&""!==t.trim()&&Number.isInteger(Number(t)),yo=t=>"brace"===t.type&&(!(!0!==t.invalid&&!t.dollar)||(t.commas>>0+t.ranges>>0==0||!0!==t.open||!0!==t.close)&&(t.invalid=!0,!0)),vo=t=>t.reduce(((t,e)=>("text"===e.type&&t.push(e.value),"range"===e.type&&(e.type="text"),t)),[]),mo=(...t)=>{const e=[],r=t=>{for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?r(i,e):void 0!==i&&e.push(i)}return e};return r(t),e};ho=(t,e={})=>{let r=(t,n={})=>{let i=e.escapeInvalid&&yo(n),o=!0===t.invalid&&!0===e.escapeInvalid,s="";if(t.value)return(i||o)&&(t=>"open"===t.type||"close"===t.type||!0===t.open||!0===t.close)(t)?"\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)s+=r(e);return s};return r(t)};var bo={},So={};const Eo=o;var Ao,Ro={};Ao=function(t){return"number"==typeof t?t-t==0:"string"==typeof t&&""!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))};const xo=(t,e,r)=>{if(!1===Ao(t))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===e||t===e)return String(t);if(!1===Ao(e))throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};"boolean"==typeof n.strictZeros&&(n.relaxZeros=!1===n.strictZeros);let i=t+":"+e+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture)+String(n.wrap);if(xo.cache.hasOwnProperty(i))return xo.cache[i].result;let o=Math.min(t,e),s=Math.max(t,e);if(1===Math.abs(o-s)){let r=t+"|"+e;return n.capture?`(${r})`:!1===n.wrap?r:`(?:${r})`}let a=Mo(t)||Mo(e),u={min:t,max:e,a:o,b:s},c=[],l=[];if(a&&(u.isPadded=a,u.maxLen=String(u.max).length),o<0){l=wo(s<0?Math.abs(s):1,Math.abs(o),u,n),o=u.a=0}return s>=0&&(c=wo(o,s,u,n)),u.negatives=l,u.positives=c,u.result=function(t,e,r){let n=Co(t,e,"-",!1,r)||[],i=Co(e,t,"",!1,r)||[],o=Co(t,e,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}(l,c,n),!0===n.capture?u.result=`(${u.result})`:!1!==n.wrap&&c.length+l.length>1&&(u.result=`(?:${u.result})`),xo.cache[i]=u,u.result};function Po(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=function(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}(t,e),i=n.length,o="",s=0;for(let t=0;t<i;t++){let[e,i]=n[t];e===i?o+=e:"0"!==e||"9"!==i?o+=Lo(e,i,r):s++}return s&&(o+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function wo(t,e,r,n){let i,o=function(t,e){let r=1,n=1,i=ko(t,r),o=new Set([e]);for(;t<=i&&i<=e;)o.add(i),r+=1,i=ko(t,r);for(i=jo(e+1,n)-1;t<i&&i<=e;)o.add(i),n+=1,i=jo(e+1,n)-1;return o=[...o],o.sort(Oo),o}(t,e),s=[],a=t;for(let t=0;t<o.length;t++){let e=o[t],u=Po(String(a),String(e),n),c="";r.isPadded||!i||i.pattern!==u.pattern?(r.isPadded&&(c=Ho(e,r,n)),u.string=c+u.pattern+Do(u.count),s.push(u),a=e+1,i=u):(i.count.length>1&&i.count.pop(),i.count.push(u.count[0]),i.string=i.pattern+Do(i.count),a=e+1)}return s}function Co(t,e,r,n,i){let o=[];for(let i of t){let{string:t}=i;n||To(e,"string",t)||o.push(r+t),n&&To(e,"string",t)&&o.push(r+t)}return o}function Oo(t,e){return t>e?1:e>t?-1:0}function To(t,e,r){return t.some((t=>t[e]===r))}function ko(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function jo(t,e){return t-t%Math.pow(10,e)}function Do(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function Lo(t,e,r){return`[${t}${e-t==1?"":"-"}${e}]`}function Mo(t){return/^-?(0+)\d/.test(t)}function Ho(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}xo.cache={},xo.clearCache=()=>xo.cache={},Ro=xo;const $o=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),Fo=t=>"number"==typeof t||"string"==typeof t&&""!==t,Io=t=>Number.isInteger(+t),No=t=>{let e=`${t}`,r=-1;if("-"===e[0]&&(e=e.slice(1)),"0"===e)return!1;for(;"0"===e[++r];);return r>0},Bo=(t,e,r)=>{if(e>0){let r="-"===t[0]?"-":"";r&&(t=t.slice(1)),t=r+t.padStart(r?e-1:e,"0")}return!1===r?String(t):t},Go=(t,e)=>{let r="-"===t[0]?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},Wo=(t,e,r,n)=>{if(r)return Ro(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);return t===e?i:`[${i}-${String.fromCharCode(e)}]`},Uo=(t,e,r)=>{if(Array.isArray(t)){let e=!0===r.wrap,n=r.capture?"":"?:";return e?`(${n}${t.join("|")})`:t.join("|")}return Ro(t,e,r)},qo=(...t)=>new RangeError("Invalid range arguments: "+Eo.inspect(...t)),Vo=(t,e,r)=>{if(!0===r.strictRanges)throw qo([t,e]);return[]},Ko=(t,e,r=1,n={})=>{let i=Number(t),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(!0===n.strictRanges)throw qo([t,e]);return[]}0===i&&(i=0),0===o&&(o=0);let s=i>o,a=String(t),u=String(e),c=String(r);r=Math.max(Math.abs(r),1);let l=No(a)||No(u)||No(c),p=l?Math.max(a.length,u.length,c.length):0,f=!1===l&&!1===((t,e,r)=>"string"==typeof t||"string"==typeof e||!0===r.stringify)(t,e,n),h=n.transform||(t=>e=>!0===t?Number(e):String(e))(f);if(n.toRegex&&1===r)return Wo(Go(t,p),Go(e,p),!0,n);let d={negatives:[],positives:[]},g=[],_=0;for(;s?i>=o:i<=o;)!0===n.toRegex&&r>1?d[(y=i)<0?"negatives":"positives"].push(Math.abs(y)):g.push(Bo(h(i,_),p,f)),i=s?i-r:i+r,_++;var y;return!0===n.toRegex?r>1?((t,e)=>{t.negatives.sort(((t,e)=>t<e?-1:t>e?1:0)),t.positives.sort(((t,e)=>t<e?-1:t>e?1:0));let r,n=e.capture?"":"?:",i="",o="";return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(o=`-(${n}${t.negatives.join("|")})`),r=i&&o?`${i}|${o}`:i||o,e.wrap?`(${n}${r})`:r})(d,n):Uo(g,null,{wrap:!1,...n}):g},Qo=(t,e,r,n={})=>{if(null==e&&Fo(t))return[t];if(!Fo(t)||!Fo(e))return Vo(t,e,n);if("function"==typeof r)return Qo(t,e,1,{transform:r});if($o(r))return Qo(t,e,0,r);let i={...n};return!0===i.capture&&(i.wrap=!0),r=r||i.step||1,Io(r)?Io(t)&&Io(e)?Ko(t,e,r,i):((t,e,r=1,n={})=>{if(!Io(t)&&t.length>1||!Io(e)&&e.length>1)return Vo(t,e,n);let i=n.transform||(t=>String.fromCharCode(t)),o=`${t}`.charCodeAt(0),s=`${e}`.charCodeAt(0),a=o>s,u=Math.min(o,s),c=Math.max(o,s);if(n.toRegex&&1===r)return Wo(u,c,!1,n);let l=[],p=0;for(;a?o>=s:o<=s;)l.push(i(o,p)),o=a?o-r:o+r,p++;return!0===n.toRegex?Uo(l,null,{wrap:!1,options:n}):l})(t,e,Math.max(Math.abs(r),1),i):null==r||$o(r)?Qo(t,e,1,r):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step "${t}" to be a number`);return[]})(r,i)};So=Qo;bo=(t,e={})=>{let r=(t,n={})=>{let i=yo(n),o=!0===t.invalid&&!0===e.escapeInvalid,s=!0===i||!0===o,a=!0===e.escapeInvalid?"\\":"",u="";if(!0===t.isOpen)return a+t.value;if(!0===t.isClose)return a+t.value;if("open"===t.type)return s?a+t.value:"(";if("close"===t.type)return s?a+t.value:")";if("comma"===t.type)return"comma"===t.prev.type?"":s?t.value:"|";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let r=vo(t.nodes),n=So(...r,{...e,wrap:!1,toRegex:!0});if(0!==n.length)return r.length>1&&n.length>1?`(${n})`:n}if(t.nodes)for(let e of t.nodes)u+=r(e,t);return u};return r(t)};var Yo={};const Xo=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return r?mo(e).map((t=>`{${t}}`)):e;for(let i of t)if(Array.isArray(i))for(let t of i)n.push(Xo(t,e,r));else for(let t of e)!0===r&&"string"==typeof t&&(t=`{${t}}`),n.push(Array.isArray(t)?Xo(i,t,r):i+t);return mo(n)};Yo=(t,e={})=>{let r=void 0===e.rangeLimit?1e3:e.rangeLimit,n=(t,i={})=>{t.queue=[];let o=i,s=i.queue;for(;"brace"!==o.type&&"root"!==o.type&&o.parent;)o=o.parent,s=o.queue;if(t.invalid||t.dollar)return void s.push(Xo(s.pop(),ho(t,e)));if("brace"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void s.push(Xo(s.pop(),["{}"]));if(t.nodes&&t.ranges>0){let n=vo(t.nodes);if(((t,e,r=1,n)=>!1!==n&&!(!_o(t)||!_o(e))&&(Number(e)-Number(t))/Number(r)>=n)(...n,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let i=So(...n,e);return 0===i.length&&(i=ho(t,e)),s.push(Xo(s.pop(),i)),void(t.nodes=[])}let a=(t=>"brace"===t.type&&t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0))(t),u=t.queue,c=t;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,u=c.queue;for(let e=0;e<t.nodes.length;e++){let r=t.nodes[e];"comma"!==r.type||"brace"!==t.type?"close"!==r.type?r.value&&"open"!==r.type?u.push(Xo(u.pop(),r.value)):r.nodes&&n(r,t):s.push(Xo(s.pop(),u,a)):(1===e&&u.push(""),u.push(""))}return u};return mo(n(t))};var Zo,zo={};Zo={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const{MAX_LENGTH:Jo,CHAR_BACKSLASH:ts,CHAR_BACKTICK:es,CHAR_COMMA:rs,CHAR_DOT:ns,CHAR_LEFT_PARENTHESES:is,CHAR_RIGHT_PARENTHESES:os,CHAR_LEFT_CURLY_BRACE:ss,CHAR_RIGHT_CURLY_BRACE:as,CHAR_LEFT_SQUARE_BRACKET:us,CHAR_RIGHT_SQUARE_BRACKET:cs,CHAR_DOUBLE_QUOTE:ls,CHAR_SINGLE_QUOTE:ps,CHAR_NO_BREAK_SPACE:fs,CHAR_ZERO_WIDTH_NOBREAK_SPACE:hs}=Zo;zo=(t,e={})=>{if("string"!=typeof t)throw new TypeError("Expected a string");let r=e||{},n="number"==typeof r.maxLength?Math.min(Jo,r.maxLength):Jo;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i,o={type:"root",input:t,nodes:[]},s=[o],a=o,u=o,c=0,l=t.length,p=0,f=0;const h=()=>t[p++],d=t=>{if("text"===t.type&&"dot"===u.type&&(u.type="text"),!u||"text"!==u.type||"text"!==t.type)return a.nodes.push(t),t.parent=a,t.prev=u,u=t,t;u.value+=t.value};for(d({type:"bos"});p<l;)if(a=s[s.length-1],i=h(),i!==hs&&i!==fs)if(i!==ts)if(i!==cs)if(i!==us)if(i!==is)if(i!==os)if(i!==ls&&i!==ps&&i!==es)if(i!==ss)if(i!==as)if(i===rs&&f>0){if(a.ranges>0){a.ranges=0;let t=a.nodes.shift();a.nodes=[t,{type:"text",value:ho(a)}]}d({type:"comma",value:i}),a.commas++}else if(i===ns&&f>0&&0===a.commas){let t=a.nodes;if(0===f||0===t.length){d({type:"text",value:i});continue}if("dot"===u.type){if(a.range=[],u.value+=i,u.type="range",3!==a.nodes.length&&5!==a.nodes.length){a.invalid=!0,a.ranges=0,u.type="text";continue}a.ranges++,a.args=[];continue}if("range"===u.type){t.pop();let e=t[t.length-1];e.value+=u.value+i,u=e,a.ranges--;continue}d({type:"dot",value:i})}else d({type:"text",value:i});else{if("brace"!==a.type){d({type:"text",value:i});continue}let t="close";a=s.pop(),a.close=!0,d({type:t,value:i}),f--,a=s[s.length-1]}else{f++;let t=u.value&&"$"===u.value.slice(-1)||!0===a.dollar;a=d({type:"brace",open:!0,close:!1,dollar:t,depth:f,commas:0,ranges:0,nodes:[]}),s.push(a),d({type:"open",value:i})}else{let t,r=i;for(!0!==e.keepQuotes&&(i="");p<l&&(t=h());)if(t!==ts){if(t===r){!0===e.keepQuotes&&(i+=t);break}i+=t}else i+=t+h();d({type:"text",value:i})}else{if("paren"!==a.type){d({type:"text",value:i});continue}a=s.pop(),d({type:"text",value:i}),a=s[s.length-1]}else a=d({type:"paren",nodes:[]}),s.push(a),d({type:"text",value:i});else{c++;let t;for(;p<l&&(t=h());)if(i+=t,t!==us)if(t!==ts){if(t===cs&&(c--,0===c))break}else i+=h();else c++;d({type:"text",value:i})}else d({type:"text",value:"\\"+i});else d({type:"text",value:(e.keepEscaping?i:"")+h()});do{if(a=s.pop(),"root"!==a.type){a.nodes.forEach((t=>{t.nodes||("open"===t.type&&(t.isOpen=!0),"close"===t.type&&(t.isClose=!0),t.nodes||(t.type="text"),t.invalid=!0)}));let t=s[s.length-1],e=t.nodes.indexOf(a);t.nodes.splice(e,1,...a.nodes)}}while(s.length>0);return d({type:"eos"}),o};const ds=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let t=ds.create(n,e);Array.isArray(t)?r.push(...t):r.push(t)}else r=[].concat(ds.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(r=[...new Set(r)]),r};ds.parse=(t,e={})=>zo(t,e),ds.stringify=(t,e={})=>ho("string"==typeof t?ds.parse(t,e):t,e),ds.compile=(t,e={})=>("string"==typeof t&&(t=ds.parse(t,e)),bo(t,e)),ds.expand=(t,e={})=>{"string"==typeof t&&(t=ds.parse(t,e));let r=Yo(t,e);return!0===e.noempty&&(r=r.filter(Boolean)),!0===e.nodupes&&(r=[...new Set(r)]),r},ds.create=(t,e={})=>""===t||t.length<3?[t]:!0!==e.expand?ds.compile(t,e):ds.expand(t,e),go=ds;var gs={};const _s=u;var ys={};const vs=u,ms="win32"===process.platform;var bs={};const Ss=u,Es={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},As={...Es,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};bs={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ss.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?As:Es};const{REGEX_BACKSLASH:Rs,REGEX_REMOVE_BACKSLASH:xs,REGEX_SPECIAL_CHARS:Ps,REGEX_SPECIAL_CHARS_GLOBAL:ws}=bs;var Cs=t=>t.replace(ws,"\\$1"),Os=t=>t.replace(Rs,"/"),Ts=t=>t.replace(xs,(t=>"\\"===t?"":t)),ks=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},js=t=>t&&"boolean"==typeof t.windows?t.windows:!0===ms||"\\"===vs.sep,Ds=(t,e,r)=>{const n=t.lastIndexOf(e,r);return-1===n?t:"\\"===t[n-1]?Ds(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`},Ls=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};const{CHAR_ASTERISK:Ms,CHAR_AT:Hs,CHAR_BACKWARD_SLASH:$s,CHAR_COMMA:Fs,CHAR_DOT:Is,CHAR_EXCLAMATION_MARK:Ns,CHAR_FORWARD_SLASH:Bs,CHAR_LEFT_CURLY_BRACE:Gs,CHAR_LEFT_PARENTHESES:Ws,CHAR_LEFT_SQUARE_BRACKET:Us,CHAR_PLUS:qs,CHAR_QUESTION_MARK:Vs,CHAR_RIGHT_CURLY_BRACE:Ks,CHAR_RIGHT_PARENTHESES:Qs,CHAR_RIGHT_SQUARE_BRACKET:Ys}=bs,Xs=t=>t===Bs||t===$s,Zs=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};ys=(t,e)=>{const r=e||{},n=t.length-1,i=!0===r.parts||!0===r.scanToEnd,o=[],s=[],a=[];let u,c,l=t,p=-1,f=0,h=0,d=!1,g=!1,_=!1,y=!1,v=!1,m=!1,b=!1,S=!1,E=!1,A=0,R={value:"",depth:0,isGlob:!1};const x=()=>p>=n,P=()=>(u=c,l.charCodeAt(++p));for(;p<n;){let t;if(c=P(),c!==$s){if(!0===m||c===Gs){for(A++;!0!==x()&&(c=P());)if(c!==$s)if(c!==Gs){if(!0!==m&&c===Is&&(c=P())===Is){if(d=R.isBrace=!0,_=R.isGlob=!0,E=!0,!0===i)continue;break}if(!0!==m&&c===Fs){if(d=R.isBrace=!0,_=R.isGlob=!0,E=!0,!0===i)continue;break}if(c===Ks&&(A--,0===A)){m=!1,d=R.isBrace=!0,E=!0;break}}else A++;else b=R.backslashes=!0,P();if(!0===i)continue;break}if(c!==Bs){if(!0!==r.noext){if(!0===(c===qs||c===Hs||c===Ms||c===Vs||c===Ns)&&l.charCodeAt(p+1)===Ws){if(_=R.isGlob=!0,y=R.isExtglob=!0,E=!0,!0===i){for(;!0!==x()&&(c=P());)if(c!==$s){if(c===Qs){_=R.isGlob=!0,E=!0;break}}else b=R.backslashes=!0,c=P();continue}break}}if(c===Ms){if(u===Ms&&(v=R.isGlobstar=!0),_=R.isGlob=!0,E=!0,!0===i)continue;break}if(c===Vs){if(_=R.isGlob=!0,E=!0,!0===i)continue;break}if(c===Us)for(;!0!==x()&&(t=P());)if(t!==$s){if(t===Ys){if(g=R.isBracket=!0,_=R.isGlob=!0,E=!0,!0===i)continue;break}}else b=R.backslashes=!0,P();if(!0===r.nonegate||c!==Ns||p!==f){if(!0!==r.noparen&&c===Ws){if(_=R.isGlob=!0,!0===i){for(;!0!==x()&&(c=P());)if(c!==Ws){if(c===Qs){E=!0;break}}else b=R.backslashes=!0,c=P();continue}break}if(!0===_){if(E=!0,!0===i)continue;break}}else S=R.negated=!0,f++}else{if(o.push(p),s.push(R),R={value:"",depth:0,isGlob:!1},!0===E)continue;if(u===Is&&p===f+1){f+=2;continue}h=p+1}}else b=R.backslashes=!0,c=P(),c===Gs&&(m=!0)}!0===r.noext&&(y=!1,_=!1);let w=l,C="",O="";f>0&&(C=l.slice(0,f),l=l.slice(f),h-=f),w&&!0===_&&h>0?(w=l.slice(0,h),O=l.slice(h)):!0===_?(w="",O=l):w=l,w&&""!==w&&"/"!==w&&w!==l&&Xs(w.charCodeAt(w.length-1))&&(w=w.slice(0,-1)),!0===r.unescape&&(O&&(O=Ts(O)),w&&!0===b&&(w=Ts(w)));const T={prefix:C,input:t,start:f,base:w,glob:O,isBrace:d,isBracket:g,isGlob:_,isExtglob:y,isGlobstar:v,negated:S};if(!0===r.tokens&&(T.maxDepth=0,Xs(c)||s.push(R),T.tokens=s),!0===r.parts||!0===r.tokens){let e;for(let n=0;n<o.length;n++){const i=e?e+1:f,u=o[n],c=t.slice(i,u);r.tokens&&(0===n&&0!==f?(s[n].isPrefix=!0,s[n].value=C):s[n].value=c,Zs(s[n]),T.maxDepth+=s[n].depth),0===n&&""===c||a.push(c),e=u}if(e&&e+1<t.length){const n=t.slice(e+1);a.push(n),r.tokens&&(s[s.length-1].value=n,Zs(s[s.length-1]),T.maxDepth+=s[s.length-1].depth)}T.slashes=o,T.parts=a}return T};var zs={};const{MAX_LENGTH:Js,POSIX_REGEX_SOURCE:ta,REGEX_NON_SPECIAL_CHARS:ea,REGEX_SPECIAL_CHARS_BACKREF:ra,REPLACEMENTS:na}=bs,ia=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const r=`[${t.join("-")}]`;try{new RegExp(r)}catch(e){return t.map((t=>Cs(t))).join("..")}return r},oa=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,sa=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=na[t]||t;const r={...e},n="number"==typeof r.maxLength?Math.min(Js,r.maxLength):Js;let i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);const o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=js(e),c=bs.globChars(u),l=bs.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:g,NO_DOT:_,NO_DOT_SLASH:y,NO_DOTS_SLASH:v,QMARK:m,QMARK_NO_DOT:b,STAR:S,START_ANCHOR:E}=c,A=t=>`(${a}(?:(?!${E}${t.dot?g:p}).)*?)`,R=r.dot?"":_,x=r.dot?m:b;let P=!0===r.bash?A(r):S;r.capture&&(P=`(${P})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const w={input:t,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=Ls(t,w),i=t.length;const C=[],O=[],T=[];let k,j=o;const D=()=>w.index===i-1,L=w.peek=(e=1)=>t[w.index+e],M=w.advance=()=>t[++w.index],H=()=>t.slice(w.index+1),$=(t="",e=0)=>{w.consumed+=t,w.index+=e},F=t=>{w.output+=null!=t.output?t.output:t.value,$(t.value)},I=()=>{let t=1;for(;"!"===L()&&("("!==L(2)||"?"===L(3));)M(),w.start++,t++;return t%2!=0&&(w.negated=!0,w.start++,!0)},N=t=>{w[t]++,T.push(t)},B=t=>{w[t]--,T.pop()},G=t=>{if("globstar"===j.type){const e=w.braces>0&&("comma"===t.type||"brace"===t.type),r=!0===t.extglob||C.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||r||(w.output=w.output.slice(0,-j.output.length),j.type="star",j.value="*",j.output=P,w.output+=j.output)}if(C.length&&"paren"!==t.type&&!l[t.value]&&(C[C.length-1].inner+=t.value),(t.value||t.output)&&F(t),j&&"text"===j.type&&"text"===t.type)return j.value+=t.value,void(j.output=(j.output||"")+t.value);t.prev=j,s.push(t),j=t},W=(t,e)=>{const n={...l[e],conditions:1,inner:""};n.prev=j,n.parens=w.parens,n.output=w.output;const i=(r.capture?"(":"")+n.open;N("parens"),G({type:t,value:e,output:w.output?"":d}),G({type:"paren",extglob:!0,value:M(),output:i}),C.push(n)},U=t=>{let e=t.close+(r.capture?")":"");if("negate"===t.type){let n=P;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(n=A(r)),(n!==P||D()||/^\)+$/.test(H()))&&(e=t.close=`)$))${n}`),"bos"===t.prev.type&&D()&&(w.negatedExtglob=!0)}G({type:"paren",extglob:!0,value:k,output:e}),B("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let n=!1,i=t.replace(ra,((t,e,r,i,o,s)=>"\\"===i?(n=!0,t):"?"===i?e?e+i+(o?m.repeat(o.length):""):0===s?x+(o?m.repeat(o.length):""):m.repeat(r.length):"."===i?p.repeat(r.length):"*"===i?e?e+i+(o?P:""):P:e?t:`\\${t}`));return!0===n&&(i=!0===r.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),i===t&&!0===r.contains?(w.output=t,w):(w.output=((t,e={},r={})=>{let n=`${r.contains?"":"^"}(?:${t})${r.contains?"":"$"}`;return!0===e.negated&&(n=`(?:^(?!${n}).*$)`),n})(i,w,e),w)}for(;!D();){if(k=M(),"\0"===k)continue;if("\\"===k){const t=L();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){k+="\\",G({type:"text",value:k});continue}const e=/^\\+/.exec(H());let n=0;if(e&&e[0].length>2&&(n=e[0].length,w.index+=n,n%2!=0&&(k+="\\")),!0===r.unescape?k=M()||"":k+=M()||"",0===w.brackets){G({type:"text",value:k});continue}}if(w.brackets>0&&("]"!==k||"["===j.value||"[^"===j.value)){if(!1!==r.posix&&":"===k){const t=j.value.slice(1);if(t.includes("[")&&(j.posix=!0,t.includes(":"))){const t=j.value.lastIndexOf("["),e=j.value.slice(0,t),r=j.value.slice(t+2),n=ta[r];if(n){j.value=e+n,w.backtrack=!0,M(),o.output||1!==s.indexOf(j)||(o.output=d);continue}}}("["===k&&":"!==L()||"-"===k&&"]"===L())&&(k=`\\${k}`),"]"!==k||"["!==j.value&&"[^"!==j.value||(k=`\\${k}`),!0===r.posix&&"!"===k&&"["===j.value&&(k="^"),j.value+=k,F({value:k});continue}if(1===w.quotes&&'"'!==k){k=Cs(k),j.value+=k,F({value:k});continue}if('"'===k){w.quotes=1===w.quotes?0:1,!0===r.keepQuotes&&G({type:"text",value:k});continue}if("("===k){N("parens"),G({type:"paren",value:k});continue}if(")"===k){if(0===w.parens&&!0===r.strictBrackets)throw new SyntaxError(oa("opening","("));const t=C[C.length-1];if(t&&w.parens===t.parens+1){U(C.pop());continue}G({type:"paren",value:k,output:w.parens?")":"\\)"}),B("parens");continue}if("["===k){if(!0!==r.nobracket&&H().includes("]"))N("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(oa("closing","]"));k=`\\${k}`}G({type:"bracket",value:k});continue}if("]"===k){if(!0===r.nobracket||j&&"bracket"===j.type&&1===j.value.length){G({type:"text",value:k,output:`\\${k}`});continue}if(0===w.brackets){if(!0===r.strictBrackets)throw new SyntaxError(oa("opening","["));G({type:"text",value:k,output:`\\${k}`});continue}B("brackets");const t=j.value.slice(1);if(!0===j.posix||"^"!==t[0]||t.includes("/")||(k=`/${k}`),j.value+=k,F({value:k}),!1===r.literalBrackets||(q=t,Ps.test(q)))continue;const e=Cs(j.value);if(w.output=w.output.slice(0,-j.value.length),!0===r.literalBrackets){w.output+=e,j.value=e;continue}j.value=`(${a}${e}|${j.value})`,w.output+=j.value;continue}if("{"===k&&!0!==r.nobrace){N("braces");const t={type:"brace",value:k,output:"(",outputIndex:w.output.length,tokensIndex:w.tokens.length};O.push(t),G(t);continue}if("}"===k){const t=O[O.length-1];if(!0===r.nobrace||!t){G({type:"text",value:k,output:k});continue}let e=")";if(!0===t.dots){const t=s.slice(),n=[];for(let e=t.length-1;e>=0&&(s.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=ia(n,r),w.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const r=w.output.slice(0,t.outputIndex),n=w.tokens.slice(t.tokensIndex);t.value=t.output="\\{",k=e="\\}",w.output=r;for(const t of n)w.output+=t.output||t.value}G({type:"brace",value:k,output:e}),B("braces"),O.pop();continue}if("|"===k){C.length>0&&C[C.length-1].conditions++,G({type:"text",value:k});continue}if(","===k){let t=k;const e=O[O.length-1];e&&"braces"===T[T.length-1]&&(e.comma=!0,t="|"),G({type:"comma",value:k,output:t});continue}if("/"===k){if("dot"===j.type&&w.index===w.start+1){w.start=w.index+1,w.consumed="",w.output="",s.pop(),j=o;continue}G({type:"slash",value:k,output:h});continue}if("."===k){if(w.braces>0&&"dot"===j.type){"."===j.value&&(j.output=p);const t=O[O.length-1];j.type="dots",j.output+=k,j.value+=k,t.dots=!0;continue}if(w.braces+w.parens===0&&"bos"!==j.type&&"slash"!==j.type){G({type:"text",value:k,output:p});continue}G({type:"dot",value:k,output:p});continue}if("?"===k){if(!(j&&"("===j.value)&&!0!==r.noextglob&&"("===L()&&"?"!==L(2)){W("qmark",k);continue}if(j&&"paren"===j.type){const t=L();let e=k;if("<"===t&&!ks())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===j.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(H()))&&(e=`\\${k}`),G({type:"text",value:k,output:e});continue}if(!0!==r.dot&&("slash"===j.type||"bos"===j.type)){G({type:"qmark",value:k,output:b});continue}G({type:"qmark",value:k,output:m});continue}if("!"===k){if(!0!==r.noextglob&&"("===L()&&("?"!==L(2)||!/[!=<:]/.test(L(3)))){W("negate",k);continue}if(!0!==r.nonegate&&0===w.index){I();continue}}if("+"===k){if(!0!==r.noextglob&&"("===L()&&"?"!==L(2)){W("plus",k);continue}if(j&&"("===j.value||!1===r.regex){G({type:"plus",value:k,output:f});continue}if(j&&("bracket"===j.type||"paren"===j.type||"brace"===j.type)||w.parens>0){G({type:"plus",value:k});continue}G({type:"plus",value:f});continue}if("@"===k){if(!0!==r.noextglob&&"("===L()&&"?"!==L(2)){G({type:"at",extglob:!0,value:k,output:""});continue}G({type:"text",value:k});continue}if("*"!==k){"$"!==k&&"^"!==k||(k=`\\${k}`);const t=ea.exec(H());t&&(k+=t[0],w.index+=t[0].length),G({type:"text",value:k});continue}if(j&&("globstar"===j.type||!0===j.star)){j.type="star",j.star=!0,j.value+=k,j.output=P,w.backtrack=!0,w.globstar=!0,$(k);continue}let e=H();if(!0!==r.noextglob&&/^\([^?]/.test(e)){W("star",k);continue}if("star"===j.type){if(!0===r.noglobstar){$(k);continue}const n=j.prev,i=n.prev,o="slash"===n.type||"bos"===n.type,s=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!o||e[0]&&"/"!==e[0])){G({type:"star",value:k,output:""});continue}const a=w.braces>0&&("comma"===n.type||"brace"===n.type),u=C.length&&("pipe"===n.type||"paren"===n.type);if(!o&&"paren"!==n.type&&!a&&!u){G({type:"star",value:k,output:""});continue}for(;"/**"===e.slice(0,3);){const r=t[w.index+4];if(r&&"/"!==r)break;e=e.slice(3),$("/**",3)}if("bos"===n.type&&D()){j.type="globstar",j.value+=k,j.output=A(r),w.output=j.output,w.globstar=!0,$(k);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&D()){w.output=w.output.slice(0,-(n.output+j.output).length),n.output=`(?:${n.output}`,j.type="globstar",j.output=A(r)+(r.strictSlashes?")":"|$)"),j.value+=k,w.globstar=!0,w.output+=n.output+j.output,$(k);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";w.output=w.output.slice(0,-(n.output+j.output).length),n.output=`(?:${n.output}`,j.type="globstar",j.output=`${A(r)}${h}|${h}${t})`,j.value+=k,w.output+=n.output+j.output,w.globstar=!0,$(k+M()),G({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===e[0]){j.type="globstar",j.value+=k,j.output=`(?:^|${h}|${A(r)}${h})`,w.output=j.output,w.globstar=!0,$(k+M()),G({type:"slash",value:"/",output:""});continue}w.output=w.output.slice(0,-j.output.length),j.type="globstar",j.output=A(r),j.value+=k,w.output+=j.output,w.globstar=!0,$(k);continue}const n={type:"star",value:k,output:P};!0!==r.bash?!j||"bracket"!==j.type&&"paren"!==j.type||!0!==r.regex?(w.index!==w.start&&"slash"!==j.type&&"dot"!==j.type||("dot"===j.type?(w.output+=y,j.output+=y):!0===r.dot?(w.output+=v,j.output+=v):(w.output+=R,j.output+=R),"*"!==L()&&(w.output+=d,j.output+=d)),G(n)):(n.output=k,G(n)):(n.output=".*?","bos"!==j.type&&"slash"!==j.type||(n.output=R+n.output),G(n))}for(var q;w.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(oa("closing","]"));w.output=Ds(w.output,"["),B("brackets")}for(;w.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(oa("closing",")"));w.output=Ds(w.output,"("),B("parens")}for(;w.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(oa("closing","}"));w.output=Ds(w.output,"{"),B("braces")}if(!0===r.strictSlashes||"star"!==j.type&&"bracket"!==j.type||G({type:"maybe_slash",value:"",output:`${h}?`}),!0===w.backtrack){w.output="";for(const t of w.tokens)w.output+=null!=t.output?t.output:t.value,t.suffix&&(w.output+=t.suffix)}return w};sa.fastpaths=(t,e)=>{const r={...e},n="number"==typeof r.maxLength?Math.min(Js,r.maxLength):Js,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=na[t]||t;const o=js(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:d}=bs.globChars(o),g=r.dot?p:l,_=r.dot?f:l,y=r.capture?"":"?:";let v=!0===r.bash?".*?":h;r.capture&&(v=`(${v})`);const m=t=>!0===t.noglobstar?v:`(${y}(?:(?!${d}${t.dot?c:s}).)*?)`,b=t=>{switch(t){case"*":return`${g}${u}${v}`;case".*":return`${s}${u}${v}`;case"*.*":return`${g}${v}${s}${u}${v}`;case"*/*":return`${g}${v}${a}${u}${_}${v}`;case"**":return g+m(r);case"**/*":return`(?:${g}${m(r)}${a})?${_}${u}${v}`;case"**/*.*":return`(?:${g}${m(r)}${a})?${_}${v}${s}${u}${v}`;case"**/.*":return`(?:${g}${m(r)}${a})?${s}${u}${v}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const r=b(e[1]);if(!r)return;return r+s+e[2]}}},S=Ls(t,{negated:!1,prefix:""});let E=b(S);return E&&!0!==r.strictSlashes&&(E+=`${a}?`),E},zs=sa;const aa=(t,e,r=!1)=>{if(Array.isArray(t)){const n=t.map((t=>aa(t,e,r)));return t=>{for(const e of n){const r=e(t);if(r)return r}return!1}}const n=(i=t)&&"object"==typeof i&&!Array.isArray(i)&&t.tokens&&t.input;var i;if(""===t||"string"!=typeof t&&!n)throw new TypeError("Expected pattern to be a non-empty string");const o=e||{},s=js(e),a=n?aa.compileRe(t,e):aa.makeRe(t,e,!1,!0),u=a.state;delete a.state;let c=()=>!1;if(o.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};c=aa(o.ignore,t,r)}const l=(r,n=!1)=>{const{isMatch:i,match:l,output:p}=aa.test(r,a,e,{glob:t,posix:s}),f={glob:t,state:u,regex:a,posix:s,input:r,output:p,match:l,isMatch:i};return"function"==typeof o.onResult&&o.onResult(f),!1===i?(f.isMatch=!1,!!n&&f):c(r)?("function"==typeof o.onIgnore&&o.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof o.onMatch&&o.onMatch(f),!n||f)};return r&&(l.state=u),l};aa.test=(t,e,r,{glob:n,posix:i}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const o=r||{},s=o.format||(i?Os:null);let a=t===n,u=a&&s?s(t):t;return!1===a&&(u=s?s(t):t,a=u===n),!1!==a&&!0!==o.capture||(a=!0===o.matchBase||!0===o.basename?aa.matchBase(t,e,r,i):e.exec(u)),{isMatch:Boolean(a),match:a,output:u}},aa.matchBase=(t,e,r,n=js(r))=>(e instanceof RegExp?e:aa.makeRe(e,r)).test(_s.basename(t)),aa.isMatch=(t,e,r)=>aa(e,r)(t),aa.parse=(t,e)=>Array.isArray(t)?t.map((t=>aa.parse(t,e))):zs(t,{...e,fastpaths:!1}),aa.scan=(t,e)=>ys(t,e),aa.compileRe=(t,e,r=!1,n=!1)=>{if(!0===r)return t.output;const i=e||{},o=i.contains?"":"^",s=i.contains?"":"$";let a=`${o}(?:${t.output})${s}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const u=aa.toRegex(a,e);return!0===n&&(u.state=t),u},aa.makeRe=(t,e,r=!1,n=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");const i=e||{};let o,s={negated:!1,fastpaths:!0},a="";return t.startsWith("./")&&(t=t.slice(2),a=s.prefix="./"),!1===i.fastpaths||"."!==t[0]&&"*"!==t[0]||(o=zs.fastpaths(t,e)),void 0===o?(s=zs(t,e),s.prefix=a+(s.prefix||"")):s.output=o,aa.compileRe(s,e,r,n)},aa.toRegex=(t,e)=>{try{const r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},aa.constants=bs,gs=aa;const ua=t=>"string"==typeof t&&(""===t||"./"===t),ca=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,o=new Set,s=0,a=t=>{o.add(t.output),r&&r.onResult&&r.onResult(t)};for(let o=0;o<e.length;o++){let u=gs(String(e[o]),{...r,onResult:a},!0),c=u.state.negated||u.state.negatedExtglob;c&&s++;for(let e of t){let t=u(e,!0);(c?!t.isMatch:t.isMatch)&&(c?n.add(t.output):(n.delete(t.output),i.add(t.output)))}}let u=(s===e.length?[...o]:[...i]).filter((t=>!n.has(t)));if(r&&0===u.length){if(!0===r.failglob)throw new Error(`No matches found for "${e.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?e.map((t=>t.replace(/\\/g,""))):e}return u};ca.match=ca,ca.matcher=(t,e)=>gs(t,e),ca.any=ca.isMatch=(t,e,r)=>gs(e,r)(t),ca.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=ca(t,e,{...r,onResult:t=>{r.onResult&&r.onResult(t),i.push(t.output)}});for(let t of i)o.includes(t)||n.add(t);return[...n]},ca.contains=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${fo.inspect(t)}"`);if(Array.isArray(e))return e.some((e=>ca.contains(t,e,r)));if("string"==typeof e){if(ua(t)||ua(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ca.isMatch(t,e,{...r,contains:!0})},ca.matchKeys=(t,e,r)=>{if(null===(n=t)||"object"!=typeof n||Array.isArray(n))throw new TypeError("Expected the first argument to be an object");var n;let i=ca(Object.keys(t),e,r),o={};for(let e of i)o[e]=t[e];return o},ca.some=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=gs(String(t),r);if(n.some((t=>e(t))))return!0}return!1},ca.every=(t,e,r)=>{let n=[].concat(t);for(let t of[].concat(e)){let e=gs(String(t),r);if(!n.every((t=>e(t))))return!1}return!0},ca.all=(t,e,r)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${fo.inspect(t)}"`);return[].concat(e).every((e=>gs(e,r)(t)))},ca.capture=(t,e,r)=>{let n=js(r),i=gs.makeRe(String(t),{...r,capture:!0}).exec(n?Os(e):e);if(i)return i.slice(1).map((t=>void 0===t?"":t))},ca.makeRe=(...t)=>gs.makeRe(...t),ca.scan=(...t)=>gs.scan(...t),ca.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let t of go(String(n),e))r.push(gs.parse(t,e));return r},ca.braces=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return e&&!0===e.nobrace||!/\{.*\}/.test(t)?[t]:go(t,e)},ca.braceExpand=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return ca.braces(t,{...e,expand:!0})},po=ca;const la=/[*?]|^!/,pa=/\[.*]/,fa=/(?:^|[^!*+?@])\(.*\|.*\)/,ha=/[!*+?@]\(.*\)/,da=/{.*(?:,|\.\.).*}/;function ga(t,e={}){return!ya(t,e)}var _a=ga;function ya(t,e={}){return""!==t&&(!(!1!==e.caseSensitiveMatch&&!t.includes("\\"))||(!!(la.test(t)||pa.test(t)||fa.test(t))||(!(!1===e.extglob||!ha.test(t))||!(!1===e.braceExpansion||!da.test(t)))))}Xi.isStaticPattern=_a;var va=ya;Xi.isDynamicPattern=va;var ma=function(t){return Sa(t)?t.slice(1):t};Xi.convertToPositivePattern=ma;var ba=function(t){return"!"+t};function Sa(t){return t.startsWith("!")&&"("!==t[1]}Xi.convertToNegativePattern=ba;var Ea=Sa;function Aa(t){return!Sa(t)}Xi.isNegativePattern=Ea;var Ra=Aa;Xi.isPositivePattern=Ra;var xa=function(t){return t.filter(Sa)};Xi.getNegativePatterns=xa;var Pa=function(t){return t.filter(Aa)};Xi.getPositivePatterns=Pa;var wa=function(t){return Ji(t,{flipBackslashes:!1})};Xi.getBaseDirectory=wa;var Ca=function(t){return t.includes("**")};function Oa(t){return t.endsWith("/**")}Xi.hasGlobStar=Ca;var Ta=Oa;Xi.endsWithSlashGlobStar=Ta;var ka=function(t){const e=zi.basename(t);return Oa(t)||ga(e)};Xi.isAffectDepthOfReadingPattern=ka;var ja=function(t){return t.reduce(((t,e)=>t.concat(Da(e))),[])};function Da(t){return po.braces(t,{expand:!0,nodupes:!0})}Xi.expandPatternsWithBraceExpansion=ja;var La=Da;Xi.expandBraceExpansion=La;var Ma=function(t,e){let{parts:r}=gs.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return 0===r.length&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r};function Ha(t,e){return po.makeRe(t,e)}Xi.getPatternParts=Ma;var $a=Ha;Xi.makeRe=$a;var Fa=function(t,e){return t.map((t=>Ha(t,e)))};Xi.convertPatternsToRe=Fa,Zi=function(t,e){return e.some((e=>e.test(t)))},Xi.matchAny=Zi;var Ia=Xi;Oi.pattern=Xi;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});var Ba=void 0;Na.merge=Ba;var Ga={};const Wa=e.PassThrough,Ua=Array.prototype.slice;function qa(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=qa(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(Wa(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}function Va(t){t.forEach((t=>t.emit("close")))}Ga=function(){const t=[],e=Ua.call(arguments);let r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&null==n.pipe?e.pop():n={};const i=!1!==n.end,o=!0===n.pipeError;null==n.objectMode&&(n.objectMode=!0);null==n.highWaterMark&&(n.highWaterMark=65536);const s=Wa(n);function a(){for(let e=0,r=arguments.length;e<r;e++)t.push(qa(arguments[e],n));return u(),this}function u(){if(r)return;r=!0;let e=t.shift();if(!e)return void process.nextTick(c);Array.isArray(e)||(e=[e]);let n=e.length+1;function i(){--n>0||(r=!1,u())}function a(t){function e(){t.removeListener("merge2UnpipeEnd",e),t.removeListener("end",e),o&&t.removeListener("error",r),i()}function r(t){s.emit("error",t)}if(t._readableState.endEmitted)return i();t.on("merge2UnpipeEnd",e),t.on("end",e),o&&t.on("error",r),t.pipe(s,{end:!1}),t.resume()}for(let t=0;t<e.length;t++)a(e[t]);i()}function c(){r=!1,s.emit("queueDrain"),i&&s.end()}s.setMaxListeners(0),s.add=a,s.on("unpipe",(function(t){t.emit("merge2UnpipeEnd")})),e.length&&a.apply(null,e);return s},Ba=function(t){const e=Ga(t);return t.forEach((t=>{t.once("error",(t=>e.emit("error",t)))})),e.once("close",(()=>Va(t))),e.once("end",(()=>Va(t))),e},Na.merge=Ba;var Ka=Na;Oi.stream=Na;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});var Ya=(Xa=void 0,Qa.isString=Xa);Qa.isEmpty=Ya;var Xa=function(t){return"string"==typeof t};Qa.isString=Xa,Ya=function(t){return""===t},Qa.isEmpty=Ya,Ti=Qa,Oi.string=Ti;var Za=function(t,e){const r=tu(t),n=ru(t,e.ignore),i=r.filter((t=>Oi.pattern.isStaticPattern(t,e))),o=r.filter((t=>Oi.pattern.isDynamicPattern(t,e))),s=za(i,n,!1),a=za(o,n,!0);return s.concat(a)};function za(t,e,r){const n=iu(t);if("."in n){return[uu(".",t,e,r)]}return su(n,e,r)}wi.generate=Za;var Ja=za;function tu(t){return Oi.pattern.getPositivePatterns(t)}wi.convertPatternsToTasks=Ja;var eu=tu;function ru(t,e){return Oi.pattern.getNegativePatterns(t).concat(e).map(Oi.pattern.convertToPositivePattern)}wi.getPositivePatterns=eu;var nu=ru;function iu(t){return t.reduce(((t,e)=>{const r=Oi.pattern.getBaseDirectory(e);return r in t?t[r].push(e):t[r]=[e],t}),{})}wi.getNegativePatternsAsPositive=nu;var ou=iu;function su(t,e,r){return Object.keys(t).map((n=>uu(n,t[n],e,r)))}wi.groupPatternsByBaseDirectory=ou;var au=su;function uu(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(Oi.pattern.convertToNegativePattern))}}wi.convertPatternGroupsToTasks=au,Ci=uu,wi.convertPatternGroupToTask=Ci;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});var lu={};Object.defineProperty(lu,"__esModule",{value:!0});const pu=e;var fu={};Object.defineProperty(fu,"__esModule",{value:!0});var hu=(Pu=void 0,wu=fu.Settings=Pu,fu.stat=wu);fu.statSync=hu;var du={};Object.defineProperty(du,"__esModule",{value:!0});var gu=void 0;function _u(t,e){t(e)}function yu(t,e){t(null,e)}du.read=gu,gu=function(t,e,r){e.fs.lstat(t,((n,i)=>null!==n?_u(r,n):i.isSymbolicLink()&&e.followSymbolicLink?void e.fs.stat(t,((t,n)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?_u(r,t):yu(r,i);e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),yu(r,n)})):yu(r,i)))},du.read=gu;var vu={};Object.defineProperty(vu,"__esModule",{value:!0});var mu=void 0;vu.read=mu,mu=function(t,e){const r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{const r=e.fs.statSync(t);return e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw t}},vu.read=mu;var bu={};Object.defineProperty(bu,"__esModule",{value:!0});var Su={};Object.defineProperty(Su,"__esModule",{value:!0});var Eu=(Ru=void 0,Su.FILE_SYSTEM_ADAPTER=Ru);Su.createFileSystemAdapter=Eu;const Au=n;var Ru={lstat:Au.lstat,stat:Au.stat,lstatSync:Au.lstatSync,statSync:Au.statSync};Su.FILE_SYSTEM_ADAPTER=Ru,Eu=function(t){return void 0===t?Su.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Su.FILE_SYSTEM_ADAPTER),t)},Su.createFileSystemAdapter=Eu;var xu=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Su.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return null!=t?t:e}};bu.default=xu;var Pu=bu.default;fu.Settings=Pu;var wu=function(t,e,r){if("function"==typeof e)return du.read(t,Cu(),e);du.read(t,Cu(e),r)};function Cu(t={}){return t instanceof bu.default?t:new bu.default(t)}fu.stat=wu,hu=function(t,e){const r=Cu(e);return vu.read(t,r)},fu.statSync=hu;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});var Tu=(Qc=void 0,Yc=Ou.walk=Qc,Xc=Ou.walkSync=Yc,Ou.walkStream=Xc);Ou.Settings=Tu;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});var ju={};Object.defineProperty(ju,"__esModule",{value:!0});const Du=c;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});var Mu=(vc=void 0,mc=Lu.scandir=vc,Lu.scandirSync=mc);Lu.Settings=Mu;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});var $u=(Ju=void 0,ec=Hu.read=Ju,Hu.readdirWithFileTypes=ec);Hu.readdir=$u;var Fu={};Fu=function(t,e){let r,n,i,o=!0;Array.isArray(t)?(r=[],n=t.length):(i=Object.keys(t),r={},n=i.length);function s(t){function n(){e&&e(t,r),e=null}o?Iu(n):n()}function a(t,e,i){r[t]=i,(0==--n||e)&&s(e)}n?i?i.forEach((function(e){t[e]((function(t,r){a(e,t,r)}))})):t.forEach((function(t,e){t((function(t,r){a(e,t,r)}))})):s(null);o=!1};var Iu={};let Nu;Iu="function"==typeof queueMicrotask?queueMicrotask.bind(globalThis):t=>(Nu||(Nu=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)));var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});var Gu=void 0;Bu.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Gu;const Wu=process.versions.node.split("."),Uu=parseInt(Wu[0],10),qu=parseInt(Wu[1],10);Gu=Uu>10||10===Uu&&qu>=10,Bu.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Gu;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});var Ku=void 0;Vu.fs=Ku;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});var Yu=void 0;Qu.createDirentFromStats=Yu;class Xu{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}Yu=function(t,e){return new Xu(t,e)},Qu.createDirentFromStats=Yu,Ku=Qu,Vu.fs=Ku;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});var zu=void 0;Zu.joinPathSegments=zu,zu=function(t,e,r){return t.endsWith(r)?t+e:t+r+e},Zu.joinPathSegments=zu;var Ju=function(t,e,r){return!e.stats&&Bu.IS_SUPPORT_READDIR_WITH_FILE_TYPES?tc(t,e,r):rc(t,e,r)};function tc(t,e,r){e.fs.readdir(t,{withFileTypes:!0},((n,i)=>{if(null!==n)return nc(r,n);const o=i.map((r=>({dirent:r,name:r.name,path:Zu.joinPathSegments(t,r.name,e.pathSegmentSeparator)})));if(!e.followSymbolicLinks)return ic(r,o);const s=o.map((t=>function(t,e){return r=>{if(!t.dirent.isSymbolicLink())return r(null,t);e.fs.stat(t.path,((n,i)=>null!==n?e.throwErrorOnBrokenSymbolicLink?r(n):r(null,t):(t.dirent=Vu.fs.createDirentFromStats(t.name,i),r(null,t))))}}(t,e)));Fu(s,((t,e)=>{if(null!==t)return nc(r,t);ic(r,e)}))}))}Hu.read=Ju;var ec=tc;function rc(t,e,r){e.fs.readdir(t,((n,i)=>{if(null!==n)return nc(r,n);const o=i.map((r=>Zu.joinPathSegments(t,r,e.pathSegmentSeparator))),s=o.map((t=>r=>fu.stat(t,e.fsStatSettings,r)));Fu(s,((t,n)=>{if(null!==t)return nc(r,t);const s=[];i.forEach(((t,r)=>{const i=n[r],a={name:t,path:o[r],dirent:Vu.fs.createDirentFromStats(t,i)};e.stats&&(a.stats=i),s.push(a)})),ic(r,s)}))}))}function nc(t,e){t(e)}function ic(t,e){t(null,e)}Hu.readdirWithFileTypes=ec,$u=rc,Hu.readdir=$u;var oc={};Object.defineProperty(oc,"__esModule",{value:!0});var sc=(ac=void 0,cc=oc.read=ac,oc.readdirWithFileTypes=cc);oc.readdir=sc;var ac=function(t,e){return!e.stats&&Bu.IS_SUPPORT_READDIR_WITH_FILE_TYPES?uc(t,e):lc(t,e)};function uc(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:Zu.joinPathSegments(t,r.name,e.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const t=e.fs.statSync(n.path);n.dirent=Vu.fs.createDirentFromStats(n.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return n}))}oc.read=ac;var cc=uc;function lc(t,e){return e.fs.readdirSync(t).map((r=>{const n=Zu.joinPathSegments(t,r,e.pathSegmentSeparator),i=fu.statSync(n,e.fsStatSettings),o={name:r,path:n,dirent:Vu.fs.createDirentFromStats(r,i)};return e.stats&&(o.stats=i),o}))}oc.readdirWithFileTypes=cc,sc=lc,oc.readdir=sc;var pc={};Object.defineProperty(pc,"__esModule",{value:!0});const fc=u;var hc={};Object.defineProperty(hc,"__esModule",{value:!0});var dc=(_c=void 0,hc.FILE_SYSTEM_ADAPTER=_c);hc.createFileSystemAdapter=dc;const gc=n;var _c={lstat:gc.lstat,stat:gc.stat,lstatSync:gc.lstatSync,statSync:gc.statSync,readdir:gc.readdir,readdirSync:gc.readdirSync};hc.FILE_SYSTEM_ADAPTER=_c,dc=function(t){return void 0===t?hc.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},hc.FILE_SYSTEM_ADAPTER),t)},hc.createFileSystemAdapter=dc;var yc=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=hc.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,fc.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new fu.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}};pc.default=yc,Mu=pc.default,Lu.Settings=Mu;var vc=function(t,e,r){if("function"==typeof e)return Hu.read(t,bc(),e);Hu.read(t,bc(e),r)};Lu.scandir=vc;var mc=function(t,e){const r=bc(e);return oc.read(t,r)};function bc(t={}){return t instanceof pc.default?t:new pc.default(t)}Lu.scandirSync=mc;var Sc={},Ec={};function Ac(t,e,r){if("function"==typeof t&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Ec(xc),i=null,o=null,s=0,a=null,u={push:function(r,l){var p=n.get();p.context=t,p.release=c,p.value=r,p.callback=l||Rc,p.errorHandler=a,s===u.concurrency||u.paused?o?(o.next=p,o=p):(i=p,o=p,u.saturated()):(s++,e.call(t,p.value,p.worked))},drain:Rc,saturated:Rc,pause:function(){u.paused=!0},paused:!1,concurrency:r,running:function(){return s},resume:function(){if(!u.paused)return;u.paused=!1;for(var t=0;t<u.concurrency;t++)s++,c()},idle:function(){return 0===s&&0===u.length()},length:function(){var t=i,e=0;for(;t;)t=t.next,e++;return e},getQueue:function(){var t=i,e=[];for(;t;)e.push(t.value),t=t.next;return e},unshift:function(r,a){var l=n.get();l.context=t,l.release=c,l.value=r,l.callback=a||Rc,s===u.concurrency||u.paused?i?(l.next=i,i=l):(i=l,o=l,u.saturated()):(s++,e.call(t,l.value,l.worked))},empty:Rc,kill:function(){i=null,o=null,u.drain=Rc},killAndDrain:function(){i=null,o=null,u.drain(),u.drain=Rc},error:function(t){a=t}};return u;function c(r){r&&n.release(r);var a=i;a?u.paused?s--:(o===i&&(o=null),i=a.next,a.next=null,e.call(t,a.value,a.worked),null===o&&u.empty()):0==--s&&u.drain()}}function Rc(){}function xc(){this.value=null,this.callback=Rc,this.next=null,this.release=Rc,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,r){var n=t.callback,i=t.errorHandler,o=t.value;t.value=null,t.callback=Rc,t.errorHandler&&i(e,o),n.call(t.context,e,r),t.release(t)}}Ec=function(t){var e=new t,r=e;return{get:function(){var n=e;return n.next?e=n.next:(e=new t,r=e),n.next=null,n},release:function(t){r.next=t,r=t}}};var Pc=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null);var n=Ac(t,(function(t,r){e.call(this,t).then((function(t){r(null,t)}),r)}),r),i=n.push,o=n.unshift;return n.push=function(t){return new Promise((function(e,r){i(t,(function(t,n){t?r(t):e(n)}))}))},n.unshift=function(t){return new Promise((function(e,r){o(t,(function(t,n){t?r(t):e(n)}))}))},n};(Sc=Ac).promise=Pc;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});var Cc=(Oc=void 0,Tc=wc.isFatalError=Oc,kc=wc.isAppliedFilter=Tc,wc.replacePathSegmentSeparator=kc);wc.joinPathSegments=Cc;var Oc=function(t,e){return null===t.errorFilter||!t.errorFilter(e)};wc.isFatalError=Oc;var Tc=function(t,e){return null===t||t(e)};wc.isAppliedFilter=Tc;var kc=function(t,e){return t.split(/[/\\]/).join(e)};wc.replacePathSegmentSeparator=kc,Cc=function(t,e,r){return""===t?e:t.endsWith(r)?t+e:t+r+e},wc.joinPathSegments=Cc;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});var Dc=class{constructor(t,e){this._root=t,this._settings=e,this._root=wc.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}};jc.default=Dc;class Lc extends jc.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=Lu.scandir,this._emitter=new Du.EventEmitter,this._queue=Sc(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){const r={directory:t,base:e};this._queue.push(r,(t=>{null!==t&&this._handleError(t)}))}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,((r,n)=>{if(null!==r)return e(r,void 0);for(const e of n)this._handleEntry(e,t.base);e(null,void 0)}))}_handleError(t){!this._isDestroyed&&wc.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;const r=t.path;void 0!==e&&(t.path=wc.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),wc.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&wc.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}var Mc=Lc;ju.default=Mc;var Hc=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new ju.default(this._root,this._settings),this._storage=new Set}read(t){this._reader.onError((e=>{!function(t,e){t(e)}(t,e)})),this._reader.onEntry((t=>{this._storage.add(t)})),this._reader.onEnd((()=>{!function(t,e){t(null,e)}(t,[...this._storage])})),this._reader.read()}};ku.default=Hc;var $c={};Object.defineProperty($c,"__esModule",{value:!0});const Fc=e;var Ic=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new ju.default(this._root,this._settings),this._stream=new Fc.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((t=>{this._stream.emit("error",t)})),this._reader.onEntry((t=>{this._stream.push(t)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}};$c.default=Ic;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});class Gc extends jc.default{constructor(){super(...arguments),this._scandir=Lu.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const r=this._scandir(t,this._settings.fsScandirSettings);for(const t of r)this._handleEntry(t,e)}catch(t){this._handleError(t)}}_handleError(t){if(wc.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const r=t.path;void 0!==e&&(t.path=wc.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),wc.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&wc.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(r,t.path)}_pushToStorage(t){this._storage.add(t)}}var Wc=Gc;Bc.default=Wc;var Uc=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new Bc.default(this._root,this._settings)}read(){return this._reader.read()}};Nc.default=Uc;var qc={};Object.defineProperty(qc,"__esModule",{value:!0});const Vc=u;var Kc=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Vc.sep),this.fsScandirSettings=new Lu.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}};qc.default=Kc,Tu=qc.default,Ou.Settings=Tu;var Qc=function(t,e,r){if("function"==typeof e)return new ku.default(t,Zc()).read(e);new ku.default(t,Zc(e)).read(r)};Ou.walk=Qc;var Yc=function(t,e){const r=Zc(e);return new Nc.default(t,r).read()};Ou.walkSync=Yc;var Xc=function(t,e){const r=Zc(e);return new $c.default(t,r).read()};function Zc(t={}){return t instanceof qc.default?t:new qc.default(t)}Ou.walkStream=Xc;var zc={};Object.defineProperty(zc,"__esModule",{value:!0});const Jc=u;var tl=class{constructor(t){this._settings=t,this._fsStatSettings=new fu.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return Jc.resolve(this._settings.cwd,t)}_makeEntry(t,e){const r={name:e,path:e,dirent:Oi.fs.createDirentFromStats(e,t)};return this._settings.stats&&(r.stats=t),r}_isFatalError(t){return!Oi.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};zc.default=tl;class el extends zc.default{constructor(){super(...arguments),this._walkStream=Ou.walkStream,this._stat=fu.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const r=t.map(this._getFullEntryPath,this),n=new pu.PassThrough({objectMode:!0});n._write=(i,o,s)=>this._getEntry(r[i],t[i],e).then((t=>{null!==t&&e.entryFilter(t)&&n.push(t),i===r.length-1&&n.end(),s()})).catch(s);for(let t=0;t<r.length;t++)n.write(t);return n}_getEntry(t,e,r){return this._getStat(t).then((t=>this._makeEntry(t,e))).catch((t=>{if(r.errorFilter(t))return null;throw t}))}_getStat(t){return new Promise(((e,r)=>{this._stat(t,this._fsStatSettings,((t,n)=>null===t?e(n):r(t)))}))}}var rl=el;lu.default=rl;var nl={};Object.defineProperty(nl,"__esModule",{value:!0});const il=u;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});var sl={};Object.defineProperty(sl,"__esModule",{value:!0});var al={};Object.defineProperty(al,"__esModule",{value:!0});var ul=class{constructor(t,e,r){this._patterns=t,this._settings=e,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const t=Oi.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const e of t){const t=this._getPatternSegments(e),r=this._splitSegmentsIntoSections(t);this._storage.push({complete:r.length<=1,pattern:e,segments:t,sections:r})}}_getPatternSegments(t){return Oi.pattern.getPatternParts(t,this._micromatchOptions).map((t=>Oi.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:Oi.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t}))}_splitSegmentsIntoSections(t){return Oi.array.splitWhen(t,(t=>t.dynamic&&Oi.pattern.hasGlobStar(t.pattern)))}};al.default=ul;class cl extends al.default{match(t){const e=t.split("/"),r=e.length,n=this._storage.filter((t=>!t.complete||t.segments.length>r));for(const t of n){const n=t.sections[0];if(!t.complete&&r>n.length)return!0;if(e.every(((e,r)=>{const n=t.segments[r];return!(!n.dynamic||!n.patternRe.test(e))||!n.dynamic&&n.pattern===e})))return!0}return!1}}var ll=cl;sl.default=ll;var pl=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,r){const n=this._getMatcher(e),i=this._getNegativePatternsRe(r);return e=>this._filter(t,e,n,i)}_getMatcher(t){return new sl.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(Oi.pattern.isAffectDepthOfReadingPattern);return Oi.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,r,n){if(this._isSkippedByDeep(t,e.path))return!1;if(this._isSkippedSymbolicLink(e))return!1;const i=Oi.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(i,r)&&this._isSkippedByNegativePatterns(i,n)}_isSkippedByDeep(t,e){return this._settings.deep!==1/0&&this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){const r=e.split("/").length;if(""===t)return r;return r-t.split("/").length}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!Oi.pattern.matchAny(t,e)}};ol.default=pl;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});var hl=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){const r=Oi.pattern.convertPatternsToRe(t,this._micromatchOptions),n=Oi.pattern.convertPatternsToRe(e,this._micromatchOptions);return t=>this._filter(t,r,n)}_filter(t,e,r){if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;if(this._isSkippedByAbsoluteNegativePatterns(t.path,r))return!1;const n=this._settings.baseNameMatch?t.name:t.path,i=this._isMatchToPatterns(n,e)&&!this._isMatchToPatterns(t.path,r);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;const r=Oi.path.makeAbsolute(this._settings.cwd,t);return Oi.pattern.matchAny(r,e)}_isMatchToPatterns(t,e){const r=Oi.path.removeLeadingDotSegment(t);return Oi.pattern.matchAny(r,e)}};fl.default=hl;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});var gl=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Oi.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};dl.default=gl;var _l={};Object.defineProperty(_l,"__esModule",{value:!0});var yl=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=Oi.path.makeAbsolute(this._settings.cwd,e),e=Oi.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}};_l.default=yl;var vl=class{constructor(t){this._settings=t,this.errorFilter=new dl.default(this._settings),this.entryFilter=new fl.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ol.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new _l.default(this._settings)}_getRootDirectory(t){return il.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e="."===t.base?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};nl.default=vl;class ml extends nl.default{constructor(){super(...arguments),this._reader=new lu.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),n=[];return new Promise(((i,o)=>{const s=this.api(e,t,r);s.once("error",o),s.on("data",(t=>n.push(r.transform(t)))),s.once("end",(()=>i(n)))}))}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}var bl=ml;cu.default=bl;var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});const El=e;class Al extends nl.default{constructor(){super(...arguments),this._reader=new lu.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t),n=this.api(e,t,r),i=new El.Readable({objectMode:!0,read:()=>{}});return n.once("error",(t=>i.emit("error",t))).on("data",(t=>i.emit("data",r.transform(t)))).once("end",(()=>i.emit("end"))),i.once("close",(()=>n.destroy())),i}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}var Rl=Al;Sl.default=Rl;var xl={};Object.defineProperty(xl,"__esModule",{value:!0});var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});class wl extends zc.default{constructor(){super(...arguments),this._walkSync=Ou.walkSync,this._statSync=fu.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const r=[];for(const n of t){const t=this._getFullEntryPath(n),i=this._getEntry(t,n,e);null!==i&&e.entryFilter(i)&&r.push(i)}return r}_getEntry(t,e,r){try{const r=this._getStat(t);return this._makeEntry(r,e)}catch(t){if(r.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}var Cl=wl;Pl.default=Cl;class Ol extends nl.default{constructor(){super(...arguments),this._reader=new Pl.default(this._settings)}read(t){const e=this._getRootDirectory(t),r=this._getReaderOptions(t);return this.api(e,t,r).map(r.transform)}api(t,e,r){return e.dynamic?this._reader.dynamic(t,r):this._reader.static(e.patterns,r)}}var Tl=Ol;xl.default=Tl;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});var jl=void 0;kl.DEFAULT_FILE_SYSTEM_ADAPTER=jl;const Dl=n,Ll=r,Ml=Math.max(Ll.cpus().length,1);jl={lstat:Dl.lstat,lstatSync:Dl.lstatSync,stat:Dl.stat,statSync:Dl.statSync,readdir:Dl.readdir,readdirSync:Dl.readdirSync},kl.DEFAULT_FILE_SYSTEM_ADAPTER=jl;var Hl,$l=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Ml),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,e){return void 0===t?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},kl.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};async function Fl(t,e){Nl(t);const r=Il(t,cu.default,e),n=await Promise.all(r);return Oi.array.flatten(n)}function Il(t,e,r){const n=[].concat(t),i=new kl.default(r),o=wi.generate(n,i),s=new e(i);return o.map(s.read,s)}function Nl(t){if(![].concat(t).every((t=>Oi.string.isString(t)&&!Oi.string.isEmpty(t))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}kl.default=$l,(Hl=Fl||(Fl={})).sync=function(t,e){Nl(t);const r=Il(t,xl.default,e);return Oi.array.flatten(r)},Hl.stream=function(t,e){Nl(t);const r=Il(t,Sl.default,e);return Oi.stream.merge(r)},Hl.generateTasks=function(t,e){Nl(t);const r=[].concat(t),n=new kl.default(e);return wi.generate(r,n)},Hl.isDynamicPattern=function(t,e){Nl(t);const r=new kl.default(e);return Oi.pattern.isDynamicPattern(t,r)},Hl.escapePath=function(t){return Nl(t),Oi.path.escape(t)};var Bl=Gl(Fl);function Gl(t){return t&&t.__esModule?t:{default:t}}class Wl extends gn.EventEmitter{constructor(){super();const t=this.rebuildCache.bind(this);this._projectChangeWatcher=atom.project.onDidChangePaths(t);const e=this._onDidChangeFiles.bind(this);this._projectWatcher=atom.project.onDidChangeFiles(e),this._repositories=[],this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._fileWatchersByDirectory=new Map,this.updateConfig()}updateConfig(){this.config={excludeVcsIgnoredPaths:atom.config.get("core.excludeVcsIgnoredPaths"),ignoreSubmodules:atom.config.get("autocomplete-paths.ignoreSubmodules"),shouldIgnoredNames:atom.config.get("autocomplete-paths.ignoredNames"),ignoredNames:atom.config.get("core.ignoredNames"),ignoredPatterns:atom.config.get("autocomplete-paths.ignoredPatterns"),maxFileCount:atom.config.get("autocomplete-paths.maxFileCount")}}async rebuildCache(){this.dispose(),this._cancelled=!1,this.emit("rebuild-cache");try{return await this._buildInitialCacheWithGlob()}catch(t){return console.error(t),await this._buildInitialCacheWithAtom()}}getFilePathsForProjectDirectory(t,e=null){let r=this._filePathsByProjectDirectory.get(t.path)||[];return e?r.filter((t=>0===t.indexOf(e))):r}dispose(t){this._fileWatchersByDirectory.forEach((t=>{t.dispose()})),this._fileWatchersByDirectory=new Map,this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._repositories=[],this._projectWatcher&&(this._projectWatcher.dispose(),this._projectWatcher=null),t&&this._projectChangeWatcher&&(this._projectChangeWatcher.dispose(),this._projectChangeWatcher=null)}_isPathIgnored(t){let e=!1;return this.config.excludeVcsIgnoredPaths&&this._repositories.forEach((r=>{if(e)return;const n=this.config.ignoreSubmodules&&r.isSubmodule(t);(r.isPathIgnored(t)||n)&&(e=!0)})),this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((r=>{e||(e=e||(0,Vn.default)(t,r,{matchBase:!0,dot:!0}))})),this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((r=>{e||(e=e||(0,Vn.default)(t,r,{dot:!0}))})),e}async _cacheProjectPathsAndRepositories(){this._projectDirectories=atom.project.getDirectories();const t=this._projectDirectories.length;let e=new Array(t);for(let r=0;r<t;r++)e[r]=atom.project.repositoryForDirectory(this._projectDirectories[r]);const r=await Promise.all(e);this._repositories=r.filter((t=>null!==t))}_onDirectoryChanged(t,e){this._removeFilePathsForDirectory(t,e),this._cleanWatchersForDirectory(e),this._populateCacheWithGlob(e.path).catch((r=>{console.error(r),this._populateCacheWithAtom(t,e)}))}_cleanWatchersForDirectory(t){this._fileWatchersByDirectory.forEach(((e,r)=>{t.contains(r.path)&&(e.dispose(),this._fileWatchersByDirectory.delete(r))}))}_removeFilePathsForDirectory(t,e){let r=this._filePathsByProjectDirectory.get(t.path);r&&(r=r.filter((t=>!e.contains(t))),this._filePathsByProjectDirectory.set(t.path,r),this._filePathsByDirectory.delete(e.path))}_getDirectoryEntries(t){return new Promise(((e,r)=>{t.getEntries(((t,n)=>{if(t)return r(t);e(n)}))}))}_onDidChangeFiles(t){t.filter((t=>"modified"!==t.action)).forEach((t=>{if(!this._projectDirectories)return;const{action:e,path:r,oldPath:n}=t,i=this._projectDirectories.find((t=>0===r.indexOf(t.path)));if(!i)return;const o=i.path;if(this._isPathIgnored(r))return;const s=this._filePathsByProjectDirectory.get(o)||[];switch(e){case"created":s.push(r);break;case"deleted":{const t=s.indexOf(r);t>-1&&s.splice(t,1);break}case"renamed":{const t=s.indexOf(n);t>-1&&(s[t]=r);break}}this._filePathsByProjectDirectory.has(o)||this._filePathsByProjectDirectory.set(o,s)}))}async _buildInitialCacheWithGlob(){await this._cacheProjectPathsAndRepositories();const t=await Promise.all(this._projectDirectories.map((t=>this._populateCacheWithGlob(t.path))));return this.emit("rebuild-cache-done"),t}async _getIgnoredPatternsGlob(t){const e=[];this.config.shouldIgnoredNames&&e.push(...this.config.ignoredNames),this.config.ignoredPatterns&&e.push(...this.config.ignoredPatterns);const r=e.length;let n=new Array(r);for(let i=0;i<r;i++){const r=await(0,ii.globifyPath)(e[i],t);"string"==typeof r?n[i]=r:(n[i]=r[0],n.push(r[1]))}return n}async _getGitIgnoreGlob(t){if(this.config.excludeVcsIgnoredPaths)try{return await(0,ii.globifyGitIgnoreFile)(t)}catch(t){}return[]}async _populateCacheWithGlob(t){const e=(0,ii.globifyDirectory)(t),r=await this._getGitIgnoreGlob(t),n=await this._getIgnoredPatternsGlob(t),i=await(0,Bl.default)([e,...r,...n],{dot:!0,cwd:t,onlyFiles:!0});return this._filePathsByProjectDirectory.set(t,i),i}async _buildInitialCacheWithAtom(){await this._cacheProjectPathsAndRepositories();const t=await Promise.all(this._projectDirectories.map((t=>this._populateCacheWithAtom(t,t))));return this.emit("rebuild-cache-done"),t}async _populateCacheWithAtom(t,e){if(this._cancelled)return[];if("win32"!==process.platform){let r=this._fileWatchersByDirectory.get(e);r||(r=e.onDidChange((()=>this._onDirectoryChanged(t,e))),this._fileWatchersByDirectory.set(e,r))}const r=await this._getDirectoryEntries(e);if(this._cancelled)return[];let n=[],i=[];for(let t=0,e=r.length;t<e;t++){const e=r[t];e instanceof Kn.File&&!this._isPathIgnored(e.path)?n.push(e.path):e instanceof Kn.Directory&&!this._isPathIgnored(e.path)&&i.push(e)}let o=this._filePathsByProjectDirectory.get(t.path)||[];return o.length+n.length>this.config.maxFileCount&&!this._cancelled?(atom.notifications.addError("autocomplete-paths",{description:`Maximum file count of ${this.config.maxFileCount} has been exceeded. Path autocompletion will not work in this project.<br /><br /><a href="https://github.com/atom-community/autocomplete-paths/wiki/Troubleshooting#maximum-file-limit-exceeded">Click here to learn more.</a>`,dismissable:!0}),this._filePathsByProjectDirectory.clear(),this._filePathsByDirectory.clear(),this._cancelled=!0,void this.emit("rebuild-cache-done")):(this._filePathsByProjectDirectory.set(t.path,(0,Qn.union)(o,n)),o=this._filePathsByDirectory.get(e.path)||[],this._filePathsByDirectory.set(e.path,(0,Qn.union)(o,n)),Promise.all(i.map((e=>this._populateCacheWithAtom(t,e)))))}}hn=Wl,fn.default=hn;var Ul=Zl(fn=fn.default),ql=t,Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});var Kl=void 0;Vl.DefaultScopes=Kl;const Ql=["import\\s+.*?from\\s+['\"]","import\\s+['\"]","require\\(['\"]","define\\(\\[?['\"]"],Yl=["js","jsx","ts","tsx","coffee","json"],Xl=[["\\.jsx?$",""],["\\.ts$",""],["\\.coffee$",""]];function Zl(t){return t&&t.__esModule?t:{default:t}}Kl=[{scopes:["source.js","source.js.jsx","source.coffee","source.coffee.jsx","source.ts","source.tsx","javascript","source.flow"],prefixes:Ql,extensions:Yl,relative:!0,replaceOnInsert:[["([\\/]?index)?\\.jsx?$",""],["([\\/]?index)?\\.ts$",""],["([\\/]?index)?\\.coffee$",""]]},{scopes:["text.html.vue"],prefixes:Ql,extensions:Yl.concat("vue"),relative:!0,replaceOnInsert:Xl},{scopes:["text.html.vue"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["css","sass","scss","less","styl"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.coffee","source.coffee.jsx"],prefixes:["require\\s+['\"]","define\\s+\\[?['\"]"],extensions:Yl,relative:!0,replaceOnInsert:Xl},{scopes:["source.php"],prefixes:["require_once\\(['\"]","include\\(['\"]"],extensions:["php"],relative:!0},{scopes:["source.sass","source.css.scss","source.css.less","source.stylus"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["sass","scss","css"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.css"],prefixes:["@import\\s+['\"]?","@import\\s+url\\(['\"]?"],extensions:["css"],relative:!0},{scopes:["source.css","source.sass","source.css.less","source.css.scss","source.stylus"],prefixes:["url\\(['\"]?"],extensions:["png","gif","jpeg","jpg","woff","woff2","ttf","svg","otf"],relative:!0},{scopes:["source.c","source.cpp"],prefixes:["^\\s*#include\\s+['\"]"],extensions:["h","hpp"],relative:!0,includeCurrentDirectory:!1},{scopes:["source.lua"],prefixes:["require[\\s+|\\(]['\"]"],extensions:["lua"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.lua$",""]]},{scopes:["source.ruby"],prefixes:["^\\s*require[\\s+|\\(]['\"]"],extensions:["rb"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\.rb$",""]]},{scopes:["source.python"],prefixes:["^\\s*from\\s+","^\\s*import\\s+"],extensions:["py"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.py$",""]]}],Vl.DefaultScopes=Kl;class zl extends x.EventEmitter{constructor(){super(),this.reloadScopes(),this._pathsCache=new Ul.default,this._isReady=!1,this._onRebuildCache=this._onRebuildCache.bind(this),this._onRebuildCacheDone=this._onRebuildCacheDone.bind(this),this._pathsCache.on("rebuild-cache",this._onRebuildCache),this._pathsCache.on("rebuild-cache-done",this._onRebuildCacheDone)}reloadScopes(){for(var t in this._scopes=atom.config.get("autocomplete-paths.scopes").slice(0)||[],atom.config.get("autocomplete-paths.ignoreBuiltinScopes")||(this._scopes=this._scopes.concat(Vl.DefaultScopes)),v.OptionScopes)atom.config.get(`autocomplete-paths.${t}`)&&(this._scopes=this._scopes.slice(0).concat(v.OptionScopes[t]))}_onRebuildCache(){this.emit("rebuild-cache")}_onRebuildCacheDone(){this.emit("rebuild-cache-done")}_scopeMatchesRequest(t,e){const r=Array.isArray(t.scopes)?t.scopes:[t.scopes];if(!(Jr(e.scopeDescriptor.getScopesArray(),r).length>0))return!1;const n=this._getLineTextForRequest(e);let i=null;return(Array.isArray(t.prefixes)?t.prefixes:[t.prefixes]).forEach((t=>{const e=new RegExp(t,"i");i=i||n.match(e)})),i}_getLineTextForRequest(t){const{editor:e,bufferPosition:r}=t;return e.getTextInRange([[r.row,0],r])}_getSuggestionsForScope(t,e,r){const n=this._getLineTextForRequest(e).substr(r.index+r[0].length),i=n.match(/[/\\|]$/),o=0===n.indexOf("./")||0===n.indexOf("../"),s=P.default.parse(n);i&&(s.dir=P.default.join(s.dir,s.base),s.base="",s.name="");const a=this._getProjectDirectory(e.editor);if(!a)return Promise.resolve([]);const u=P.default.dirname(e.editor.getPath()),c=P.default.resolve(u,s.dir);let l=o?this._pathsCache.getFilePathsForProjectDirectory(a,c):this._pathsCache.getFilePathsForProjectDirectory(a);const p=o?s.base:n,{extensions:f}=t;if(f){const t=new RegExp(`.(${f.join("|")})$`);l=l.filter((e=>t.test(e)))}p&&(l=(0,ql.filter)(l,p,{maxResults:10}));let h=l.map((r=>{const i=atom.config.get("autocomplete-paths.normalizeSlashes"),s=atom.project.relativizePath(r)[1];let a=s;o&&(a=P.default.relative(c,r)),i&&(a=(0,pn.default)(a));let u=P.default.relative(P.default.dirname(e.editor.getPath()),r);i&&(u=(0,pn.default)(u)),!1!==t.relative&&(r=u,!1!==t.includeCurrentDirectory&&"."!==r[0]&&(r=`./${r}`)),t.projectRelativePath&&(r=(0,pn.default)(s)),t.replaceOnInsert&&t.replaceOnInsert.forEach((([t,e])=>{const n=new RegExp(t);n.test(r)&&(r=r.replace(n,e))}));const l=u.split(P.default.sep).length;return{text:r,replacementPrefix:n,displayText:a,type:"import",iconHTML:'<i class="icon-file-code"></i>',score:(0,ql.score)(a,e.prefix),distanceToFile:l}}));const d=h.length;if(h.length){const t=wr(h,(t=>t.distanceToFile)).distanceToFile;h.forEach(((e,r)=>{e.score=d-r+(t-e.distanceToFile)})),h.sort(((t,e)=>e.score-t.score))}return Promise.resolve(h)}async getSuggestions(t){const e=this._scopes.map((e=>[e,this._scopeMatchesRequest(e,t)])).filter((t=>t[1])).map((([e,r])=>this._getSuggestionsForScope(e,t,r))),r=Qr(await Promise.all(e));return!!r.length&&r}async rebuildCache(){const t=await this._pathsCache.rebuildCache();return this._isReady=!0,t}_getProjectDirectory(t){const e=t.getBuffer().getPath();let r=null;return atom.project.getDirectories().forEach((t=>{t.contains(e)&&(r=t)})),r}isReady(){return this._isReady}get suggestionPriority(){return atom.config.get("autocomplete-paths.suggestionPriority")}get fileCount(){return atom.project.getDirectories().reduce(((t,e)=>t+this._pathsCache.getFilePathsForProjectDirectory(e).length),0)}dispose(){this._pathsCache.removeListener("rebuild-cache",this._onRebuildCache),this._pathsCache.removeListener("rebuild-cache-done",this._onRebuildCacheDone),this._pathsCache.dispose(!0)}}A=zl,E.default=A,zl.prototype.selector="*",zl.prototype.inclusionPriority=1,E=E.default;var Jl,tp=(Jl=E)&&Jl.__esModule?Jl:{default:Jl};let ep,rp,np,ip,op,sp,ap=new a.CompositeDisposable;function up(){rp?ip||(op=document.createElement("autocomplete-paths-status-bar"),op.innerHTML="Rebuilding paths cache...",ip=rp.addRightTile({item:op,priority:100}),(ep||(cp(),ep))&&(np=setInterval((()=>{const t=ep.fileCount;t>0&&(op.innerHTML=`Rebuilding paths cache... ${t} files`)}),500))):sp=!0}function cp(){return ep||(ep=new tp.default,ep.on("rebuild-cache",(()=>{up()})),ep.on("rebuild-cache-done",(()=>{np&&clearInterval(np),ip&&ip.destroy(),ip=null,op=null})),ep.rebuildCache()),ep}
//# sourceMappingURL=autocomplete-paths.js.map
