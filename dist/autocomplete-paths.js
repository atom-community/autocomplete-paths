var t=require("zadeh"),e=require("stream"),n=require("os"),r=require("fs"),i=require("buffer"),o=require("util"),s=require("child_process"),a=require("atom"),u=require("path"),c=require("events");function l(t,e,n){Object.defineProperty(t,e,{get:n,enumerable:!0})}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};Object.defineProperty(exports,"__esModule",{value:!0});var f=function(){sg.add(atom.commands.add("atom-workspace",{"autocomplete-paths:rebuild-cache":()=>{tg.rebuildCache()}}));["core.ignoredNames","core.excludeVcsIgnoredPaths","autocomplete-paths.ignoreSubmodules","autocomplete-paths.ignoredNames","autocomplete-paths.ignoredPatterns","autocomplete-paths.maxFileCount"].forEach((t=>{sg.add(atom.config.observe(t,(()=>{tg&&(tg._pathsCache.updateConfig(),tg.rebuildCache())})))}));const t=["autocomplete-paths.scopes"];for(let e in m.OptionScopes)t.push(`autocomplete-paths.${e}`);t.forEach((t=>{sg.add(atom.config.observe(t,(()=>{tg&&tg.reloadScopes()})))}))};exports.activate=f;var h=function(){ng&&clearInterval(ng);sg.dispose(),tg&&(tg.dispose(!0),tg=null);rg&&(rg.destroy(),rg=null)};exports.deactivate=h;var d=function(t){eg=t,og&&ag()};exports.consumeStatusBar=d;var g=ug;exports.getProvider=g,Object.defineProperty(exports,"config",{enumerable:!0,get:function(){return y.config}});var y={};Object.defineProperty(y,"__esModule",{value:!0});var v=void 0;y.config=v;var m={};Object.defineProperty(m,"__esModule",{value:!0});var _=void 0;m.OptionScopes=_;_={enableHtmlSupport:[{scopes:["text.html.basic"],prefixes:["src=['\"]","href=['\"]","name=['\"]"],extensions:["js","png","gif","jpeg","jpg","tiff","html","json","svg"],relative:!0}]},m.OptionScopes=_;const b={normalizeSlashes:{type:"boolean",description:"Replaces backward slashes with forward slashes on windows (if possible)",default:!0},maxFileCount:{type:"number",description:"The maximum amount of files to be handled",default:2e3},suggestionPriority:{type:"number",description:"Suggestion priority of this provider. If set to a number larger than or equal to 1, suggestions will be displayed on top of default suggestions.",default:2},ignoredNames:{type:"boolean",default:!0,description:"Ignore items matched by the `Ignore Names` core option."},ignoreSubmodules:{type:"boolean",default:!1,description:"Ignore submodule directories."},ignoredPatterns:{type:"array",default:[],items:{type:"string"},description:"Ignore additional **glob** or file path patterns."},ignoreBuiltinScopes:{type:"boolean",default:!1,description:"Ignore built-in scopes and use only scopes from user configuration."},scopes:{type:"array",default:[],items:{type:"object",properties:{scopes:{type:["array"],items:{type:"string"}},prefixes:{type:["array"],items:{type:"string"}},extensions:{type:["array"],items:{type:"string"}},relative:{type:"boolean",default:!0},replaceOnInsert:{type:"array",items:{type:"array",items:{type:["string","string"]}}}}}}};v=b,y.config=v;const w=Object.keys(m.OptionScopes);for(let t=0,e=w.length;t<e;t++)b[w[t]]={type:"boolean",default:!1};var S={};Object.defineProperty(S,"__esModule",{value:!0});var x=void 0;S.default=x;var E,A=c,C=Xd(u),O={};E=O,Object.defineProperty(E,"__esModule",{value:!0});var R={},P="object"==typeof self&&self.self===self&&self||"object"==typeof p&&p.global===p&&p||Function("return this")()||{},j=Array.prototype,k=Object.prototype,T="undefined"!=typeof Symbol?Symbol.prototype:null,M=j.push,L=j.slice,F=k.toString,N=k.hasOwnProperty,D="undefined"!=typeof ArrayBuffer,$="undefined"!=typeof DataView,I=Array.isArray,H=Object.keys,B=Object.create,G=D&&ArrayBuffer.isView,W=isNaN,q=isFinite,U=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=Math.pow(2,53)-1;function K(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function Q(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function X(t){return null===t}function Y(t){return void 0===t}function Z(t){return!0===t||!1===t||"[object Boolean]"===F.call(t)}function J(t){return!(!t||1!==t.nodeType)}function tt(t){var e="[object "+t+"]";return function(t){return F.call(t)===e}}var et=tt("String"),nt=tt("Number"),rt=tt("Date"),it=tt("RegExp"),ot=tt("Error"),st=tt("Symbol"),at=tt("ArrayBuffer"),ut=tt("Function"),ct=P.document&&P.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof ct&&(ut=function(t){return"function"==typeof t||!1});var lt=ut,pt=tt("Object"),ft=$&&pt(new DataView(new ArrayBuffer(8))),ht="undefined"!=typeof Map&&pt(new Map),dt=tt("DataView");var gt=ft?function(t){return null!=t&&lt(t.getInt8)&&at(t.buffer)}:dt,yt=I||tt("Array");function vt(t,e){return null!=t&&N.call(t,e)}var mt=tt("Arguments");!function(){mt(arguments)||(mt=function(t){return vt(t,"callee")})}();var _t=mt;function bt(t){return!st(t)&&q(t)&&!isNaN(parseFloat(t))}function wt(t){return nt(t)&&W(t)}function St(t){return function(){return t}}function xt(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=z}}function Et(t){return function(e){return null==e?void 0:e[t]}}var At=Et("byteLength"),Ct=xt(At),Ot=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Rt=D?function(t){return G?G(t)&&!gt(t):Ct(t)&&Ot.test(F.call(t))}:St(!1),Pt=Et("length");function jt(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=V.length,r=t.constructor,i=lt(r)&&r.prototype||k,o="constructor";for(vt(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=V[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function kt(t){if(!Q(t))return[];if(H)return H(t);var e=[];for(var n in t)vt(t,n)&&e.push(n);return U&&jt(t,e),e}function Tt(t){if(null==t)return!0;var e=Pt(t);return"number"==typeof e&&(yt(t)||et(t)||_t(t))?0===e:0===Pt(kt(t))}function Mt(t,e){var n=kt(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0}function Lt(t){return t instanceof Lt?t:this instanceof Lt?void(this._wrapped=t):new Lt(t)}function Ft(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,At(t))}Lt.VERSION="1.12.0",Lt.prototype.value=function(){return this._wrapped},Lt.prototype.valueOf=Lt.prototype.toJSON=Lt.prototype.value,Lt.prototype.toString=function(){return String(this._wrapped)};function Nt(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&Dt(t,e,n,r)}function Dt(t,e,n,r){t instanceof Lt&&(t=t._wrapped),e instanceof Lt&&(e=e._wrapped);var i=F.call(t);if(i!==F.call(e))return!1;if(ft&&"[object Object]"==i&&gt(t)){if(!gt(e))return!1;i="[object DataView]"}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return T.valueOf.call(t)===T.valueOf.call(e);case"[object ArrayBuffer]":case"[object DataView]":return Dt(Ft(t),Ft(e),n,r)}var o="[object Array]"===i;if(!o&&Rt(t)){if(At(t)!==At(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(lt(s)&&s instanceof s&&lt(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!Nt(t[u],e[u],n,r))return!1}else{var c,l=kt(t);if(u=l.length,kt(e).length!==u)return!1;for(;u--;)if(!vt(e,c=l[u])||!Nt(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0}function $t(t,e){return Nt(t,e)}function It(t){if(!Q(t))return[];var e=[];for(var n in t)e.push(n);return U&&jt(t,e),e}function Ht(t){var e=Pt(t);return function(n){if(null==n)return!1;var r=It(n);if(Pt(r))return!1;for(var i=0;i<e;i++)if(!lt(n[t[i]]))return!1;return t!==Ut||!lt(n[Bt])}}var Bt="forEach",Gt=["clear","delete"],Wt=["get","has","set"],qt=Gt.concat(Bt,Wt),Ut=Gt.concat(Wt),Vt=["add"].concat(Gt,Bt,"has"),zt=ht?Ht(qt):tt("Map"),Kt=ht?Ht(Ut):tt("WeakMap"),Qt=ht?Ht(Vt):tt("Set"),Xt=tt("WeakSet");function Yt(t){for(var e=kt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Zt(t){for(var e=kt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function Jt(t){for(var e={},n=kt(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function te(t){var e=[];for(var n in t)lt(t[n])&&e.push(n);return e.sort()}function ee(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}}var ne=ee(It),re=ee(kt),ie=ee(It,!0);function oe(t){if(!Q(t))return{};if(B)return B(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function se(t,e){var n=oe(t);return e&&re(n,e),n}function ae(t){return Q(t)?yt(t)?t.slice():ne({},t):t}function ue(t,e){return e(t),t}function ce(t){return yt(t)?t:[t]}function le(t){return Lt.toPath(t)}function pe(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function fe(t,e,n){var r=pe(t,le(e));return Y(r)?n:r}function he(t,e){for(var n=(e=le(e)).length,r=0;r<n;r++){var i=e[r];if(!vt(t,i))return!1;t=t[i]}return!!n}function de(t){return t}function ge(t){return t=re({},t),function(e){return Mt(e,t)}}function ye(t){return t=le(t),function(e){return pe(e,t)}}function ve(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function me(t,e,n){return null==t?de:lt(t)?ve(t,e,n):Q(t)&&!yt(t)?ge(t):ye(t)}function _e(t,e){return me(t,e,1/0)}function be(t,e,n){return Lt.iteratee!==_e?Lt.iteratee(t,e):me(t,e,n)}function we(t,e,n){e=be(e,n);for(var r=kt(t),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=e(t[a],a,t)}return o}function Se(){}function xe(t){return null==t?Se:function(e){return fe(t,e)}}function Ee(t,e,n){var r=Array(Math.max(0,t));e=ve(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function Ae(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Lt.toPath=ce,Lt.iteratee=_e;var Ce=Date.now||function(){return(new Date).getTime()};function Oe(t){var e=function(e){return t[e]},n="(?:"+kt(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Pe=Oe(Re),je=Oe(Jt(Re)),ke=Lt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Te=/(.)^/,Me={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Le=/\\|'|\r|\n|\u2028|\u2029/g;function Fe(t){return"\\"+Me[t]}function Ne(t,e,n){!e&&n&&(e=n),e=ie({},e,Lt.templateSettings);var r,i=RegExp([(e.escape||Te).source,(e.interpolate||Te).source,(e.evaluate||Te).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,(function(e,n,r,i,a){return s+=t.slice(o,a).replace(Le,Fe),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return r.call(this,t,Lt)},u=e.variable||"obj";return a.source="function("+u+"){\n"+s+"}",a}function De(t,e,n){var r=(e=le(e)).length;if(!r)return lt(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=lt(o)?o.call(t):o}return t}var $e=0;function Ie(t){var e=++$e+"";return t?t+e:e}function He(t){var e=Lt(t);return e._chain=!0,e}function Be(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=oe(t.prototype),s=t.apply(o,i);return Q(s)?s:o}var Ge=K((function(t,e){var n=Ge.placeholder,r=function(){for(var i=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return Be(t,r,this,this,s)};return r}));Ge.placeholder=Lt;var We=K((function(t,e,n){if(!lt(t))throw new TypeError("Bind must be called on a function");var r=K((function(i){return Be(t,r,e,this,n.concat(i))}));return r})),qe=xt(Pt);function Ue(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,s=Pt(t);o<s;o++){var a=t[o];if(qe(a)&&(yt(a)||_t(a)))if(e>1)Ue(a,e-1,n,r),i=r.length;else for(var u=0,c=a.length;u<c;)r[i++]=a[u++];else n||(r[i++]=a)}return r}var Ve=K((function(t,e){var n=(e=Ue(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=We(t[r],t)}return t}));function ze(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return vt(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}var Ke=K((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Qe=Ge(Ke,Lt,1);function Xe(t,e,n){var r,i,o,s,a=0;n||(n={});var u=function(){a=!1===n.leading?0:Ce(),r=null,s=t.apply(i,o),r||(i=o=null)},c=function(){var c=Ce();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=c,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c}function Ye(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},s=K((function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,e),a&&(i=t.apply(this,s))}else r=Ke(o,e,this,s);return i}));return s.cancel=function(){clearTimeout(r),r=null},s}function Ze(t,e){return Ge(e,t)}function Je(t){return function(){return!t.apply(this,arguments)}}function tn(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function en(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function nn(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var rn=Ge(nn,2);function on(t,e,n){e=be(e,n);for(var r,i=kt(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r}function sn(t){return function(e,n,r){n=be(n,r);for(var i=Pt(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var an=sn(1),un=sn(-1);function cn(t,e,n,r){for(var i=(n=be(n,r,1))(e),o=0,s=Pt(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o}function ln(t,e,n){return function(r,i,o){var s=0,a=Pt(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(L.call(r,s,a),wt))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}var pn=ln(1,an,cn),fn=ln(-1,un);function hn(t,e,n){var r=(qe(t)?an:on)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function dn(t,e){return hn(t,ge(e))}function gn(t,e,n){var r,i;if(e=ve(e,n),qe(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=kt(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function yn(t,e,n){e=be(e,n);for(var r=!qe(t)&&kt(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o}function vn(t){var e=function(e,n,r,i){var o=!qe(e)&&kt(e),s=(o||e).length,a=t>0?0:s-1;for(i||(r=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var u=o?o[a]:a;r=n(r,e[u],u,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,ve(n,i,4),r,o)}}var mn=vn(1),_n=vn(-1);function bn(t,e,n){var r=[];return e=be(e,n),gn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function wn(t,e,n){return bn(t,Je(be(e)),n)}function Sn(t,e,n){e=be(e,n);for(var r=!qe(t)&&kt(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0}function xn(t,e,n){e=be(e,n);for(var r=!qe(t)&&kt(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1}function En(t,e,n,r){return qe(t)||(t=Yt(t)),("number"!=typeof n||r)&&(n=0),pn(t,e,n)>=0}var An=K((function(t,e,n){var r,i;return lt(e)?i=e:(e=le(e),r=e.slice(0,-1),e=e[e.length-1]),yn(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=pe(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Cn(t,e){return yn(t,ye(e))}function On(t,e){return bn(t,ge(e))}function Rn(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=qe(t)?t:Yt(t)).length;a<u;a++)null!=(r=t[a])&&r>o&&(o=r);else e=be(e,n),gn(t,(function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o}function Pn(t,e,n){var r,i,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,u=(t=qe(t)?t:Yt(t)).length;a<u;a++)null!=(r=t[a])&&r<o&&(o=r);else e=be(e,n),gn(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o}function jn(t,e,n){if(null==e||n)return qe(t)||(t=Yt(t)),t[Ae(t.length-1)];var r=qe(t)?ae(t):Yt(t),i=Pt(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,s=0;s<e;s++){var a=Ae(s,o),u=r[s];r[s]=r[a],r[a]=u}return r.slice(0,e)}function kn(t){return jn(t,1/0)}function Tn(t,e,n){var r=0;return e=be(e,n),Cn(yn(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function Mn(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=be(r,i),gn(n,(function(e,i){var s=r(e,i,n);t(o,e,s)})),o}}var Ln=Mn((function(t,e,n){vt(t,n)?t[n].push(e):t[n]=[e]})),Fn=Mn((function(t,e,n){t[n]=e})),Nn=Mn((function(t,e,n){vt(t,n)?t[n]++:t[n]=1})),Dn=Mn((function(t,e,n){t[n?0:1].push(e)}),!0),$n=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function In(t){return t?yt(t)?L.call(t):et(t)?t.match($n):qe(t)?yn(t,de):Yt(t):[]}function Hn(t){return null==t?0:qe(t)?t.length:kt(t).length}function Bn(t,e,n){return e in n}var Gn=K((function(t,e){var n={},r=e[0];if(null==t)return n;lt(r)?(e.length>1&&(r=ve(r,e[1])),e=It(t)):(r=Bn,e=Ue(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var s=e[i],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),Wn=K((function(t,e){var n,r=e[0];return lt(r)?(r=Je(r),e.length>1&&(n=e[1])):(e=yn(Ue(e,!1,!1),String),r=function(t,n){return!En(e,n)}),Gn(t,r,n)}));function qn(t,e,n){return L.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Un(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:qn(t,t.length-e)}function Vn(t,e,n){return L.call(t,null==e||n?1:e)}function zn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Vn(t,Math.max(0,t.length-e))}function Kn(t){return bn(t,Boolean)}function Qn(t,e){return Ue(t,e,!1)}var Xn=K((function(t,e){return e=Ue(e,!0,!0),bn(t,(function(t){return!En(e,t)}))})),Yn=K((function(t,e){return Xn(t,e)}));function Zn(t,e,n,r){Z(e)||(r=n,n=e,e=!1),null!=n&&(n=be(n,r));for(var i=[],o=[],s=0,a=Pt(t);s<a;s++){var u=t[s],c=n?n(u,s,t):u;e&&!n?(s&&o===c||i.push(u),o=c):n?En(o,c)||(o.push(c),i.push(u)):En(i,u)||i.push(u)}return i}var Jn=K((function(t){return Zn(Ue(t,!0,!0))}));function tr(t){for(var e=[],n=arguments.length,r=0,i=Pt(t);r<i;r++){var o=t[r];if(!En(e,o)){var s;for(s=1;s<n&&En(arguments[s],o);s++);s===n&&e.push(o)}}return e}function er(t){for(var e=t&&Rn(t,Pt).length||0,n=Array(e),r=0;r<e;r++)n[r]=Cn(t,r);return n}var nr=K(er);function rr(t,e){for(var n={},r=0,i=Pt(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function ir(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function or(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(L.call(t,r,r+=e));return n}function sr(t,e){return t._chain?Lt(e).chain():e}function ar(t){return gn(te(t),(function(e){var n=Lt[e]=t[e];Lt.prototype[e]=function(){var t=[this._wrapped];return M.apply(t,arguments),sr(this,n.apply(Lt,t))}})),Lt}gn(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=j[t];Lt.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),sr(this,n)}})),gn(["concat","join","slice"],(function(t){var e=j[t];Lt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),sr(this,t)}})),l(R,"VERSION",(function(){return"1.12.0"})),l(R,"restArguments",(function(){return K})),l(R,"isObject",(function(){return Q})),l(R,"isNull",(function(){return X})),l(R,"isUndefined",(function(){return Y})),l(R,"isBoolean",(function(){return Z})),l(R,"isElement",(function(){return J})),l(R,"isString",(function(){return et})),l(R,"isNumber",(function(){return nt})),l(R,"isDate",(function(){return rt})),l(R,"isRegExp",(function(){return it})),l(R,"isError",(function(){return ot})),l(R,"isSymbol",(function(){return st})),l(R,"isArrayBuffer",(function(){return at})),l(R,"isDataView",(function(){return gt})),l(R,"isArray",(function(){return yt})),l(R,"isFunction",(function(){return lt})),l(R,"isArguments",(function(){return _t})),l(R,"isFinite",(function(){return bt})),l(R,"isNaN",(function(){return wt})),l(R,"isTypedArray",(function(){return Rt})),l(R,"isEmpty",(function(){return Tt})),l(R,"isMatch",(function(){return Mt})),l(R,"isEqual",(function(){return $t})),l(R,"isMap",(function(){return zt})),l(R,"isWeakMap",(function(){return Kt})),l(R,"isSet",(function(){return Qt})),l(R,"isWeakSet",(function(){return Xt})),l(R,"keys",(function(){return kt})),l(R,"allKeys",(function(){return It})),l(R,"values",(function(){return Yt})),l(R,"pairs",(function(){return Zt})),l(R,"invert",(function(){return Jt})),l(R,"methods",(function(){return te})),l(R,"functions",(function(){return te})),l(R,"extend",(function(){return ne})),l(R,"assign",(function(){return re})),l(R,"extendOwn",(function(){return re})),l(R,"defaults",(function(){return ie})),l(R,"create",(function(){return se})),l(R,"clone",(function(){return ae})),l(R,"tap",(function(){return ue})),l(R,"get",(function(){return fe})),l(R,"has",(function(){return he})),l(R,"mapObject",(function(){return we})),l(R,"identity",(function(){return de})),l(R,"constant",(function(){return St})),l(R,"noop",(function(){return Se})),l(R,"toPath",(function(){return ce})),l(R,"property",(function(){return ye})),l(R,"propertyOf",(function(){return xe})),l(R,"matches",(function(){return ge})),l(R,"matcher",(function(){return ge})),l(R,"times",(function(){return Ee})),l(R,"random",(function(){return Ae})),l(R,"now",(function(){return Ce})),l(R,"escape",(function(){return Pe})),l(R,"unescape",(function(){return je})),l(R,"templateSettings",(function(){return ke})),l(R,"template",(function(){return Ne})),l(R,"result",(function(){return De})),l(R,"uniqueId",(function(){return Ie})),l(R,"chain",(function(){return He})),l(R,"iteratee",(function(){return _e})),l(R,"partial",(function(){return Ge})),l(R,"bind",(function(){return We})),l(R,"bindAll",(function(){return Ve})),l(R,"memoize",(function(){return ze})),l(R,"delay",(function(){return Ke})),l(R,"defer",(function(){return Qe})),l(R,"throttle",(function(){return Xe})),l(R,"debounce",(function(){return Ye})),l(R,"wrap",(function(){return Ze})),l(R,"negate",(function(){return Je})),l(R,"compose",(function(){return tn})),l(R,"after",(function(){return en})),l(R,"before",(function(){return nn})),l(R,"once",(function(){return rn})),l(R,"findKey",(function(){return on})),l(R,"findIndex",(function(){return an})),l(R,"findLastIndex",(function(){return un})),l(R,"sortedIndex",(function(){return cn})),l(R,"indexOf",(function(){return pn})),l(R,"lastIndexOf",(function(){return fn})),l(R,"detect",(function(){return hn})),l(R,"find",(function(){return hn})),l(R,"findWhere",(function(){return dn})),l(R,"forEach",(function(){return gn})),l(R,"each",(function(){return gn})),l(R,"collect",(function(){return yn})),l(R,"map",(function(){return yn})),l(R,"inject",(function(){return mn})),l(R,"foldl",(function(){return mn})),l(R,"reduce",(function(){return mn})),l(R,"foldr",(function(){return _n})),l(R,"reduceRight",(function(){return _n})),l(R,"select",(function(){return bn})),l(R,"filter",(function(){return bn})),l(R,"reject",(function(){return wn})),l(R,"all",(function(){return Sn})),l(R,"every",(function(){return Sn})),l(R,"any",(function(){return xn})),l(R,"some",(function(){return xn})),l(R,"include",(function(){return En})),l(R,"includes",(function(){return En})),l(R,"contains",(function(){return En})),l(R,"invoke",(function(){return An})),l(R,"pluck",(function(){return Cn})),l(R,"where",(function(){return On})),l(R,"max",(function(){return Rn})),l(R,"min",(function(){return Pn})),l(R,"shuffle",(function(){return kn})),l(R,"sample",(function(){return jn})),l(R,"sortBy",(function(){return Tn})),l(R,"groupBy",(function(){return Ln})),l(R,"indexBy",(function(){return Fn})),l(R,"countBy",(function(){return Nn})),l(R,"partition",(function(){return Dn})),l(R,"toArray",(function(){return In})),l(R,"size",(function(){return Hn})),l(R,"pick",(function(){return Gn})),l(R,"omit",(function(){return Wn})),l(R,"take",(function(){return Un})),l(R,"head",(function(){return Un})),l(R,"first",(function(){return Un})),l(R,"initial",(function(){return qn})),l(R,"last",(function(){return zn})),l(R,"drop",(function(){return Vn})),l(R,"tail",(function(){return Vn})),l(R,"rest",(function(){return Vn})),l(R,"compact",(function(){return Kn})),l(R,"flatten",(function(){return Qn})),l(R,"without",(function(){return Yn})),l(R,"unique",(function(){return Zn})),l(R,"uniq",(function(){return Zn})),l(R,"union",(function(){return Jn})),l(R,"intersection",(function(){return tr})),l(R,"difference",(function(){return Xn})),l(R,"transpose",(function(){return er})),l(R,"unzip",(function(){return er})),l(R,"zip",(function(){return nr})),l(R,"object",(function(){return rr})),l(R,"range",(function(){return ir})),l(R,"chunk",(function(){return or})),l(R,"mixin",(function(){return ar})),l(R,"default",(function(){return Lt}));var ur,cr,lr=ar(R);lr._=lr,ur=O,cr=R,Object.keys(cr).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(ur,t,{enumerable:!0,get:function(){return cr[t]}})})),l(O,"default",(function(){return lr}));var pr=Xd((t=>{const e=/^\\\\\?\\/.test(t),n=/[^\u0000-\u0080]+/.test(t);return e||n?t:t.replace(/\\/g,"/")})),fr={};Object.defineProperty(fr,"__esModule",{value:!0});var hr=void 0;fr.default=hr;var dr,gr=c;dr=Gr,Gr.Minimatch=Wr;var yr={sep:"/"};try{yr=function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}("path")}catch(t){}var vr,mr=Gr.GLOBSTAR=Wr.GLOBSTAR={},_r={};vr=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);br(i)?n.push.apply(n,i):n.push(i)}return n};var br=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},wr={};function Sr(t,e,n){t instanceof RegExp&&(t=xr(t,n)),e instanceof RegExp&&(e=xr(e,n));var r=Er(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function xr(t,e){var n=e.match(t);return n?n[0]:null}function Er(t,e,n){var r,i,o,s,a,u=n.indexOf(t),c=n.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(r=[],o=n.length;l>=0&&!a;)l==u?(r.push(l),u=n.indexOf(t,l+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<o&&(o=i,s=c),c=n.indexOf(e,l+1)),l=u<c&&u>=0?u:c;r.length&&(a=[o,s])}return a}wr=Sr,Sr.range=Er,_r=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Dr(function(t){return t.split("\\\\").join(Ar).split("\\{").join(Cr).split("\\}").join(Or).split("\\,").join(Rr).split("\\.").join(Pr)}(t),!0).map(kr)};var Ar="\0SLASH"+Math.random()+"\0",Cr="\0OPEN"+Math.random()+"\0",Or="\0CLOSE"+Math.random()+"\0",Rr="\0COMMA"+Math.random()+"\0",Pr="\0PERIOD"+Math.random()+"\0";function jr(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function kr(t){return t.split(Ar).join("\\").split(Cr).join("{").split(Or).join("}").split(Rr).join(",").split(Pr).join(".")}function Tr(t){if(!t)return[""];var e=[],n=wr("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,o=n.post,s=r.split(",");s[s.length-1]+="{"+i+"}";var a=Tr(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Mr(t){return"{"+t+"}"}function Lr(t){return/^-?0\d/.test(t)}function Fr(t,e){return t<=e}function Nr(t,e){return t>=e}function Dr(t,e){var n=[],r=wr("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=o||s,u=r.body.indexOf(",")>=0;if(!a&&!u)return r.post.match(/,.*\}/)?Dr(t=r.pre+"{"+r.body+Or+r.post):[t];if(a)i=r.body.split(/\.\./);else if(1===(i=Tr(r.body)).length&&1===(i=Dr(i[0],!1).map(Mr)).length)return(p=r.post.length?Dr(r.post,!1):[""]).map((function(t){return r.pre+i[0]+t}));var c,l=r.pre,p=r.post.length?Dr(r.post,!1):[""];if(a){var f=jr(i[0]),h=jr(i[1]),d=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(jr(i[2])):1,y=Fr;h<f&&(g*=-1,y=Nr);var v=i.some(Lr);c=[];for(var m=f;y(m,h);m+=g){var _;if(s)"\\"===(_=String.fromCharCode(m))&&(_="");else if(_=String(m),v){var b=d-_.length;if(b>0){var w=new Array(b+1).join("0");_=m<0?"-"+w+_.slice(1):w+_}}c.push(_)}}else c=vr(i,(function(t){return Dr(t,!1)}));for(var S=0;S<c.length;S++)for(var x=0;x<p.length;x++){var E=l+c[S]+p[x];(!e||a||E)&&n.push(E)}return n}var $r={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Ir="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var Hr=/\/+/;function Br(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function Gr(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new Wr(e,n).match(t))}function Wr(t,e){if(!(this instanceof Wr))return new Wr(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==yr.sep&&(t=t.split(yr.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function qr(t,e){if(e||(e=this instanceof Wr?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:_r(t)}Gr.filter=function(t,e){return e=e||{},function(n,r,i){return Gr(n,t,e)}},Gr.defaults=function(t){if(!t||!Object.keys(t).length)return Gr;var e=Gr,n=function(n,r,i){return e.minimatch(n,r,Br(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,Br(t,r))},n},Wr.defaults=function(t){return t&&Object.keys(t).length?Gr.defaults(t).Minimatch:Wr},Wr.prototype.debug=function(){},Wr.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(Hr)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},Wr.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},Gr.braceExpand=function(t,e){return qr(t,e)},Wr.prototype.braceExpand=qr,Wr.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return mr;if(""===t)return"";var r,i="",o=!!n.nocase,s=!1,a=[],u=[],c=!1,l=-1,p=-1,f="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(r){switch(r){case"*":i+="[^/]*?",o=!0;break;case"?":i+="[^/]",o=!0;break;default:i+="\\"+r}h.debug("clearStateChar %j %j",r,i),r=!1}}for(var g,y=0,v=t.length;y<v&&(g=t.charAt(y));y++)if(this.debug("%s\t%s %s %j",t,y,i,g),s&&Ir[g])i+="\\"+g,s=!1;else switch(g){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,y,i,g),c){this.debug("  in class"),"!"===g&&y===p+1&&(g="^"),i+=g;continue}h.debug("call clearStateChar %j",r),d(),r=g,n.noext&&d();continue;case"(":if(c){i+="(";continue}if(!r){i+="\\(";continue}a.push({type:r,start:y-1,reStart:i.length,open:$r[r].open,close:$r[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(c||!a.length){i+="\\)";continue}d(),o=!0;var m=a.pop();i+=m.close,"!"===m.type&&u.push(m),m.reEnd=i.length;continue;case"|":if(c||!a.length||s){i+="\\|",s=!1;continue}d(),i+="|";continue;case"[":if(d(),c){i+="\\"+g;continue}c=!0,p=y,l=i.length,i+=g;continue;case"]":if(y===p+1||!c){i+="\\"+g,s=!1;continue}if(c){var _=t.substring(p+1,y);try{RegExp("["+_+"]")}catch(t){var b=this.parse(_,Ur);i=i.substr(0,l)+"\\["+b[0]+"\\]",o=o||b[1],c=!1;continue}}o=!0,c=!1,i+=g;continue;default:d(),s?s=!1:!Ir[g]||"^"===g&&c||(i+="\\"),i+=g}c&&(_=t.substr(p+1),b=this.parse(_,Ur),i=i.substr(0,l)+"\\["+b[0],o=o||b[1]);for(m=a.pop();m;m=a.pop()){var w=i.slice(m.reStart+m.open.length);this.debug("setting tail",i,m),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",w,w,m,i);var S="*"===m.type?"[^/]*?":"?"===m.type?"[^/]":"\\"+m.type;o=!0,i=i.slice(0,m.reStart)+S+"\\("+w}d(),s&&(i+="\\\\");var x=!1;switch(i.charAt(0)){case".":case"[":case"(":x=!0}for(var E=u.length-1;E>-1;E--){var A=u[E],C=i.slice(0,A.reStart),O=i.slice(A.reStart,A.reEnd-8),R=i.slice(A.reEnd-8,A.reEnd),P=i.slice(A.reEnd);R+=P;var j=C.split("(").length-1,k=P;for(y=0;y<j;y++)k=k.replace(/\)[+*?]?/,"");var T="";""===(P=k)&&e!==Ur&&(T="$"),i=C+O+P+T+R}""!==i&&o&&(i="(?=.)"+i);x&&(i=f+i);if(e===Ur)return[i,o];if(!o)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var M=n.nocase?"i":"";try{var L=new RegExp("^"+i+"$",M)}catch(t){return new RegExp("$.")}return L._glob=t,L._src=i,L};var Ur={};Gr.makeRe=function(t,e){return new Wr(t,e||{}).makeRe()},Wr.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",i=t.map((function(t){return t.map((function(t){return t===mr?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(t){this.regexp=!1}return this.regexp},Gr.match=function(t,e,n){var r=new Wr(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},Wr.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==yr.sep&&(t=t.split(yr.sep).join("/"));t=t.split(Hr),this.debug(this.pattern,"split",t);var r,i,o=this.set;for(this.debug(this.pattern,"set",o),i=t.length-1;i>=0&&!(r=t[i]);i--);for(i=0;i<o.length;i++){var s=o[i],a=t;if(n.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},Wr.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u,c=e[o],l=t[i];if(this.debug(e,c,l),!1===c)return!1;if(c===mr){this.debug("GLOBSTAR",[e,c,l]);var p=i,f=o+1;if(f===a){for(this.debug("** at the end");i<s;i++)if("."===t[i]||".."===t[i]||!r.dot&&"."===t[i].charAt(0))return!1;return!0}for(;p<s;){var h=t[p];if(this.debug("\nglobstar while",t,p,e,f,h),this.matchOne(t.slice(p),e.slice(f),n))return this.debug("globstar found match!",p,s,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==s))}if("string"==typeof c?(u=r.nocase?l.toLowerCase()===c.toLowerCase():l===c,this.debug("string match",c,l,u)):(u=l.match(c),this.debug("pattern match",c,l,u)),!u)return!1}if(i===s&&o===a)return!0;if(i===s)return n;if(o===a)return i===s-1&&""===t[i];throw new Error("wtf?")};var Vr=Bd(dr),zr=a,Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});var Qr=ni;Kr.merge=Qr;var Xr=ri;Kr.unique=Xr;var Yr=function(t,e){return ni(t,e),ri(t)};Kr.union=Yr;var Zr=(ei=void 0,Kr.exec=ei);Kr.MAX_STRING_LENGTH=Zr;var Jr=s,ti=i;var ei=(0,o.promisify)(Jr.exec);Kr.exec=ei;function ni(t,e){e.length&&Array.prototype.push.apply(t,e)}function ri(t){return[...new Set(t)]}Zr=ti.constants.MAX_STRING_LENGTH,Kr.MAX_STRING_LENGTH=Zr;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});var oi=Ei;ii.posixifyPath=oi;var si=Ai;ii.posixifyPathNormalized=si;var ai=async function(t,e=process.cwd()){return await Oi(Ei(t),e)};ii.globifyPath=ai;var ui=function(t){return`${Ai(t)}/**`};ii.globifyDirectory=ui;var ci=async function(t){return await Ci(await Si(di.default.join(t,".gitignore"),"utf-8"),t)};ii.globifyGitIgnoreFile=ci;var li=Ci;ii.globifyGitIgnore=li;var pi,fi,hi,di=wi(u),gi=r;hi=function(t){if("string"!=typeof t||""===t)return!1;for(var e;e=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1};var yi={"{":"}","(":")","[":"]"},vi=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,mi=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;fi=function(t,e){if("string"!=typeof t||""===t)return!1;if(hi(t))return!0;var n,r=vi;for(e&&!1===e.strict&&(r=mi);n=r.exec(t);){if(n[2])return!0;var i=n.index+n[0].length,o=n[1],s=o?yi[o]:null;if(o&&s){var a=t.indexOf(s,i);-1!==a&&(i=a+1)}t=t.slice(i)}return!1};var _i=/[‘“!#$%&+^<=>`]/;pi=function(t){return"string"!=typeof t||fi(t)||_i.test(t)};var bi=wi((function(t){return!1===pi(t)}));function wi(t){return t&&t.__esModule?t:{default:t}}const{readFile:Si,stat:xi}=gi.promises;function Ei(t){return di.default.normalize(t).replace(/\\/g,"/")}function Ai(t){return Ei(t).replace(/\/$/,"")}async function Ci(t,e){const n=t.split("\n").filter((t=>{return!(/^\s*$/.test(t)||(e=t,"#"===e[0]));var e})).map((t=>function(t){return t.replace(/^\s+/,"")}(function(t){return/\\\s+$/.test(t)?t.replace(/\\(\s+)$/,"$1"):t.replace(/\s+$/,"")}(t)))),r=n.length;let i=new Array(r);for(let t=0;t<r;t++){const r=await Oi(n[t],e);"string"==typeof r?i[t]=r:(i[t]=r[0],i.push(r[1]))}return(0,Kr.unique)(i)}async function Oi(t,e){let n=t,r=!1;"!"===n[0]&&(n=n.substring(1),r=!0);let i=Ri.OTHER;if("/"===n[0])n=n.substring(1),await(0,bi.default)(n)&&(i=await Pi(e?di.default.join(e,n):n));else{const t=n.indexOf("/");-1===t?n.startsWith("**/")||(n=`**/${n}`):t===n.length-1?i=Ri.DIRECTORY:await(0,bi.default)(n)&&(i=await Pi(e?di.default.join(e,n):n))}return e&&(n=`${Ei(e)}/${n}`),n=r?n:`!${n}`,i===Ri.DIRECTORY?n.endsWith("/")?`${n}**`:`${n}/**`:i===Ri.FILE||n.endsWith("/**")?n:[n,`${n}/**`]}const Ri={OTHER:0,DIRECTORY:1,FILE:2};async function Pi(t){let e;try{e=await xi(t)}catch(t){return Ri.OTHER}return e.isDirectory()?Ri.DIRECTORY:e.isFile()?Ri.FILE:Ri.OTHER}var ji={};Object.defineProperty(ji,"__esModule",{value:!0});var ki=(Qp=void 0,Yp=ji.generate=Qp,Jp=ji.convertPatternsToTasks=Yp,ef=ji.getPositivePatterns=Jp,rf=ji.getNegativePatternsAsPositive=ef,sf=ji.groupPatternsByBaseDirectory=rf,ji.convertPatternGroupsToTasks=sf);ji.convertPatternGroupToTask=ki;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});var Mi=(Di=void 0,Hi=Ti.array=Di,qi=Ti.errno=Hi,Zi=Ti.fs=qi,Dp=Ti.path=Zi,Up=Ti.pattern=Dp,Ti.stream=Up);Ti.string=Mi;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});var Fi=(Ni=void 0,Li.flatten=Ni);Li.splitWhen=Fi;var Ni=function(t){return t.reduce(((t,e)=>[].concat(t,e)),[])};Li.flatten=Ni,Fi=function(t,e){const n=[[]];let r=0;for(const i of t)e(i)?(r++,n[r]=[]):n[r].push(i);return n},Li.splitWhen=Fi;var Di=Li;Ti.array=Li;var $i={};Object.defineProperty($i,"__esModule",{value:!0});var Ii=void 0;$i.isEnoentCodeError=Ii,Ii=function(t){return"ENOENT"===t.code},$i.isEnoentCodeError=Ii;var Hi=$i;Ti.errno=$i;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});var Gi=void 0;Bi.createDirentFromStats=Gi;class Wi{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}Gi=function(t,e){return new Wi(t,e)},Bi.createDirentFromStats=Gi;var qi=Bi;Ti.fs=Bi;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});var Vi=(Qi=void 0,Xi=Ui.unixify=Qi,Yi=Ui.makeAbsolute=Xi,Ui.escape=Yi);Ui.removeLeadingDotSegment=Vi;const zi=u,Ki=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;var Qi=function(t){return t.replace(/\\/g,"/")};Ui.unixify=Qi;var Xi=function(t,e){return zi.resolve(t,e)};Ui.makeAbsolute=Xi;var Yi=function(t){return t.replace(Ki,"\\$2")};Ui.escape=Yi,Vi=function(t){if("."===t.charAt(0)){const e=t.charAt(1);if("/"===e||"\\"===e)return t.slice(2)}return t},Ui.removeLeadingDotSegment=Vi;var Zi=Ui;Ti.path=Ui;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});var to=(dp=void 0,yp=Ji.isStaticPattern=dp,vp=Ji.isDynamicPattern=yp,mp=Ji.convertToPositivePattern=vp,bp=Ji.convertToNegativePattern=mp,Sp=Ji.isNegativePattern=bp,xp=Ji.isPositivePattern=Sp,Ep=Ji.getNegativePatterns=xp,Ap=Ji.getPositivePatterns=Ep,Cp=Ji.getBaseDirectory=Ap,Rp=Ji.hasGlobStar=Cp,Pp=Ji.endsWithSlashGlobStar=Rp,jp=Ji.isAffectDepthOfReadingPattern=Pp,Tp=Ji.expandPatternsWithBraceExpansion=jp,Mp=Ji.expandBraceExpansion=Tp,Fp=Ji.getPatternParts=Mp,Np=Ji.makeRe=Fp,Ji.convertPatternsToRe=Np);Ji.matchAny=to;const eo=u;var no,ro=u.posix.dirname,io="win32"===n.platform(),oo=/\\/g,so=/[\{\[].*[\/]*.*[\}\]]$/,ao=/(^|[^\\])([\{\[]|\([^\)]+$)/,uo=/\\([\!\*\?\|\[\]\(\)\{\}])/g;no=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&io&&t.indexOf("/")<0&&(t=t.replace(oo,"/")),so.test(t)&&(t+="/"),t+="a";do{t=ro(t)}while(fi(t)||ao.test(t));return t.replace(uo,"$1")};var co={};const lo=o;var po,fo,ho,go={},yo={},vo=function(){return[{type:yo.RANGE,from:48,to:57}]},mo=function(){return[{type:yo.CHAR,value:95},{type:yo.RANGE,from:97,to:122},{type:yo.RANGE,from:65,to:90}].concat(vo())},_o=function(){return[{type:yo.CHAR,value:9},{type:yo.CHAR,value:10},{type:yo.CHAR,value:11},{type:yo.CHAR,value:12},{type:yo.CHAR,value:13},{type:yo.CHAR,value:32},{type:yo.CHAR,value:160},{type:yo.CHAR,value:5760},{type:yo.CHAR,value:6158},{type:yo.CHAR,value:8192},{type:yo.CHAR,value:8193},{type:yo.CHAR,value:8194},{type:yo.CHAR,value:8195},{type:yo.CHAR,value:8196},{type:yo.CHAR,value:8197},{type:yo.CHAR,value:8198},{type:yo.CHAR,value:8199},{type:yo.CHAR,value:8200},{type:yo.CHAR,value:8201},{type:yo.CHAR,value:8202},{type:yo.CHAR,value:8232},{type:yo.CHAR,value:8233},{type:yo.CHAR,value:8239},{type:yo.CHAR,value:8287},{type:yo.CHAR,value:12288},{type:yo.CHAR,value:65279}]},bo=function(){return{type:yo.SET,set:mo(),not:!1}},wo=function(){return{type:yo.SET,set:mo(),not:!0}},So=function(){return{type:yo.SET,set:vo(),not:!1}},xo=function(){return{type:yo.SET,set:vo(),not:!0}},Eo=function(){return{type:yo.SET,set:_o(),not:!1}},Ao=function(){return{type:yo.SET,set:_o(),not:!0}},Co={0:0,t:9,n:10,v:11,f:12,r:13},Oo=function(t,e){for(var n,r,i=[],o=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(n=o.exec(t));)if(n[1])i.push(bo());else if(n[2])i.push(So());else if(n[3])i.push(Eo());else if(n[4])i.push(wo());else if(n[5])i.push(xo());else if(n[6])i.push(Ao());else if(n[7])i.push({type:yo.RANGE,from:(n[8]||n[9]).charCodeAt(0),to:n[10].charCodeAt(0)});else{if(!(r=n[12]))return[i,o.lastIndex];i.push({type:yo.CHAR,value:r.charCodeAt(0)})}Ro(e,"Unterminated character class")},Ro=function(t,e){throw new SyntaxError("Invalid regular expression: /"+t+"/: "+e)};(ho=function(t){var e,n,r=0,i={type:yo.ROOT,stack:[]},o=i,s=i.stack,a=[],u=function(e){Ro(t,"Nothing to repeat at column "+(e-1))},c=function(t){return t.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,(function(t,e,n,r,i,o,s,a){if(n)return t;var u=e?8:r?parseInt(r,16):i?parseInt(i,16):o?parseInt(o,8):s?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(s):Co[a],c=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(c)&&(c="\\"+c),c}))}(t);for(e=c.length;r<e;)switch(n=c[r++]){case"\\":switch(n=c[r++]){case"b":s.push({type:yo.POSITION,value:"b"});break;case"B":s.push({type:yo.POSITION,value:"B"});break;case"w":s.push(bo());break;case"W":s.push(wo());break;case"d":s.push(So());break;case"D":s.push(xo());break;case"s":s.push(Eo());break;case"S":s.push(Ao());break;default:/\d/.test(n)?s.push({type:yo.REFERENCE,value:parseInt(n,10)}):s.push({type:yo.CHAR,value:n.charCodeAt(0)})}break;case"^":s.push({type:yo.POSITION,value:"^"});break;case"$":s.push({type:yo.POSITION,value:"$"});break;case"[":var l;"^"===c[r]?(l=!0,r++):l=!1;var p=Oo(c.slice(r),t);r+=p[1],s.push({type:yo.SET,set:p[0],not:l});break;case".":s.push({type:yo.SET,set:[{type:yo.CHAR,value:10},{type:yo.CHAR,value:13},{type:yo.CHAR,value:8232},{type:yo.CHAR,value:8233}],not:!0});break;case"(":var f={type:yo.GROUP,stack:[],remember:!0};"?"===(n=c[r])&&(n=c[r+1],r+=2,"="===n?f.followedBy=!0:"!"===n?f.notFollowedBy=!0:":"!==n&&Ro(t,"Invalid group, character '"+n+"' after '?' at column "+(r-1)),f.remember=!1),s.push(f),a.push(o),o=f,s=f.stack;break;case")":0===a.length&&Ro(t,"Unmatched ) at column "+(r-1)),s=(o=a.pop()).options?o.options[o.options.length-1]:o.stack;break;case"|":o.options||(o.options=[o.stack],delete o.stack);var h=[];o.options.push(h),s=h;break;case"{":var d,g,y=/^(\d+)(,(\d+)?)?\}/.exec(c.slice(r));null!==y?(0===s.length&&u(r),d=parseInt(y[1],10),g=y[2]?y[3]?parseInt(y[3],10):1/0:d,r+=y[0].length,s.push({type:yo.REPETITION,min:d,max:g,value:s.pop()})):s.push({type:yo.CHAR,value:123});break;case"?":0===s.length&&u(r),s.push({type:yo.REPETITION,min:0,max:1,value:s.pop()});break;case"+":0===s.length&&u(r),s.push({type:yo.REPETITION,min:1,max:1/0,value:s.pop()});break;case"*":0===s.length&&u(r),s.push({type:yo.REPETITION,min:0,max:1/0,value:s.pop()});break;default:s.push({type:yo.CHAR,value:n.charCodeAt(0)})}return 0!==a.length&&Ro(t,"Unterminated group"),i}).types=yo={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7},fo=function(t,e){e||(e={});var n,r=void 0===e.limit?25:e.limit;n=t,"[object RegExp]"==={}.toString.call(n)?t=t.source:"string"!=typeof t&&(t=String(t));try{t=ho(t)}catch(t){return!1}var i=0;return function t(e,n){if(e.type===yo.REPETITION){if(n++,i++,n>1)return!1;if(i>r)return!1}if(e.options)for(var o=0,s=e.options.length;o<s;o++){if(!t({stack:e.options[o]},n))return!1}var a=e.stack||e.value&&e.value.stack;if(!a)return!0;for(o=0;o<a.length;o++){if(!t(a[o],n))return!1}return!0}(t,0)};var Po;Po=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)};var jo,ko,To=Object.prototype.toString;function Mo(t){return"function"==typeof t.constructor?t.constructor.name:null}ko=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;if("boolean"===e)return"boolean";if("string"===e)return"string";if("number"===e)return"number";if("symbol"===e)return"symbol";if("function"===e)return"GeneratorFunction"===Mo(t)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){if(t.constructor&&"function"==typeof t.constructor.isBuffer)return t.constructor.isBuffer(t);return!1}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(Mo(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(e=To.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")};var Lo={},Fo={get:"function",set:"function",configurable:"boolean",enumerable:"boolean"};function No(t,e){return{}.hasOwnProperty.call(t,e)}Lo=function(t,e){if("string"==typeof e)return void 0!==Object.getOwnPropertyDescriptor(t,e);if("object"!==ko(t))return!1;if(No(t,"value")||No(t,"writable"))return!1;if(!No(t,"get")||"function"!=typeof t.get)return!1;if(No(t,"set")&&"function"!=typeof t[n]&&void 0!==t[n])return!1;for(var n in t)if(Fo.hasOwnProperty(n)&&ko(t[n])!==Fo[n]&&void 0!==t[n])return!1;return!0};var Do;Do=function(t,e){var n={configurable:"boolean",enumerable:"boolean",writable:"boolean"};if("object"!==ko(t))return!1;if("string"==typeof e)return void 0!==Object.getOwnPropertyDescriptor(t,e);if(!("value"in t)&&!("writable"in t))return!1;for(var r in t)if("value"!==r&&n.hasOwnProperty(r)&&ko(t[r])!==n[r]&&void 0!==t[r])return!1;return!0},jo=function(t,e){return"object"===ko(t)&&("get"in t?Lo(t,e):Do(t,e))};var $o,Io,Ho,Bo,Go=!1;function Wo(){return Go||(Go=!0,$o={},Io=Po,Ho=jo,Bo="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty,$o=function(t,e,n){if(!Io(t)&&"function"!=typeof t&&!Array.isArray(t))throw new TypeError("expected an object, function, or array");if("string"!=typeof e)throw new TypeError('expected "key" to be a string');return Ho(n)?(Bo(t,e,n),t):(Bo(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n}),t)}),$o}var qo,Uo,Vo=Wo();function zo(t,e){for(var n in e)Ko(e,n)&&(t[n]=e[n])}function Ko(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Uo=function(t){return null!=t&&("object"==typeof t||"function"==typeof t)},qo=function(t){Uo(t)||(t={});for(var e=arguments.length,n=1;n<e;n++){var r=arguments[n];Uo(r)&&zo(t,r)}return t};var Qo={};function Xo(t,e){return new RegExp(Xo.create(t,e))}Xo.create=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");var n=qo({},e);!0===n.contains&&(n.strictNegate=!1);var r=!1!==n.strictOpen?"^":"",i=!1!==n.strictClose?"$":"",o=n.endChar?n.endChar:"+",s=r+(!1===n.strictNegate?"(?:(?!(?:"+t+")).)"+o:"(?:(?!^(?:"+t+")$).)"+o)+i;if(!0===n.safe&&!1===fo(s))throw new Error("potentially unsafe regular expression: "+s);return s},Qo=Xo;var Yo={};function Zo(t,e){if(t instanceof RegExp)return t;if("string"!=typeof t)throw new TypeError("expected a string");if(t.length>65536)throw new Error("expected pattern to be less than 65536 characters");var n=t;if((!e||e&&!1!==e.cache)&&(n=function(t,e){if(!e)return t;var n=t;for(var r in e)e.hasOwnProperty(r)&&(n+=";"+r+"="+String(e[r]));return n}(t,e),Yo.hasOwnProperty(n)))return Yo[n];var r=qo({},e);!0===r.contains&&(!0===r.negate?r.strictNegate=!1:r.strict=!1),!1===r.strict&&(r.strictOpen=!1,r.strictClose=!1);var i,o=!1!==r.strictOpen?"^":"",s=!1!==r.strictClose?"$":"",a=r.flags||"";!0!==r.nocase||/i/.test(a)||(a+="i");try{if((r.negate||"boolean"==typeof r.strictNegate)&&(t=Qo.create(t,r)),i=new RegExp(o+"(?:"+t+")"+s,a),!0===r.safe&&!1===fo(i))throw new Error("potentially unsafe regular expression: "+i.source)}catch(o){if(!0===r.strictErrors||!0===r.safe)throw o.key=n,o.pattern=t,o.originalOptions=e,o.createdOptions=r,o;try{i=new RegExp("^"+t.replace(/(\W)/g,"\\$1")+"$")}catch(t){i=/.^/}}return!1!==r.cache&&function(t,e,n,r){Vo(t,"cached",!0),Vo(t,"pattern",n),Vo(t,"options",r),Vo(t,"key",e),Yo[e]=t}(i,n,t,r),i}(po=function(t,e){return Array.isArray(t)?Zo(t.join("|"),e):Zo(t,e)}).makeRe=Zo;var Jo;(Jo=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var e=t.length,n=-1;n++<e;)for(var r=n+1;r<t.length;++r)t[n]===t[r]&&t.splice(r--,1);return t}).immutable=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=t[r];return Jo(n)};var ts,es,ns={};function rs(t,e,n,r){var i=t.indexOf(e,n);return"\\"===t.charAt(i-1)?rs(t,e,i+1):i}function is(t,e){return!0===e.keepDoubleQuotes&&'"'===t||(!0===e.keepSingleQuotes&&"'"===t||e.keepQuotes)}function os(t,e,n){return"function"==typeof t.keepEscaping?t.keepEscaping(e,n):!0===t.keepEscaping||"\\"===e[n+1]}es=function(t,e,n){if("string"!=typeof t)throw new TypeError("expected a string");"function"==typeof e&&(n=e,e=null),"string"==typeof e&&(e={sep:e});var r,i=qo({sep:"."},e),o=i.quotes||['"',"'","`"];!0===i.brackets?r={"<":">","(":")","[":"]","{":"}"}:i.brackets&&(r=i.brackets);var s,a=[],u=[],c=[""],l=i.sep,p=t.length,f=-1;function h(){if(r&&u.length)return r[u[u.length-1]]}for(;++f<p;){var d=t[f],g=t[f+1],y={val:d,idx:f,arr:c,str:t};if(a.push(y),"\\"!==d){if(r&&r[d]){u.push(d);var v=h(),m=f+1;if(-1!==t.indexOf(v,m+1))for(;u.length&&m<p;){var _=t[++m];if("\\"!==_)if(-1===o.indexOf(_)){if(v=h(),u.length&&-1===t.indexOf(v,m+1))break;r[_]?u.push(_):v===_&&u.pop()}else m=rs(t,_,m+1);else _++}if(-1===(s=m)){c[c.length-1]+=d;continue}d=t.slice(f,s+1),y.val=d,y.idx=f=s}if(-1!==o.indexOf(d)){if(-1===(s=rs(t,d,f+1))){c[c.length-1]+=d;continue}d=!0===is(d,i)?t.slice(f,s+1):t.slice(f+1,s),y.val=d,y.idx=f=s}"function"==typeof n&&(n(y,a),d=y.val,f=y.idx),y.val!==l||!1===y.split?c[c.length-1]+=y.val:c.push("")}else y.val=!0===os(i,t,f)?d+g:g,y.escaped=!0,"function"==typeof n&&n(y),c[c.length-1]+=y.val,f++}return c},ns.extend=qo;var ss;function as(t,e){for(var n,r=0,i=t.length;r<i;r++)n=t[r],Array.isArray(n)?as(n,e):e.push(n);return e}ss=function(t){return as(t,[])},ns.flatten=ss,ns.isObject=Po;var us,cs,ls=o;cs=function(t){var e=ko(t);if("string"===e){if(!t.trim())return!1}else if("number"!==e)return!1;return t-t+1>=0};var ps,fs={},hs="";fs=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(ps!==t||void 0===ps)ps=t,hs="";else if(hs.length>=n)return hs.substr(0,n);for(;n>hs.length&&e>1;)1&e&&(hs+=t),e>>=1,t+=t;return hs=(hs+=t).substr(0,n)};var ds={},gs={};function ys(t,e,n){if(t===e)return{pattern:String(t),digits:[]};for(var r=function(t,e){var n=[];for(var r in t)n.push([t[r],e[r]]);return n}(String(t),String(e)),i=r.length,o=-1,s="",a=0;++o<i;){var u=r[o],c=u[0],l=u[1];c===l?s+=c:"0"!==c||"9"!==l?s+=As(c,l):a+=1}return a&&(s+=n.shorthand?"\\d":"[0-9]"),{pattern:s,digits:[a]}}function vs(t,e,n,r){for(var i,o=function(t,e){t=Number(t);for(var n=1,r=[e=Number(e)],i=+Ss(t,n);t<=i&&i<=e;)r=bs(r,i),i=+Ss(t,n+=1);var o=1;for(i=xs(e+1,o)-1;t<i&&i<=e;)r=bs(r,i),i=xs(e+1,o+=1)-1;return r.sort(_s),r}(t,e),s=o.length,a=-1,u=[],c=t;++a<s;){var l=o[a],p=ys(c,l,r),f="";n.isPadded||!i||i.pattern!==p.pattern?(n.isPadded&&(f=Os(l,n)),p.string=f+p.pattern+Es(p.digits),u.push(p),c=l+1,i=p):(i.digits.length>1&&i.digits.pop(),i.digits.push(p.digits[0]),i.string=i.pattern+Es(i.digits),c=l+1)}return u}function ms(t,e,n,r,i){for(var o=[],s=0;s<t.length;s++){var a=t[s].string;!1!==i.relaxZeros&&"-"===n&&"0"===a.charAt(0)&&(a="{"===a.charAt(1)?"0*"+a.replace(/^0\{\d+\}/,""):"0*"+a.slice(1)),r||ws(e,"string",a)||o.push(n+a),r&&ws(e,"string",a)&&o.push(n+a)}return o}function _s(t,e){return t>e?1:e>t?-1:0}function bs(t,e){return-1===t.indexOf(e)&&t.push(e),t}function ws(t,e,n){for(var r=0;r<t.length;r++)if(t[r][e]===n)return!0;return!1}function Ss(t,e){return String(t).slice(0,-e)+fs("9",e)}function xs(t,e){return t-t%Math.pow(10,e)}function Es(t){var e=t[0],n=t[1]?","+t[1]:"";return n||e&&1!==e?"{"+e+n+"}":""}function As(t,e){return"["+t+(e-t==1?"":"-")+e+"]"}function Cs(t){return/^-?(0+)\d/.exec(t)}function Os(t,e){if(e.isPadded){var n=Math.abs(e.maxLen-String(t).length);switch(n){case 0:return"";case 1:return"0";default:return"0{"+n+"}"}}return t}function Rs(t,e){if(e.isPadded){var n=String(t),r=n.length,i="";"-"===n.charAt(0)&&(i="-",n=n.slice(1));var o=e.maxLength-r;t=i+fs("0",o)+n}return e.stringify?String(t):t}function Ps(t){return Number(t)||0}function js(t){return/^-?0\d/.test(t)}function ks(t){return"string"==typeof t&&1===t.length&&/^\w+$/.test(t)}function Ts(t){return cs(t)&&!/\./.test(t)}ds=function(t,e,n){if(!1===cs(t))throw new RangeError("toRegexRange: first argument is invalid.");if(void 0===e||t===e)return String(t);if(!1===cs(e))throw new RangeError("toRegexRange: second argument is invalid.");n=n||{};var r=t+":"+e+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture);if(gs.hasOwnProperty(r))return gs[r].result;var i=Math.min(t,e),o=Math.max(t,e);if(1===Math.abs(i-o)){var s=t+"|"+e;return n.capture?"("+s+")":s}var a=Cs(t)||Cs(e),u=[],c=[],l={min:t,max:e,a:i,b:o};return a&&(l.isPadded=a,l.maxLen=String(l.max).length),i<0&&(c=vs(o<0?Math.abs(o):1,Math.abs(i),l,n),i=l.a=0),o>=0&&(u=vs(i,o,l,n)),l.negatives=c,l.positives=u,l.result=function(t,e,n){var r=ms(t,e,"-",!1,n)||[],i=ms(e,t,"",!1,n)||[],o=ms(t,e,"-?",!0,n)||[];return r.concat(o).concat(i).join("|")}(c,u,n),n.capture&&u.length+c.length>1&&(l.result="("+l.result+")"),gs[r]=l,l.result},us=function(t,e,n,r){if(void 0===t)return[];if(void 0===e||t===e){var i="string"==typeof t;return cs(t)&&!Ps(t)?[i?"0":0]:[t]}"number"!=typeof n&&"string"!=typeof n&&(r=n,n=void 0),"function"==typeof r&&(r={transform:r});var o,s,a=qo({step:n},r);if(a.step&&!Ts(a.step)){if(!0===a.strictRanges)throw new TypeError("expected options.step to be a number");return[]}if(a.isNumber=Ts(t)&&Ts(e),!a.isNumber&&(s=e,!Ts(o=t)&&!ks(o)||!Ts(s)&&!ks(s))){if(!0===a.strictRanges)throw new RangeError("invalid range arguments: "+ls.inspect([t,e]));return[]}return a.isPadded=js(t)||js(e),a.toString=a.stringify||"string"==typeof a.step||"string"==typeof t||"string"==typeof e||!a.isNumber,a.isPadded&&(a.maxLength=Math.max(String(t).length,String(e).length)),"boolean"==typeof a.optimize&&(a.toRegex=a.optimize),"boolean"==typeof a.makeRe&&(a.toRegex=a.makeRe),function(t,e,n){var r=n.isNumber?Ps(t):t.charCodeAt(0),i=n.isNumber?Ps(e):e.charCodeAt(0),o=Math.abs(Ps(n.step))||1;if(n.toRegex&&1===o)return function(t,e,n,r,i){if(i.isPadded)return ds(n,r,i);if(i.isNumber)return ds(Math.min(t,e),Math.max(t,e),i);n=String.fromCharCode(Math.min(t,e)),r=String.fromCharCode(Math.max(t,e));return"["+n+"-"+r+"]"}(r,i,t,e,n);var s={greater:[],lesser:[]},a=r<i,u=new Array(Math.round((a?i-r:r-i)/o)),c=0;for(;a?r<=i:r>=i;){var l=n.isNumber?r:String.fromCharCode(r);n.toRegex&&(l>=0||!n.isNumber)?s.greater.push(l):s.lesser.push(Math.abs(l)),n.isPadded&&(l=Rs(l,n)),n.toString&&(l=String(l)),"function"==typeof n.transform?u[c++]=n.transform(l,r,i,o,c,u,n):u[c++]=l,a?r+=o:r-=o}if(!0===n.toRegex)return function(t,e,n){var r="",i="";e.greater.length&&(r=e.greater.join("|"));e.lesser.length&&(i="-("+e.lesser.join("|")+")");var o=r&&i?r+"|"+i:r||i;if(n.capture)return"("+o+")";return o}(0,s,n);return u}(t,e,a)},ns.fillRange=us;var Ms;function Ls(t,e,n){return ns.flatten(ns.repeat(ns.arrayify(t),e))}function Fs(t){return!0===t.escaped}function Ns(t,e){return void 0!==t&&t.type===e}Ms=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},ns.repeat=Ms,ns.unique=Jo,ns.define=function(t,e,n){Object.defineProperty(t,e,{writable:!0,configurable:!0,enumerable:!1,value:n})},ns.isEmptySets=function(t){return/^(?:\{,\})+$/.test(t)},ns.isQuotedString=function(t){var e=t.charAt(0);return("'"===e||'"'===e||"`"===e)&&t.slice(-1)===e},ns.createKey=function(t,e){var n=t;if(void 0===e)return n;for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n+=";"+o+"="+String(e[o])}return n},ns.createOptions=function(t){var e=ns.extend.apply(null,arguments);return"boolean"==typeof e.expand&&(e.optimize=!e.expand),"boolean"==typeof e.optimize&&(e.expand=!e.optimize),!0===e.optimize&&(e.makeRe=!0),e},ns.join=function(t,e,n){if(n=n||{},t=ns.arrayify(t),e=ns.arrayify(e),!t.length)return e;if(!e.length)return t;for(var r=t.length,i=-1,o=[];++i<r;){var s=t[i];if(Array.isArray(s)){for(var a=0;a<s.length;a++)s[a]=ns.join(s[a],e,n);o.push(s)}else for(var u=0;u<e.length;u++){var c=e[u];Array.isArray(c)?o.push(ns.join(s,c,n)):o.push(s+c)}}return o},ns.split=function(t,e){var n=ns.extend({sep:","},e);return"boolean"!=typeof n.keepQuotes&&(n.keepQuotes=!0),!1===n.unescape&&(n.keepEscaping=!0),es(t,n,ns.escapeBrackets(n))},ns.expand=function(t,e){var n=ns.extend({rangeLimit:1e4},e),r=ns.split(t,n),i={segs:r};if(ns.isQuotedString(t))return i;if(!0===n.rangeLimit&&(n.rangeLimit=1e4),r.length>1){if(!1===n.optimize)return i.val=r[0],i;i.segs=ns.stringifyArray(i.segs)}else if(1===r.length){var o=t.split("..");if(1===o.length)return i.val=i.segs[i.segs.length-1]||i.val||t,i.segs=[],i;if(2===o.length&&o[0]===o[1])return i.escaped=!0,i.val=o[0],i.segs=[],i;if(o.length>1){if(!1!==n.optimize&&(n.optimize=!0,delete n.expand),!0!==n.optimize){var s=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]),u=o[2]||1;if(!1!==n.rangeLimit&&(a-s)/u>=n.rangeLimit)throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.")}return o.push(n),i.segs=ns.fillRange.apply(null,o),i.segs.length?(!0===n.optimize&&(i.segs=ns.stringifyArray(i.segs)),""===i.segs?i.val=t:i.val=i.segs[0],i):(i.escaped=!0,i.val=t,i)}}else i.val=t;return i},ns.escapeBrackets=function(t){return function(e){if(e.escaped&&"b"===e.val)e.val="\\b";else if("("===e.val||"["===e.val){for(var n=ns.extend({},t),r=[],i=[],o=[],s=e.val,a=e.str,u=e.idx-1;++u<a.length;){var c=a[u];if("\\"!==c){if("("===c&&(i.push(c),o.push(c)),"["===c&&(r.push(c),o.push(c)),")"===c&&(i.pop(),o.pop(),!o.length)){s+=c;break}if("]"===c&&(r.pop(),o.pop(),!o.length)){s+=c;break}s+=c}else s+=(!1===n.keepEscaping?"":c)+a[++u]}e.split=!1,e.val=s.slice(1),e.idx=u}}},ns.isQuantifier=function(t){return/^(?:[0-9]?,[0-9]|[0-9],)$/.test(t)},ns.stringifyArray=function(t){return[ns.arrayify(t).join("|")]},ns.arrayify=function(t){return void 0===t?[]:"string"==typeof t?[t]:t},ns.isString=function(t){return null!=t&&"string"==typeof t},ns.last=function(t,e){return t[t.length-(e||1)]},ns.escapeRegex=function(t){return t.replace(/\\?([!^*?()[\]{}+?/])/g,"\\$1")},ts=function(t,e){t.compiler.set("bos",(function(){this.output||(this.ast.queue=Fs(this.ast)?[this.ast.val]:[],this.ast.count=1)})).set("bracket",(function(t){var e=t.close,n=t.escaped?"\\[":"[",r=t.negated,i=t.inner;"]-"===(i=i.replace(/\\(?=[\\\w]|$)/g,"\\\\"))&&(i="\\]\\-"),r&&-1===i.indexOf(".")&&(i+="."),r&&-1===i.indexOf("/")&&(i+="/");var o=n+r+i+e,s=t.parent.queue,a=ns.arrayify(s.pop());s.push(ns.join(a,o)),s.push.apply(s,[])})).set("brace",(function(t){return t.queue=Fs(t)?[t.val]:[],t.count=1,this.mapVisit(t.nodes)})).set("brace.open",(function(t){t.parent.open=t.val})).set("text",(function(t){var n=t.parent.queue,r=t.escaped,i=[t.val];if(!1===t.optimize&&(e=ns.extend({},e,{optimize:!1})),t.multiplier>1&&(t.parent.count*=t.multiplier),!0===e.quantifiers&&ns.isQuantifier(t.val))r=!0;else if(t.val.length>1){if(Ns(t.parent,"brace")&&!Fs(t)){var o=ns.expand(t.val,e);if(i=o.segs,o.isOptimized&&(t.parent.isOptimized=!0),!i.length){var s=o.val||t.val;!1!==e.unescape&&(s=(s=s.replace(/\\([,.])/g,"$1")).replace(/["'`]/g,"")),i=[s],r=!0}}}else","===t.val?e.expand?(t.parent.queue.push([""]),i=[""]):i=["|"]:r=!0;if(r&&Ns(t.parent,"brace")&&(t.parent.nodes.length<=4&&1===t.parent.count||t.parent.length<=3)&&(t.parent.escaped=!0),function(t){return Array.isArray(t.queue)&&t.queue.length}(t.parent)){var a=ns.arrayify(n.pop());t.parent.count>1&&e.expand&&(a=Ls(a,t.parent.count),t.parent.count=1),n.push(ns.join(ns.flatten(a),i.shift())),n.push.apply(n,i)}else t.parent.queue=i})).set("brace.close",(function(t){var n=t.parent.queue,r=t.parent.parent,i=r.queue.pop(),o=t.parent.open,s=t.val;o&&s&&function(t,e){return!!t.parent.isOptimized||Ns(t.parent,"brace")&&!Fs(t.parent)&&!0!==e.expand}(t,e)&&(o="(",s=")");var a=ns.last(n);t.parent.count>1&&e.expand&&(a=Ls(n.pop(),t.parent.count),t.parent.count=1,n.push(a)),s&&"string"==typeof a&&1===a.length&&(o="",s=""),!function(t,e){return Fs(t.parent)||!1!==e.optimize}(t,e)&&!function(t,e){if(1===t.parent.queue.length)return!0;var n=t.parent.nodes;return 3===n.length&&Ns(n[0],"brace.open")&&!Ns(n[1],"text")&&Ns(n[2],"brace.close")}(t)||t.parent.hasEmpty||(n.push(ns.join(o,n.pop()||"")),n=ns.flatten(ns.join(n,s))),void 0===i?r.queue=[n]:r.queue.push(ns.flatten(ns.join(i,n)))})).set("eos",(function(t){this.input||(!1!==e.optimize?this.output=ns.last(ns.flatten(this.ast.queue)):Array.isArray(ns.last(this.ast.queue))?this.output=ns.flatten(this.ast.queue.pop()):this.output=ns.flatten(this.ast.queue),t.parent.count>1&&e.expand&&(this.output=Ls(this.output,t.parent.count)),this.output=ns.arrayify(this.output),this.ast.queue=[])}))};var Ds,$s,Is={},Hs=Wo(),Bs={};function Gs(t){return"object"===ko(t)}function Ws(t){return"function"==typeof t}function qs(t,e,n){return"function"!=typeof t.append?t.emit(e,n):t.append(e,n)}function Us(t,e){if(!t)throw new Error(e)}function Vs(t,e,n){if("string"!=typeof e&&(n=e,e=null),Hs(this,"parent",n),Hs(this,"isNode",!0),Hs(this,"expect",null),"string"!=typeof e&&Po(t)){$s||($s=Object.getOwnPropertyNames(Vs.prototype));for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];-1===$s.indexOf(o)&&(this[o]=t[o])}}else this.type=e,this.val=t}function zs(t,e){if(!t)throw new Error(e)}function Ks(t,e,n,r){e.orig=e.val;var i=this.prev(),o=ns.last(i.nodes),s=!1;if(e.val.length>1){var a=e.val.charAt(0),u=e.val.slice(-1);s='"'===a&&'"'===u||"'"===a&&"'"===u||"`"===a&&"`"===u}if(s&&!1!==r.unescape&&(e.val=e.val.slice(1,e.val.length-1),e.escaped=!0),e.match){var c=e.match[1];c&&-1!==c.indexOf("}")||(c=e.match[0]);var l=c.replace(/\{/g,",").replace(/\}/g,"");e.multiplier*=l.length,e.val=""}"text"===o.type&&1===o.multiplier&&1===e.multiplier&&e.val?o.val+=e.val:i.push(e)}Bs.isNode=function(t){return"object"===ko(t)&&!0===t.isNode},Bs.noop=function(t){qs(this,"",t)},Bs.identity=function(t){qs(this,t.val,t)},Bs.append=function(t){return function(e){qs(this,t,e)}},Bs.toNoop=function(t,e){e?t.nodes=e:(delete t.nodes,t.type="text",t.val="")},Bs.visit=function(t,e){return Us(Bs.isNode(t),"expected node to be an instance of Node"),Us(Ws(e),"expected a visitor function"),e(t),t.nodes?Bs.mapVisit(t,e):t},Bs.mapVisit=function(t,e){var n;Us(Bs.isNode(t),"expected node to be an instance of Node"),Us((n=t.nodes,Array.isArray(n)),"expected node.nodes to be an array"),Us(Ws(e),"expected a visitor function");for(var r=0;r<t.nodes.length;r++)Bs.visit(t.nodes[r],e);return t},Bs.addOpen=function(t,e,n,r){if(Us(Bs.isNode(t),"expected node to be an instance of Node"),Us(Ws(e),"expected Node to be a constructor function"),"function"==typeof n&&(r=n,n=""),"function"!=typeof r||r(t)){var i=new e({type:t.type+".open",val:n}),o=t.unshift||t.unshiftNode;return"function"==typeof o?o.call(t,i):Bs.unshiftNode(t,i),i}},Bs.addClose=function(t,e,n,r){if(Us(Bs.isNode(t),"expected node to be an instance of Node"),Us(Ws(e),"expected Node to be a constructor function"),"function"==typeof n&&(r=n,n=""),"function"!=typeof r||r(t)){var i=new e({type:t.type+".close",val:n}),o=t.push||t.pushNode;return"function"==typeof o?o.call(t,i):Bs.pushNode(t,i),i}},Bs.wrapNodes=function(t,e,n){return Us(Bs.isNode(t),"expected node to be an instance of Node"),Us(Ws(e),"expected Node to be a constructor function"),Bs.addOpen(t,e,n),Bs.addClose(t,e,n),t},Bs.pushNode=function(t,e){return Us(Bs.isNode(t),"expected parent node to be an instance of Node"),Us(Bs.isNode(e),"expected node to be an instance of Node"),e.define("parent",t),t.nodes=t.nodes||[],t.nodes.push(e),e},Bs.unshiftNode=function(t,e){Us(Bs.isNode(t),"expected parent node to be an instance of Node"),Us(Bs.isNode(e),"expected node to be an instance of Node"),e.define("parent",t),t.nodes=t.nodes||[],t.nodes.unshift(e)},Bs.popNode=function(t){return Us(Bs.isNode(t),"expected node to be an instance of Node"),"function"==typeof t.pop?t.pop():t.nodes&&t.nodes.pop()},Bs.shiftNode=function(t){return Us(Bs.isNode(t),"expected node to be an instance of Node"),"function"==typeof t.shift?t.shift():t.nodes&&t.nodes.shift()},Bs.removeNode=function(t,e){if(Us(Bs.isNode(t),"expected parent.node to be an instance of Node"),Us(Bs.isNode(e),"expected node to be an instance of Node"),!t.nodes)return null;if("function"==typeof t.remove)return t.remove(e);var n=t.nodes.indexOf(e);return-1!==n?t.nodes.splice(n,1):void 0},Bs.isType=function(t,e){switch(Us(Bs.isNode(t),"expected node to be an instance of Node"),ko(e)){case"array":for(var n=e.slice(),r=0;r<n.length;r++)if(Bs.isType(t,n[r]))return!0;return!1;case"string":return t.type===e;case"regexp":return e.test(t.type);default:throw new TypeError('expected "type" to be an array, string or regexp')}},Bs.hasType=function(t,e){if(Us(Bs.isNode(t),"expected node to be an instance of Node"),!Array.isArray(t.nodes))return!1;for(var n=0;n<t.nodes.length;n++)if(Bs.isType(t.nodes[n],e))return!0;return!1},Bs.firstOfType=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Bs.isType(r,e))return r}},Bs.findNode=function(t,e){return Array.isArray(t)?"number"==typeof e?t[e]:Bs.firstOfType(t,e):null},Bs.isOpen=function(t){return Us(Bs.isNode(t),"expected node to be an instance of Node"),".open"===t.type.slice(-5)},Bs.isClose=function(t){return Us(Bs.isNode(t),"expected node to be an instance of Node"),".close"===t.type.slice(-6)},Bs.hasOpen=function(t){Us(Bs.isNode(t),"expected node to be an instance of Node");var e=t.first||t.nodes?t.nodes[0]:null;return!!Bs.isNode(e)&&e.type===t.type+".open"},Bs.hasClose=function(t){Us(Bs.isNode(t),"expected node to be an instance of Node");var e=t.last||t.nodes?t.nodes[t.nodes.length-1]:null;return!!Bs.isNode(e)&&e.type===t.type+".close"},Bs.hasOpenAndClose=function(t){return Bs.hasOpen(t)&&Bs.hasClose(t)},Bs.addType=function(t,e){Us(Bs.isNode(e),"expected node to be an instance of Node"),Us(Gs(t),"expected state to be an object");var n=e.parent?e.parent.type:e.type.replace(/\.open$/,"");t.hasOwnProperty("inside")||(t.inside={}),t.inside.hasOwnProperty(n)||(t.inside[n]=[]);var r=t.inside[n];return r.push(e),r},Bs.removeType=function(t,e){Us(Bs.isNode(e),"expected node to be an instance of Node"),Us(Gs(t),"expected state to be an object");var n=e.parent?e.parent.type:e.type.replace(/\.close$/,"");if(t.inside.hasOwnProperty(n))return t.inside[n].pop()},Bs.isEmpty=function(t,e){if(Us(Bs.isNode(t),"expected node to be an instance of Node"),!Array.isArray(t.nodes))return"text"!==t.type||("function"==typeof e?e(t,t.parent):!Bs.trim(t.val));for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(!Bs.isOpen(r)&&!Bs.isClose(r)&&!Bs.isEmpty(r,e))return!1}return!0},Bs.isInsideType=function(t,e){return Us(Gs(t),"expected state to be an object"),Us("string"==typeof e,"expected type to be a string"),!!t.hasOwnProperty("inside")&&(!!t.inside.hasOwnProperty(e)&&t.inside[e].length>0)},Bs.isInside=function(t,e,n){if(Us(Bs.isNode(e),"expected node to be an instance of Node"),Us(Gs(t),"expected state to be an object"),Array.isArray(n)){for(var r=0;r<n.length;r++)if(Bs.isInside(t,e,n[r]))return!0;return!1}var i=e.parent;if("string"==typeof n)return i&&i.type===n||Bs.isInsideType(t,n);if("regexp"===ko(n)){if(i&&i.type&&n.test(i.type))return!0;for(var o=Object.keys(t.inside),s=o.length,a=-1;++a<s;){var u=o[a],c=t.inside[u];if(Array.isArray(c)&&0!==c.length&&n.test(u))return!0}}return!1},Bs.last=function(t,e){return t[t.length-(e||1)]},Bs.arrayify=function(t){return"string"==typeof t&&""!==t?[t]:Array.isArray(t)?t:[]},Bs.stringify=function(t){return Bs.arrayify(t).join(",")},Bs.trim=function(t){return"string"==typeof t?t.trim():""},Vs.isNode=function(t){return Bs.isNode(t)},Vs.prototype.define=function(t,e){return Hs(this,t,e),this},Vs.prototype.isEmpty=function(t){return Bs.isEmpty(this,t)},Vs.prototype.push=function(t){return zs(Vs.isNode(t),"expected node to be an instance of Node"),Hs(t,"parent",this),this.nodes=this.nodes||[],this.nodes.push(t)},Vs.prototype.unshift=function(t){return zs(Vs.isNode(t),"expected node to be an instance of Node"),Hs(t,"parent",this),this.nodes=this.nodes||[],this.nodes.unshift(t)},Vs.prototype.pop=function(){return this.nodes&&this.nodes.pop()},Vs.prototype.shift=function(){return this.nodes&&this.nodes.shift()},Vs.prototype.remove=function(t){zs(Vs.isNode(t),"expected node to be an instance of Node"),this.nodes=this.nodes||[];var e=t.index;return-1!==e?(t.index=-1,this.nodes.splice(e,1)):null},Vs.prototype.find=function(t){return Bs.findNode(this.nodes,t)},Vs.prototype.isType=function(t){return Bs.isType(this,t)},Vs.prototype.hasType=function(t){return Bs.hasType(this,t)},Object.defineProperty(Vs.prototype,"siblings",{set:function(){throw new Error("node.siblings is a getter and cannot be defined")},get:function(){return this.parent?this.parent.nodes:null}}),Object.defineProperty(Vs.prototype,"index",{set:function(t){Hs(this,"idx",t)},get:function(){return Array.isArray(this.siblings)?((-1!==this.idx?this.siblings[this.idx]:null)!==this&&(this.idx=this.siblings.indexOf(this)),this.idx):-1}}),Object.defineProperty(Vs.prototype,"prev",{set:function(){throw new Error("node.prev is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index-1]||this.parent.prev:null}}),Object.defineProperty(Vs.prototype,"next",{set:function(){throw new Error("node.next is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index+1]||this.parent.next:null}}),Object.defineProperty(Vs.prototype,"first",{get:function(){return this.nodes?this.nodes[0]:null}}),Object.defineProperty(Vs.prototype,"last",{get:function(){return this.nodes?Bs.last(this.nodes):null}}),Object.defineProperty(Vs.prototype,"scope",{get:function(){return!0!==this.isScope&&this.parent?this.parent.scope:this}}),Is=Vs,Ds=function(t,e){t.parser.set("bos",(function(){this.parsed||(this.ast=this.nodes[0]=new Is(this.ast))})).set("escape",(function(){var t=this.position(),n=this.match(/^(?:\\(.)|\$\{)/);if(n){var r=this.prev(),i=ns.last(r.nodes),o=t(new Is({type:"text",multiplier:1,val:n[0]}));if("\\\\"===o.val)return o;if("${"===o.val)for(var s,a=this.input,u=-1;s=a[++u];)if(this.consume(1),o.val+=s,"\\"!==s){if("}"===s)break}else o.val+=a[++u];return!1!==this.options.unescape&&(o.val=o.val.replace(/\\([{}])/g,"$1")),'"'===i.val&&'"'===this.input.charAt(0)?(i.val=o.val,void this.consume(1)):Ks.call(this,t,o,r,e)}})).set("bracket",(function(){var t=this.isInside("brace"),e=this.position(),n=this.match(/^(?:\[([!^]?)([^\]]{2,}|\]-)(\]|[^*+?]+)|\[)/);if(n){var r=this.prev(),i=n[0],o=n[1]?"^":"",s=n[2]||"",a=n[3]||"";t&&"brace"===r.type&&(r.text=r.text||"",r.text+=i);var u=this.input.slice(0,2);if(""===s&&"\\]"===u){s+=u,this.consume(2);for(var c,l=this.input,p=-1;c=l[++p];){if(this.consume(1),"]"===c){a=c;break}s+=c}}return e(new Is({type:"bracket",val:i,escaped:"]"!==a,negated:o,inner:s,close:a}))}})).set("multiplier",(function(){var t=this.isInside("brace"),n=this.position(),r=this.match(/^\{((?:,|\{,+\})+)\}/);if(r){this.multiplier=!0;var i=this.prev(),o=r[0];t&&"brace"===i.type&&(i.text=i.text||"",i.text+=o);var s=n(new Is({type:"text",multiplier:1,match:r,val:o}));return Ks.call(this,n,s,i,e)}})).set("brace.open",(function(){var t=this.position(),e=this.match(/^\{(?!(?:[^\\}]?|,+)\})/);if(e){var n,r=this.prev(),i=ns.last(r.nodes);i&&i.val&&("!"===(n=i.val.slice(-1))||"@"===n||"*"===n||"?"===n||"+"===n)&&(i.optimize=!1);var o=t(new Is({type:"brace.open",val:e[0]})),s=t(new Is({type:"brace",nodes:[]}));s.push(o),r.push(s),this.push("brace",s)}})).set("brace.close",(function(){var t=this.position(),e=this.match(/^\}/);if(e&&e[0]){var n=this.pop("brace"),r=t(new Is({type:"brace.close",val:e[0]}));if(!this.isType(n,"brace")){if(this.options.strict)throw new Error('missing opening "{"');return r.type="text",r.multiplier=0,r.escaped=!0,r}var i=this.prev(),o=ns.last(i.nodes);if(o.text)if(")"===ns.last(o.nodes).val&&/[!@*?+]\(/.test(o.text)){var s=o.nodes[0],a=o.nodes[1];"brace.open"===s.type&&a&&"text"===a.type&&(a.optimize=!1)}if(n.nodes.length>2){var u=n.nodes[1];"text"===u.type&&","===u.val&&(n.nodes.splice(1,1),n.nodes.push(u))}n.push(r)}})).set("boundary",(function(){var t=this.position(),e=this.match(/^[$^](?!\{)/);if(e)return t(new Is({type:"text",val:e[0]}))})).set("nobrace",(function(){var t=this.isInside("brace"),e=this.position(),n=this.match(/^\{[^,]?\}/);if(n){var r=this.prev(),i=n[0];return t&&"brace"===r.type&&(r.text=r.text||"",r.text+=i),e(new Is({type:"text",multiplier:0,val:i}))}})).set("text",(function(){var t=this.isInside("brace"),n=this.position(),r=this.match(/^((?!\\)[^${}[\]])+/);if(r){var i=this.prev(),o=r[0];t&&"brace"===i.type&&(i.text=i.text||"",i.text+=o);var s=n(new Is({type:"text",multiplier:1,val:o}));return Ks.call(this,n,s,i,e)}}))};var Qs={},Xs={},Ys={},Zs=o,Js=Wo(),ta={},ea={};function na(t){if(t)return function(t){for(var e in na.prototype)t[e]=na.prototype[e];return t}(t)}ea=na,na.prototype.on=na.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},na.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},na.prototype.off=na.prototype.removeListener=na.prototype.removeAllListeners=na.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},na.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},na.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},na.prototype.hasListeners=function(t){return!!this.listeners(t).length};var ra,ia;ia=function(t,e,n,r){if(!Po(t)&&"function"!=typeof t)throw new Error("object-visit expects `thisArg` to be an object.");if("string"!=typeof e)throw new Error("object-visit expects `method` name to be a string");if("function"!=typeof t[e])return t;var i=[].slice.call(arguments,3);for(var o in n=n||{}){var s=[o,n[o]].concat(i);t[e].apply(t,s)}return t};var oa,sa=o;function aa(t){return t&&("function"==typeof t||!Array.isArray(t)&&"object"==typeof t)}oa=function(t,e,n){if(aa(n))return ia.apply(null,arguments);if(!Array.isArray(n))throw new TypeError("expected an array: "+sa.inspect(n));for(var r=[].slice.call(arguments,3),i=0;i<n.length;i++){var o=n[i];aa(o)?ia.apply(null,[t,e,o].concat(r)):t[e].apply(t,[o].concat(r))}},ra=function(t,e,n){var r;if("string"==typeof n&&e in t){var i=[].slice.call(arguments,2);r=t[e].apply(t,i)}else r=Array.isArray(n)?oa.apply(null,arguments):ia.apply(null,arguments);return void 0!==r?r:t};var ua;function ca(t){for(var e=t.length,n=-1,r=[];++n<e;){var i=t[n];"arguments"===ko(i)||Array.isArray(i)?r.push.apply(r,ca(i)):"string"==typeof i&&r.push(i)}return r}ua=function(t){return"arguments"!==ko(t)&&(t=arguments),ca(t).join(".")};var la,pa;pa=function(t){if(!Array.isArray(t))throw new TypeError("arr-union expects the first argument to be an array.");for(var e=arguments.length,n=0;++n<e;){var r=arguments[n];if(r){Array.isArray(r)||(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];t.indexOf(o)>=0||t.push(o)}}}return t};var fa;function ha(t){return t?Array.isArray(t)?t.join("."):t:""}fa=function(t,e,n,r,i){if(null===(o=t)||"object"!=typeof o&&"function"!=typeof o||!e)return t;var o;if(e=ha(e),n&&(e+="."+ha(n)),r&&(e+="."+ha(r)),i&&(e+="."+ha(i)),e in t)return t[e];for(var s=e.split("."),a=s.length,u=-1;t&&++u<a;){for(var c=s[u];"\\"===c[c.length-1];)c=c.slice(0,-1)+"."+s[++u];t=t[c]}return t};var da,ga;function ya(t){return!0===Po(t)&&"[object Object]"===Object.prototype.toString.call(t)}function va(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}function ma(t){return null==t?[]:Array.isArray(t)?t:[t]}ga=function(t){var e,n;return!1!==ya(t)&&("function"==typeof(e=t.constructor)&&(!1!==ya(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},da=function(t,e,n){if(!Uo(t))return t;if(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),"string"!=typeof e)return t;for(var r=es(e,{sep:".",brackets:!0}).filter(va),i=r.length,o=-1,s=t;++o<i;){var a=r[o];o===i-1?ga(s[a])&&ga(n)?s[a]=qo({},s[a],n):s[a]=n:(Uo(s[a])||(s[a]={}),s=s[a])}return t},la=function(t,e,n){if(!Uo(t))throw new TypeError("union-value expects the first argument to be an object.");if("string"!=typeof e)throw new TypeError("union-value expects `prop` to be a string.");var r=ma(fa(t,e));return da(t,e,pa(r,ma(n))),t};var _a,ba,wa;function Sa(t){function e(e){t&&(this[t]={}),e&&this.set(e)}return ea(e.prototype),e.prototype.set=function(e,n){return Array.isArray(e)&&2===arguments.length&&(e=ua(e)),Po(e)||Array.isArray(e)?this.visit("set",e):(da(t?this[t]:this,e,n),this.emit("set",e,n)),this},e.prototype.union=function(e,n){Array.isArray(e)&&2===arguments.length&&(e=ua(e));var r=t?this[t]:this;return la(r,e,xa(n)),this.emit("union",n),this},e.prototype.get=function(e){e=ua(arguments);var n=t?this[t]:this,r=fa(n,e);return this.emit("get",e,r),r},e.prototype.has=function(e){e=ua(arguments);var n=t?this[t]:this,r=fa(n,e),i=void 0!==r;return this.emit("has",e,i),i},e.prototype.del=function(e){return Array.isArray(e)?this.visit("del",e):(_a(t?this[t]:this,e),this.emit("del",e)),this},e.prototype.clear=function(){t&&(this[t]={})},e.prototype.visit=function(t,e){return ra(this,t,e),this},e}function xa(t){return t?Array.isArray(t)?t:[t]:[]}wa=function t(e){if(cs(e))return!0;switch(ko(e)){case"null":case"boolean":case"function":return!0;case"string":case"arguments":return 0!==e.length;case"error":return""!==e.message;case"array":var n=e.length;if(0===n)return!1;for(var r=0;r<n;r++)if(t(e[r]))return!0;return!1;case"file":case"map":case"set":return 0!==e.size;case"object":var i=Object.keys(e);if(0===i.length)return!1;for(r=0;r<i.length;r++){if(t(e[i[r]]))return!0}return!1;default:return!1}},ba=function(t,e){return wa(Po(t)&&e?fa(t,e):t)},_a=function(t,e){if(!Po(t))throw new TypeError("expected an object.");if(t.hasOwnProperty(e))return delete t[e],!0;if(ba(t,e)){for(var n=e.split("."),r=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)r=n.pop().slice(0,-1)+"."+r;for(;n.length;)t=t[e=n.shift()];return delete t[r]}return!0},ta=Sa();var Ea=Sa;ta.namespace=Ea;var Aa,Ca={};function Oa(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];Pa(i)&&Aa(i,Ra,t)}return t}function Ra(t,e){if(function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}(e)){var n=this[e];Pa(t)&&Pa(n)?Oa(n,t):this[e]=t}}function Pa(t){return Uo(t)&&!Array.isArray(t)}Aa=function(t,e,n){for(var r in t)if(!1===e.call(n,t[r],r,t))break},Ca=Oa;var ja={};ja=function(t){if("string"!=typeof t)throw new TypeError("expected a string.");return 1===(t=t.replace(/([A-Z])/g," $1")).length?t.toUpperCase():(t=(t=t.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+t.slice(1)).replace(/[\W_]+(\w|$)/g,(function(t,e){return e.toUpperCase()}))};var ka,Ta={},Ma=Wo(),La={},Fa={};function Na(t){return"[object Object]"==={}.toString.call(t)}ka=function(t,e,n,r){if(Na(e)||"function"==typeof e||(r=n,n=e,e=t),!Na(t)&&"function"!=typeof t)throw new TypeError("expected the first argument to be an object");if(!Na(e)&&"function"!=typeof e)throw new TypeError("expected provider to be an object");if("string"!=typeof r&&(r=n),"string"!=typeof n)throw new TypeError("expected key to be a string");if(!(n in e))throw new Error('property "'+n+'" does not exist');var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,r,i)};var Da=Wo();function $a(t){return"object"===ko(t)||"function"==typeof t}function Ia(t,e){var n=(e=Ha(e)).length;if($a(t)){for(var r in t)if(e.indexOf(r)>-1)return!0;return Ia(Ba(t),e)}if(Array.isArray(t)){for(var i=t;n--;)if(i.indexOf(e[n])>-1)return!0;return!1}throw new TypeError("expected an array or object.")}function Ha(t){return t?Array.isArray(t)?t:[t]:[]}function Ba(t){return function(t){return $a(t)&&void 0!==t.constructor}(t)?Object.getOwnPropertyNames(t):[]}Fa=function(t,e,n){if(!$a(t))throw new TypeError("expected receiving object to be an object.");if(!$a(e))throw new TypeError("expected providing object to be an object.");var r=Ba(e),i=Object.keys(e),o=r.length;for(n=Ha(n);o--;){var s=r[o];Ia(i,s)?Da(t,s,e[s]):s in t||Ia(n,s)||ka(t,e,s)}};var Ga=Ia;Fa.has=Ga;var Wa=Wo(),qa=o;function Ua(t){var e=t?Ea(t):ta,n=[];function r(t,n){if(!(this instanceof r))return new r(t,n);e.call(this,t),this.is("base"),this.initBase(t,n)}return Zs.inherits(r,e),ea(r),r.prototype.initBase=function(e,i){this.options=Ca({},this.options,i),this.cache=this.cache||{},this.define("registered",{}),t&&(this[t]={}),this.define("_callbacks",this._callbacks),Po(e)&&this.visit("set",e),r.run(this,"use",n)},r.prototype.is=function(t){if("string"!=typeof t)throw new TypeError("expected name to be a string");return this.define("is"+ja(t),!0),this.define("_name",t),this.define("_appname",t),this},r.prototype.isRegistered=function(t,e){return!!this.registered.hasOwnProperty(t)||(!1!==e&&(this.registered[t]=!0,this.emit("plugin",t)),!1)},r.prototype.use=function(t){return t.call(this,this),this},r.prototype.define=function(t,e){return Po(t)?this.visit("define",t):(Js(this,t,e),this)},r.prototype.mixin=function(t,e){return r.prototype[t]=e,this},r.prototype.mixins=r.prototype.mixins||[],Object.defineProperty(r.prototype,"base",{configurable:!0,get:function(){return this.parent?this.parent.base:this}}),Js(r,"use",(function(t){return n.push(t),r})),Js(r,"run",(function(t,e,n){for(var i=n.length,o=0;i--;)t[e](n[o++]);return r})),Js(r,"extend",Ta.extend(r,(function(t,e){return t.prototype.mixins=t.prototype.mixins||[],Js(t,"mixin",(function(e){var n=e(t.prototype,t);return"function"==typeof n&&t.prototype.mixins.push(n),t})),Js(t,"mixins",(function(e){return r.run(e,"mixin",t.prototype.mixins),t})),t.prototype.mixin=function(e,n){return t.prototype[e]=n,this},r}))),Js(r,"mixin",(function(t){var e=t(r.prototype,r);return"function"==typeof e&&r.prototype.mixins.push(e),r})),Js(r,"mixins",(function(t){return r.run(t,"mixin",r.prototype.mixins),r})),Js(r,"inherit",Ta.inherit),Js(r,"bubble",Ta.bubble),r}La=function t(e,n){if("function"!=typeof e)throw new TypeError("expected Parent to be a function.");return function(r,i){if("function"!=typeof r)throw new TypeError("expected Ctor to be a function.");if(qa.inherits(r,e),Fa(r,e),"object"==typeof i){var o=Object.create(i);for(var s in o)r.prototype[s]=o[s]}Wa(r.prototype,"_parent_",{configurable:!0,set:function(){},get:function(){return e.prototype}}),"function"==typeof n&&n(r,e),r.extend=t(r,n)}},Ta.isObject=function(t){return Po(t)||"function"==typeof t},Ta.has=function(t,e){var n=(e=Ta.arrayify(e)).length;if(Ta.isObject(t)){for(var r in t)if(e.indexOf(r)>-1)return!0;var i=Ta.nativeKeys(t);return Ta.has(i,e)}if(Array.isArray(t)){for(var o=t;n--;)if(o.indexOf(e[n])>-1)return!0;return!1}throw new TypeError("expected an array or object.")},Ta.hasAll=function(t,e){for(var n=(e=Ta.arrayify(e)).length;n--;)if(!Ta.has(t,e[n]))return!1;return!0},Ta.arrayify=function(t){return t?Array.isArray(t)?t:[t]:[]},Ta.noop=function(){},Ta.identity=function(t){return t},Ta.hasConstructor=function(t){return Ta.isObject(t)&&void 0!==t.constructor},Ta.nativeKeys=function(t){if(!Ta.hasConstructor(t))return[];var e=Object.getOwnPropertyNames(t);return"caller"in t&&e.push("caller"),e},Ta.getDescriptor=function(t,e){if(!Ta.isObject(t))throw new TypeError("expected an object.");if("string"!=typeof e)throw new TypeError("expected key to be a string.");return Object.getOwnPropertyDescriptor(t,e)},Ta.copyDescriptor=function(t,e,n){if(!Ta.isObject(t))throw new TypeError("expected receiving object to be an object.");if(!Ta.isObject(e))throw new TypeError("expected providing object to be an object.");if("string"!=typeof n)throw new TypeError("expected name to be a string.");var r=Ta.getDescriptor(e,n);r&&Object.defineProperty(t,n,r)},Ta.copy=function(t,e,n){if(!Ta.isObject(t))throw new TypeError("expected receiving object to be an object.");if(!Ta.isObject(e))throw new TypeError("expected providing object to be an object.");var r,i=Object.getOwnPropertyNames(e),o=Object.keys(e),s=i.length;for(n=Ta.arrayify(n);s--;)r=i[s],Ta.has(o,r)?Ma(t,r,e[r]):r in t||Ta.has(n,r)||Ta.copyDescriptor(t,e,r)},Ta.inherit=function(t,e,n){if(!Ta.isObject(t))throw new TypeError("expected receiving object to be an object.");if(!Ta.isObject(e))throw new TypeError("expected providing object to be an object.");var r=[];for(var i in e)r.push(i),t[i]=e[i];r=r.concat(Ta.arrayify(n));var o=e.prototype||e,s=t.prototype||t;Ta.copy(s,o,r)},Ta.extend=function(){return La.apply(null,arguments)},Ta.bubble=function(t,e){e=e||[],t.bubble=function(n,r){Array.isArray(r)&&(e=pa([],e,r));for(var i=e.length,o=-1;++o<i;){var s=e[o];t.on(s,n.emit.bind(n,s))}Ta.bubble(n,e)}},Ys=Ua();var Va=Ua;Ys.namespace=Va;var za,Ka=Wo(),Qa={};function Xa(t){return t&&"object"==typeof t&&!Array.isArray(t)}function Ya(t,e,n){Object.defineProperty(t,e,{configurable:!0,writable:!0,value:n})}za=function t(e,n){if(!Xa(e)&&"function"!=typeof e)throw new TypeError("expected an object or function");var r=Xa(n)?n:{},i="string"==typeof r.prop?r.prop:"fns";function o(t,n,o){var a=1;if("string"==typeof t||Array.isArray(t)?(n=s(t,n),a++):(o=n,n=t),"function"!=typeof n)throw new TypeError("expected a function");var u=this||e,c=u[i],l=[].slice.call(arguments,a);l.unshift(u),"function"==typeof r.hook&&r.hook.apply(u,l);var p=n.apply(u,l);return"function"==typeof p&&-1===c.indexOf(p)&&c.push(p),u}function s(t,e){return function n(){return this.type===t?e.apply(this,arguments):n}}return Array.isArray(e[i])||Ya(e,i,[]),Ya(e,"use",o),Ya(e,"run",(function(n){if(Xa(n)){n.use&&n.run||(Ya(n,i,n[i]||[]),Ya(n,"use",o)),n[i]&&-1!==n[i].indexOf(t)||n.use(t);for(var r=(this||e)[i],s=r.length,a=-1;++a<s;)n.use(r[a]);return n}})),e};var Za=Wo(),Ja={},tu=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ja.humanize(this.diff),!this.useColors)return;const e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(n++,"%c"===t&&(r=n))})),t.splice(r,0,e)};Ja.formatArgs=tu;var eu=function(t){try{t?Ja.storage.setItem("debug",t):Ja.storage.removeItem("debug")}catch(t){}};Ja.save=eu;var nu=function(){let t;try{t=Ja.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t};Ja.load=nu;var ru=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)};Ja.useColors=ru;var iu=function(){try{return localStorage}catch(t){}}();Ja.storage=iu;var ou=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ja.destroy=ou;Ja.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];var su=console.debug||console.log||(()=>{});Ja.log=su;var au,uu,cu,lu,pu,fu,hu,du=!1;function gu(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}function yu(){au={},fu=7*(pu=24*(lu=60*(cu=60*(uu=1e3)))),hu=365.25*pu,au=function(t,e){e=e||{};var n,r,i=typeof t;if("string"===i&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*hu;case"weeks":case"week":case"w":return n*fu;case"days":case"day":case"d":return n*pu;case"hours":case"hour":case"hrs":case"hr":case"h":return n*lu;case"minutes":case"minute":case"mins":case"min":case"m":return n*cu;case"seconds":case"second":case"secs":case"sec":case"s":return n*uu;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===i&&isFinite(t))return e.long?(n=t,(r=Math.abs(n))>=pu?gu(n,r,pu,"day"):r>=lu?gu(n,r,lu,"hour"):r>=cu?gu(n,r,cu,"minute"):r>=uu?gu(n,r,uu,"second"):n+" ms"):function(t){var e=Math.abs(t);return e>=pu?Math.round(t/pu)+"d":e>=lu?Math.round(t/lu)+"h":e>=cu?Math.round(t/cu)+"m":e>=uu?Math.round(t/uu)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}}Ja=function(t){function e(t){let r,i=null;function o(...t){if(!o.enabled)return;const n=o,i=Number(new Date),s=i-(r||i);n.diff=s,n.prev=r,n.curr=i,r=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";a++;const o=e.formatters[i];if("function"==typeof o){const e=t[a];r=o.call(n,e),t.splice(a,1),a--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return o.namespace=t,o.useColors=e.useColors(),o.color=e.selectColor(t),o.extend=n,o.destroy=e.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null===i?e.enabled(t):i,set:t=>{i=t}}),"function"==typeof e.init&&e.init(o),o}function n(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(r),...e.skips.map(r).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=(du||(du=!0,yu()),au),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}(Ja);const{formatters:vu}=Ja;vu.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};var mu=Ja("snapdragon:compiler"),_u={},bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),wu=function(t){if(0<=t&&t<bu.length)return bu[t];throw new TypeError("Must be between 0 and 63: "+t)};var Su=function(t){var e,n="",r=function(t){return t<0?1+(-t<<1):0+(t<<1)}(t);do{e=31&r,(r>>>=5)>0&&(e|=32),n+=wu(e)}while(r>0);return n},xu=function(t,e,n){var r,i,o,s,a,u=t.length,c=0,l=0;do{if(e>=u)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=65<=(o=t.charCodeAt(e++))&&o<=90?o-65:97<=o&&o<=122?o-97+26:48<=o&&o<=57?o-48+52:43==o?62:47==o?63:-1))throw new Error("Invalid base64 digit: "+t.charAt(e-1));r=!!(32&i),c+=(i&=31)<<l,l+=5}while(r);n.value=(a=(s=c)>>1,1==(1&s)?-a:a),n.rest=e};var Eu=function(t,e,n){if(e in t)return t[e];if(3===arguments.length)return n;throw new Error('"'+e+'" is a required argument.')},Au=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,Cu=/^data:.+\,.+$/;function Ou(t){var e=t.match(Au);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}var Ru=Ou;function Pu(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}function ju(t){var e=t,n=Ou(t);if(n){if(!n.path)return t;e=n.path}for(var r,i=Mu(e),o=e.split(/\/+/),s=0,a=o.length-1;a>=0;a--)"."===(r=o[a])?o.splice(a,1):".."===r?s++:s>0&&(""===r?(o.splice(a+1,s),s=0):(o.splice(a,2),s--));return""===(e=o.join("/"))&&(e=i?"/":"."),n?(n.path=e,Pu(n)):e}var ku=ju;var Tu=function(t,e){""===t&&(t="."),""===e&&(e=".");var n=Ou(e),r=Ou(t);if(r&&(t=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),Pu(n);if(n||e.match(Cu))return e;if(r&&!r.host&&!r.path)return r.host=e,Pu(r);var i="/"===e.charAt(0)?e:ju(t.replace(/\/+$/,"")+"/"+e);return r?(r.path=i,Pu(r)):i},Mu=function(t){return"/"===t.charAt(0)||!!t.match(Au)};var Lu=function(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");for(var n=0;0!==e.indexOf(t+"/");){var r=t.lastIndexOf("/");if(r<0)return e;if((t=t.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)},Fu=!("__proto__"in Object.create(null));function Nu(t){return t}var Du=Fu?Nu:function(t){return Iu(t)?"$"+t:t};var $u=Fu?Nu:function(t){return Iu(t)?t.slice(1):t};function Iu(t){if(!t)return!1;var e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(var n=e-10;n>=0;n--)if(36!==t.charCodeAt(n))return!1;return!0}var Hu=function(t,e,n){var r=t.source-e.source;return 0!==r||0!==(r=t.originalLine-e.originalLine)||0!==(r=t.originalColumn-e.originalColumn)||n||0!==(r=t.generatedColumn-e.generatedColumn)||0!==(r=t.generatedLine-e.generatedLine)?r:t.name-e.name};var Bu=function(t,e,n){var r=t.generatedLine-e.generatedLine;return 0!==r||0!==(r=t.generatedColumn-e.generatedColumn)||n||0!==(r=t.source-e.source)||0!==(r=t.originalLine-e.originalLine)||0!==(r=t.originalColumn-e.originalColumn)?r:t.name-e.name};function Gu(t,e){return t===e?0:t>e?1:-1}var Wu=function(t,e){var n=t.generatedLine-e.generatedLine;return 0!==n||0!==(n=t.generatedColumn-e.generatedColumn)||0!==(n=Gu(t.source,e.source))||0!==(n=t.originalLine-e.originalLine)||0!==(n=t.originalColumn-e.originalColumn)?n:Gu(t.name,e.name)},qu=Object.prototype.hasOwnProperty,Uu="undefined"!=typeof Map;function Vu(){this._array=[],this._set=Uu?new Map:Object.create(null)}Vu.fromArray=function(t,e){for(var n=new Vu,r=0,i=t.length;r<i;r++)n.add(t[r],e);return n},Vu.prototype.size=function(){return Uu?this._set.size:Object.getOwnPropertyNames(this._set).length},Vu.prototype.add=function(t,e){var n=Uu?t:Du(t),r=Uu?this.has(t):qu.call(this._set,n),i=this._array.length;r&&!e||this._array.push(t),r||(Uu?this._set.set(t,i):this._set[n]=i)},Vu.prototype.has=function(t){if(Uu)return this._set.has(t);var e=Du(t);return qu.call(this._set,e)},Vu.prototype.indexOf=function(t){if(Uu){var e=this._set.get(t);if(e>=0)return e}else{var n=Du(t);if(qu.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},Vu.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},Vu.prototype.toArray=function(){return this._array.slice()};var zu=Vu,Ku=zu;function Qu(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Qu.prototype.unsortedForEach=function(t,e){this._array.forEach(t,e)},Qu.prototype.add=function(t){var e,n,r,i,o,s;e=this._last,n=t,r=e.generatedLine,i=n.generatedLine,o=e.generatedColumn,s=n.generatedColumn,i>r||i==r&&s>=o||Wu(e,n)<=0?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},Qu.prototype.toArray=function(){return this._sorted||(this._array.sort(Wu),this._sorted=!0),this._array};var Xu=Qu;function Yu(t){t||(t={}),this._file=Eu(t,"file",null),this._sourceRoot=Eu(t,"sourceRoot",null),this._skipValidation=Eu(t,"skipValidation",!1),this._sources=new Ku,this._names=new Ku,this._mappings=new Xu,this._sourcesContents=null}Yu.prototype._version=3,Yu.fromSourceMap=function(t){var e=t.sourceRoot,n=new Yu({file:t.file,sourceRoot:e});return t.eachMapping((function(t){var r={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(r.source=t.source,null!=e&&(r.source=Lu(e,r.source)),r.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(r.name=t.name)),n.addMapping(r)})),t.sources.forEach((function(e){var r=t.sourceContentFor(e);null!=r&&n.setSourceContent(e,r)})),n},Yu.prototype.addMapping=function(t){var e=Eu(t,"generated"),n=Eu(t,"original",null),r=Eu(t,"source",null),i=Eu(t,"name",null);this._skipValidation||this._validateMapping(e,n,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},Yu.prototype.setSourceContent=function(t,e){var n=t;null!=this._sourceRoot&&(n=Lu(this._sourceRoot,n)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Du(n)]=e):this._sourcesContents&&(delete this._sourcesContents[Du(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},Yu.prototype.applySourceMap=function(t,e,n){var r=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=t.file}var i=this._sourceRoot;null!=i&&(r=Lu(i,r));var o=new Ku,s=new Ku;this._mappings.unsortedForEach((function(e){if(e.source===r&&null!=e.originalLine){var a=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=a.source&&(e.source=a.source,null!=n&&(e.source=Tu(n,e.source)),null!=i&&(e.source=Lu(i,e.source)),e.originalLine=a.line,e.originalColumn=a.column,null!=a.name&&(e.name=a.name))}var u=e.source;null==u||o.has(u)||o.add(u);var c=e.name;null==c||s.has(c)||s.add(c)}),this),this._sources=o,this._names=s,t.sources.forEach((function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=Tu(n,e)),null!=i&&(e=Lu(i,e)),this.setSourceContent(e,r))}),this)},Yu.prototype._validateMapping=function(t,e,n,r){if(e&&"number"!=typeof e.line&&"number"!=typeof e.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0)||e||n||r)&&!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:e,name:r}))},Yu.prototype._serializeMappings=function(){for(var t,e,n,r,i=0,o=1,s=0,a=0,u=0,c=0,l="",p=this._mappings.toArray(),f=0,h=p.length;f<h;f++){if(t="",(e=p[f]).generatedLine!==o)for(i=0;e.generatedLine!==o;)t+=";",o++;else if(f>0){if(!Wu(e,p[f-1]))continue;t+=","}t+=Su(e.generatedColumn-i),i=e.generatedColumn,null!=e.source&&(r=this._sources.indexOf(e.source),t+=Su(r-c),c=r,t+=Su(e.originalLine-1-a),a=e.originalLine-1,t+=Su(e.originalColumn-s),s=e.originalColumn,null!=e.name&&(n=this._names.indexOf(e.name),t+=Su(n-u),u=n)),l+=t}return l},Yu.prototype._generateSourcesContent=function(t,e){return t.map((function(t){if(!this._sourcesContents)return null;null!=e&&(t=Lu(e,t));var n=Du(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},Yu.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},Yu.prototype.toString=function(){return JSON.stringify(this.toJSON())};var Zu=Yu,Ju=Zu;_u.SourceMapGenerator=Ju;function tc(t,e,n,r,i,o){var s=Math.floor((e-t)/2)+t,a=i(n,r[s],!0);return 0===a?s:a>0?e-s>1?tc(s,e,n,r,i,o):2==o?e<r.length?e:-1:s:s-t>1?tc(t,s,n,r,i,o):2==o?s:t<0?-1:t}var ec=function(t,e,n,r){if(0===e.length)return-1;var i=tc(-1,e.length,t,e,n,r||1);if(i<0)return-1;for(;i-1>=0&&0===n(e[i],e[i-1],!0);)--i;return i},nc=zu;function rc(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ic(t,e,n,r){if(n<r){var i=n-1;rc(t,(u=n,c=r,Math.round(u+Math.random()*(c-u))),r);for(var o=t[r],s=n;s<r;s++)e(t[s],o)<=0&&rc(t,i+=1,s);rc(t,i+1,s);var a=i+1;ic(t,e,n,a-1),ic(t,e,a+1,r)}var u,c}var oc=function(t,e){ic(t,e,0,t.length-1)};function sc(t){var e=t;return"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,""))),null!=e.sections?new lc(e):new uc(e)}sc.fromSourceMap=function(t){return uc.fromSourceMap(t)},sc.prototype._version=3,sc.prototype.__generatedMappings=null,Object.defineProperty(sc.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),sc.prototype.__originalMappings=null,Object.defineProperty(sc.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),sc.prototype._charIsMappingSeparator=function(t,e){var n=t.charAt(e);return";"===n||","===n},sc.prototype._parseMappings=function(t,e){throw new Error("Subclasses must implement _parseMappings")},sc.GENERATED_ORDER=1,sc.ORIGINAL_ORDER=2,sc.GREATEST_LOWER_BOUND=1,sc.LEAST_UPPER_BOUND=2,sc.prototype.eachMapping=function(t,e,n){var r,i=e||null;switch(n||sc.GENERATED_ORDER){case sc.GENERATED_ORDER:r=this._generatedMappings;break;case sc.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;r.map((function(t){var e=null===t.source?null:this._sources.at(t.source);return null!=e&&null!=o&&(e=Tu(o,e)),{source:e,generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}}),this).forEach(t,i)},sc.prototype.allGeneratedPositionsFor=function(t){var e=Eu(t,"line"),n={source:Eu(t,"source"),originalLine:e,originalColumn:Eu(t,"column",0)};if(null!=this.sourceRoot&&(n.source=Lu(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Hu,2);if(i>=0){var o=this._originalMappings[i];if(void 0===t.column)for(var s=o.originalLine;o&&o.originalLine===s;)r.push({line:Eu(o,"generatedLine",null),column:Eu(o,"generatedColumn",null),lastColumn:Eu(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i];else for(var a=o.originalColumn;o&&o.originalLine===e&&o.originalColumn==a;)r.push({line:Eu(o,"generatedLine",null),column:Eu(o,"generatedColumn",null),lastColumn:Eu(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i]}return r};var ac=sc;function uc(t){var e=t;"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,"")));var n=Eu(e,"version"),r=Eu(e,"sources"),i=Eu(e,"names",[]),o=Eu(e,"sourceRoot",null),s=Eu(e,"sourcesContent",null),a=Eu(e,"mappings"),u=Eu(e,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(ku).map((function(t){return o&&Mu(o)&&Mu(t)?Lu(o,t):t})),this._names=nc.fromArray(i.map(String),!0),this._sources=nc.fromArray(r,!0),this.sourceRoot=o,this.sourcesContent=s,this._mappings=a,this.file=u}function cc(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function lc(t){var e=t;"string"==typeof t&&(e=JSON.parse(t.replace(/^\)\]\}'/,"")));var n=Eu(e,"version"),r=Eu(e,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new nc,this._names=new nc;var i={line:-1,column:0};this._sections=r.map((function(t){if(t.url)throw new Error("Support for url field in sections not implemented.");var e=Eu(t,"offset"),n=Eu(e,"line"),r=Eu(e,"column");if(n<i.line||n===i.line&&r<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=e,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new sc(Eu(t,"map"))}}))}uc.prototype=Object.create(sc.prototype),uc.prototype.consumer=sc,uc.fromSourceMap=function(t){var e=Object.create(uc.prototype),n=e._names=nc.fromArray(t._names.toArray(),!0),r=e._sources=nc.fromArray(t._sources.toArray(),!0);e.sourceRoot=t._sourceRoot,e.sourcesContent=t._generateSourcesContent(e._sources.toArray(),e.sourceRoot),e.file=t._file;for(var i=t._mappings.toArray().slice(),o=e.__generatedMappings=[],s=e.__originalMappings=[],a=0,u=i.length;a<u;a++){var c=i[a],l=new cc;l.generatedLine=c.generatedLine,l.generatedColumn=c.generatedColumn,c.source&&(l.source=r.indexOf(c.source),l.originalLine=c.originalLine,l.originalColumn=c.originalColumn,c.name&&(l.name=n.indexOf(c.name)),s.push(l)),o.push(l)}return oc(e.__originalMappings,Hu),e},uc.prototype._version=3,Object.defineProperty(uc.prototype,"sources",{get:function(){return this._sources.toArray().map((function(t){return null!=this.sourceRoot?Tu(this.sourceRoot,t):t}),this)}}),uc.prototype._parseMappings=function(t,e){for(var n,r,i,o,s,a=1,u=0,c=0,l=0,p=0,f=0,h=t.length,d=0,g={},y={},v=[],m=[];d<h;)if(";"===t.charAt(d))a++,d++,u=0;else if(","===t.charAt(d))d++;else{for((n=new cc).generatedLine=a,o=d;o<h&&!this._charIsMappingSeparator(t,o);o++);if(i=g[r=t.slice(d,o)])d+=r.length;else{for(i=[];d<o;)xu(t,d,y),s=y.value,d=y.rest,i.push(s);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");g[r]=i}n.generatedColumn=u+i[0],u=n.generatedColumn,i.length>1&&(n.source=p+i[1],p+=i[1],n.originalLine=c+i[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=l+i[3],l=n.originalColumn,i.length>4&&(n.name=f+i[4],f+=i[4])),m.push(n),"number"==typeof n.originalLine&&v.push(n)}oc(m,Bu),this.__generatedMappings=m,oc(v,Hu),this.__originalMappings=v},uc.prototype._findMapping=function(t,e,n,r,i,o){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[r]);return ec(t,e,i,o)},uc.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var e=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(e.generatedLine===n.generatedLine){e.lastGeneratedColumn=n.generatedColumn-1;continue}}e.lastGeneratedColumn=1/0}},uc.prototype.originalPositionFor=function(t){var e={generatedLine:Eu(t,"line"),generatedColumn:Eu(t,"column")},n=this._findMapping(e,this._generatedMappings,"generatedLine","generatedColumn",Bu,Eu(t,"bias",sc.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===e.generatedLine){var i=Eu(r,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=Tu(this.sourceRoot,i)));var o=Eu(r,"name",null);return null!==o&&(o=this._names.at(o)),{source:i,line:Eu(r,"originalLine",null),column:Eu(r,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}},uc.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(t){return null==t})))},uc.prototype.sourceContentFor=function(t,e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(t=Lu(this.sourceRoot,t)),this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];var n;if(null!=this.sourceRoot&&(n=Ru(this.sourceRoot))){var r=t.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},uc.prototype.generatedPositionFor=function(t){var e=Eu(t,"source");if(null!=this.sourceRoot&&(e=Lu(this.sourceRoot,e)),!this._sources.has(e))return{line:null,column:null,lastColumn:null};var n={source:e=this._sources.indexOf(e),originalLine:Eu(t,"line"),originalColumn:Eu(t,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Hu,Eu(t,"bias",sc.GREATEST_LOWER_BOUND));if(r>=0){var i=this._originalMappings[r];if(i.source===n.source)return{line:Eu(i,"generatedLine",null),column:Eu(i,"generatedColumn",null),lastColumn:Eu(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},lc.prototype=Object.create(sc.prototype),lc.prototype.constructor=sc,lc.prototype._version=3,Object.defineProperty(lc.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t}}),lc.prototype.originalPositionFor=function(t){var e={generatedLine:Eu(t,"line"),generatedColumn:Eu(t,"column")},n=ec(e,this._sections,(function(t,e){var n=t.generatedLine-e.generatedOffset.generatedLine;return n||t.generatedColumn-e.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:e.generatedLine-(r.generatedOffset.generatedLine-1),column:e.generatedColumn-(r.generatedOffset.generatedLine===e.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},lc.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(t){return t.consumer.hasContentsOfAllSources()}))},lc.prototype.sourceContentFor=function(t,e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(t,!0);if(r)return r}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},lc.prototype.generatedPositionFor=function(t){for(var e=0;e<this._sections.length;e++){var n=this._sections[e];if(-1!==n.consumer.sources.indexOf(Eu(t,"source"))){var r=n.consumer.generatedPositionFor(t);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},lc.prototype._parseMappings=function(t,e){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],i=r.consumer._generatedMappings,o=0;o<i.length;o++){var s=i[o],a=r.consumer._sources.at(s.source);null!==r.consumer.sourceRoot&&(a=Tu(r.consumer.sourceRoot,a)),this._sources.add(a),a=this._sources.indexOf(a);var u=r.consumer._names.at(s.name);this._names.add(u),u=this._names.indexOf(u);var c={source:a,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}oc(this.__generatedMappings,Bu),oc(this.__originalMappings,Hu)};var pc=ac;_u.SourceMapConsumer=pc;var fc=Zu,hc=/(\r?\n)/;function dc(t,e,n,r,i){this.children=[],this.sourceContents={},this.line=null==t?null:t,this.column=null==e?null:e,this.source=null==n?null:n,this.name=null==i?null:i,this.$$$isSourceNode$$$=!0,null!=r&&this.add(r)}dc.fromStringWithSourceMap=function(t,e,n){var r=new dc,i=t.split(hc),o=0,s=function(){return t()+(t()||"");function t(){return o<i.length?i[o++]:void 0}},a=1,u=0,c=null;return e.eachMapping((function(t){if(null!==c){if(!(a<t.generatedLine)){var e=(n=i[o]).substr(0,t.generatedColumn-u);return i[o]=n.substr(t.generatedColumn-u),u=t.generatedColumn,l(c,e),void(c=t)}l(c,s()),a++,u=0}for(;a<t.generatedLine;)r.add(s()),a++;if(u<t.generatedColumn){var n=i[o];r.add(n.substr(0,t.generatedColumn)),i[o]=n.substr(t.generatedColumn),u=t.generatedColumn}c=t}),this),o<i.length&&(c&&l(c,s()),r.add(i.splice(o).join(""))),e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=Tu(n,t)),r.setSourceContent(t,i))})),r;function l(t,e){if(null===t||void 0===t.source)r.add(e);else{var i=n?Tu(n,t.source):t.source;r.add(new dc(t.originalLine,t.originalColumn,i,e,t.name))}}},dc.prototype.add=function(t){if(Array.isArray(t))t.forEach((function(t){this.add(t)}),this);else{if(!t.$$$isSourceNode$$$&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},dc.prototype.prepend=function(t){if(Array.isArray(t))for(var e=t.length-1;e>=0;e--)this.prepend(t[e]);else{if(!t.$$$isSourceNode$$$&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},dc.prototype.walk=function(t){for(var e,n=0,r=this.children.length;n<r;n++)(e=this.children[n]).$$$isSourceNode$$$?e.walk(t):""!==e&&t(e,{source:this.source,line:this.line,column:this.column,name:this.name})},dc.prototype.join=function(t){var e,n,r=this.children.length;if(r>0){for(e=[],n=0;n<r-1;n++)e.push(this.children[n]),e.push(t);e.push(this.children[n]),this.children=e}return this},dc.prototype.replaceRight=function(t,e){var n=this.children[this.children.length-1];return n.$$$isSourceNode$$$?n.replaceRight(t,e):"string"==typeof n?this.children[this.children.length-1]=n.replace(t,e):this.children.push("".replace(t,e)),this},dc.prototype.setSourceContent=function(t,e){this.sourceContents[Du(t)]=e},dc.prototype.walkSourceContents=function(t){for(var e=0,n=this.children.length;e<n;e++)this.children[e].$$$isSourceNode$$$&&this.children[e].walkSourceContents(t);var r=Object.keys(this.sourceContents);for(e=0,n=r.length;e<n;e++)t($u(r[e]),this.sourceContents[r[e]])},dc.prototype.toString=function(){var t="";return this.walk((function(e){t+=e})),t},dc.prototype.toStringWithSourceMap=function(t){var e={code:"",line:1,column:0},n=new fc(t),r=!1,i=null,o=null,s=null,a=null;return this.walk((function(t,u){e.code+=t,null!==u.source&&null!==u.line&&null!==u.column?(i===u.source&&o===u.line&&s===u.column&&a===u.name||n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:e.line,column:e.column},name:u.name}),i=u.source,o=u.line,s=u.column,a=u.name,r=!0):r&&(n.addMapping({generated:{line:e.line,column:e.column}}),i=null,r=!1);for(var c=0,l=t.length;c<l;c++)10===t.charCodeAt(c)?(e.line++,e.column=0,c+1===l?(i=null,r=!1):r&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:e.line,column:e.column},name:u.name})):e.column++})),this.walkSourceContents((function(t,e){n.setSourceContent(t,e)})),{code:e.code,map:n}};var gc=dc;_u.SourceNode=gc;var yc,vc={},mc=!1;function _c(){var t,e;return mc||(mc=!0,t=yc={},e=function(){var t=/[#@] sourceMappingURL=([^\s'"]*)/,e=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+t.source+")\\s*\\*/|//(?:"+t.source+"))\\s*");return{regex:e,_innerRegex:t,getFrom:function(t){var n=t.match(e);return n?n[1]||n[2]||"":null},existsIn:function(t){return e.test(t)},removeFrom:function(t){return t.replace(e,"")},insertBefore:function(t,n){var r=t.match(e);return r?t.slice(0,r.index)+n+t.slice(r.index):t+n}}},"function"==typeof define&&define.amd?define(e):"object"==typeof yc?yc=e():t.sourceMappingURL=e()),yc}var bc,wc=!1;function Sc(){var t,e;return wc||(wc=!0,t=bc={},e=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var r,i=document.createElement("a"),o=1;o<t;o++)i.href=arguments[o],r=i.href,e.href=r;return n.removeChild(e),r}},"function"==typeof define&&define.amd?define(e):"object"==typeof bc?bc=e():t.resolveUrl=e()),bc}!function(t,e){if("function"==typeof define&&define.amd)define(["source-map-url","resolve-url"],e);else if("object"==typeof vc){var n=_c(),r=Sc();vc=e(n,r)}else t.sourceMapResolve=e(t.sourceMappingURL,t.resolveUrl)}(vc,(function(t,e){function n(t,e,n){setImmediate((function(){t(e,n)}))}function r(t,e){try{return JSON.parse(t.replace(/^\)\]\}'/,""))}catch(t){throw t.sourceMapData=e,t}}function i(t,e,n){var r=e;try{return String(t(r))}catch(t){throw t.sourceMapData=n,t}}function o(t,e,i,o){var s;try{s=l(t,e)}catch(t){return n(o,t)}if(!s||s.map)return n(o,null,s);i(s.url,(function(t,e){if(t)return t.sourceMapData=s,o(t);s.map=String(e);try{s.map=r(s.map,s)}catch(t){return o(t)}o(null,s)}))}function s(t,e,n){var o=l(t,e);return!o||o.map||(o.map=i(n,o.url,o),o.map=r(o.map,o)),o}var a=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,u=/^(?:application|text)\/json$/;function c(t){if("undefined"==typeof TextDecoder||"undefined"==typeof Uint8Array)return atob(t);var e=function(t){for(var e=atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}(t);return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function l(n,i){var o=t.getFrom(n);if(!o)return null;var s=o.match(a);if(s){var l=s[1]||"text/plain",p=s[2]||"",f=s[3]||"",h={sourceMappingURL:o,url:null,sourcesRelativeTo:i,map:f};if(!u.test(l)){var d=new Error("Unuseful data uri mime type: "+l);throw d.sourceMapData=h,d}try{h.map=r(";base64"===p?c(f):decodeURIComponent(f),h)}catch(d){throw d.sourceMapData=h,d}return h}var g=e(i,o);return{sourceMappingURL:o,url:g,sourcesRelativeTo:g,map:null}}function p(t,e,r,i,o){"function"==typeof i&&(o=i,i={});var s=t.sources?t.sources.length:0,a={sourcesResolved:[],sourcesContent:[]};if(0!==s){var u=function(){0===--s&&o(null,a)};d(t,e,i,(function(t,e,i){(a.sourcesResolved[i]=t,"string"==typeof e)?(a.sourcesContent[i]=e,n(u,null)):r(t,(function(t,e){a.sourcesContent[i]=t||String(e),u()}))}))}else n(o,null,a)}function f(t,e,n,r){var i={sourcesResolved:[],sourcesContent:[]};return t.sources&&0!==t.sources.length?(d(t,e,r,(function(t,e,r){if(i.sourcesResolved[r]=t,null!==n)if("string"==typeof e)i.sourcesContent[r]=e;else{var o=t;try{i.sourcesContent[r]=String(n(o))}catch(t){i.sourcesContent[r]=t}}})),i):i}var h=/\/?$/;function d(t,n,r,i){var o;r=r||{};for(var s=0,a=t.sources.length;s<a;s++)o=null,"string"==typeof r.sourceRoot?o=r.sourceRoot:"string"==typeof t.sourceRoot&&!1!==r.sourceRoot&&(o=t.sourceRoot),i(null===o||""===o?e(n,t.sources[s]):e(n,o.replace(h,"/"),t.sources[s]),(t.sourcesContent||[])[s],s)}return{resolveSourceMap:o,resolveSourceMapSync:s,resolveSources:p,resolveSourcesSync:f,resolve:function(t,e,n,i,s){if("function"==typeof i&&(s=i,i={}),null===t){var a={sourceMappingURL:null,url:e,sourcesRelativeTo:e,map:null};n(e,(function(t,e){if(t)return t.sourceMapData=a,s(t);a.map=String(e);try{a.map=r(a.map,a)}catch(t){return s(t)}u(a)}))}else o(t,e,n,(function(t,e){return t?s(t):e?void u(e):s(null,null)}));function u(t){p(t.map,t.sourcesRelativeTo,n,i,(function(e,n){if(e)return s(e);t.sourcesResolved=n.sourcesResolved,t.sourcesContent=n.sourcesContent,s(null,t)}))}},resolveSync:function(t,e,n,o){var a;if(null===t){(a={sourceMappingURL:null,url:e,sourcesRelativeTo:e,map:null}).map=i(n,e,a),a.map=r(a.map,a)}else if(!(a=s(t,e,n)))return null;var u=f(a.map,a.sourcesRelativeTo,n,o);return a.sourcesResolved=u.sourcesResolved,a.sourcesContent=u.sourcesContent,a},parseMapToJSON:r}}));var xc,Ec,Ac,Cc,Oc,Rc,Pc,jc=!1;function kc(){return jc||(jc=!0,(xc={}).extend=qo,Ec=_u,xc.SourceMap=Ec,Ac=vc,xc.sourceMapResolve=Ac,Cc=function(t){return t.split(/\\+/).join("/")},xc.unixify=Cc,Oc=function(t){return t&&"string"==typeof t},xc.isString=Oc,Rc=function(t){return"string"==typeof t?[t]:t?Array.isArray(t)?t:[t]:[]},xc.arrayify=Rc,Pc=function(t,e){return t[t.length-(e||1)]},xc.last=Pc),xc}var Tc=kc();function Mc(t,e){mu("initializing",__filename),this.options=Tc.extend({source:"string"},t),this.state=e||{},this.compilers={},this.output="",this.set("eos",(function(t){return this.emit(t.val,t)})),this.set("noop",(function(t){return this.emit(t.val,t)})),this.set("bos",(function(t){return this.emit(t.val,t)})),za(this)}var Lc,Fc,Nc,Dc,$c,Ic,Hc,Bc,Gc,Wc,qc,Uc=!1;function Vc(t){for(var e in Dc(t,"_comment",t.comment),t.map=new $c.SourceMap.SourceMapGenerator,t.position={line:1,column:1},t.content={},t.files={},Lc)Dc(t,e,Lc[e])}function zc(){return Uc||(Uc=!0,Lc={},Fc=r,Nc=u,Dc=Wo(),$c=kc(),Ic=function(t){var e=t.match(/\n/g);e&&(this.position.line+=e.length);var n=t.lastIndexOf("\n");this.position.column=~n?t.length-n:this.position.column+t.length},(Lc=Vc).updatePosition=Ic,Hc=function(t,e){var n=e.position||{},r=n.source;return r&&(n.filepath&&(r=$c.unixify(n.filepath)),this.map.addMapping({source:r,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:n.start.line,column:n.start.column-1}}),n.content&&this.addContent(r,n),n.filepath&&this.addFile(r,n),this.updatePosition(t),this.output+=t),t},Lc.emit=Hc,Bc=function(t,e){"string"==typeof e.content&&(Object.prototype.hasOwnProperty.call(this.files,t)||(this.files[t]=e.content))},Lc.addFile=Bc,Gc=function(t,e){"string"==typeof e.content&&(Object.prototype.hasOwnProperty.call(this.content,t)||this.map.setSourceContent(t,e.content))},Lc.addContent=Gc,Wc=function(){Object.keys(this.files).forEach((function(t){var e=this.files[t];if(this.map.setSourceContent(t,e),!0===this.options.inputSourcemaps){var n=$c.sourceMapResolve.resolveSync(e,t,Fc.readFileSync);if(n){var r=new $c.SourceMap.SourceMapConsumer(n.map),i=n.sourcesRelativeTo;this.map.applySourceMap(r,t,$c.unixify(Nc.dirname(i)))}}}),this)},Lc.applySourceMaps=Wc,qc=function(t){return/^# sourceMappingURL=/.test(t.comment)?this.emit("",t.position):this._comment(t)},Lc.comment=qc),Lc}Mc.prototype={error:function(t,e){var n=e.position||{start:{column:0}},r=this.options.source+" column:"+n.start.column+": "+t,i=new Error(r);if(i.reason=t,i.column=n.start.column,i.source=this.pattern,!this.options.silent)throw i;this.errors.push(i)},define:function(t,e){return Za(this,t,e),this},emit:function(t,e){return this.output+=t,t},set:function(t,e){return this.compilers[t]=e,this},get:function(t){return this.compilers[t]},prev:function(t){return this.ast.nodes[this.idx-(t||1)]||{type:"bos",val:""}},next:function(t){return this.ast.nodes[this.idx+(t||1)]||{type:"eos",val:""}},visit:function(t,e,n){var r=this.compilers[t.type];if(this.idx=n,"function"!=typeof r)throw this.error('compiler "'+t.type+'" is not registered',t);return r.call(this,t,e,n)},mapVisit:function(t){if(!Array.isArray(t))throw new TypeError("expected an array");for(var e=t.length,n=-1;++n<e;)this.visit(t[n],t,n);return this},compile:function(t,e){var n=Tc.extend({},this.options,e);return this.ast=t,this.parsingErrors=this.ast.errors,this.output="",n.sourcemap?(zc()(this),this.mapVisit(this.ast.nodes),this.applySourceMaps(),this.map="generator"===n.sourcemap?this.map:this.map.toJSON(),this):(this.mapVisit(this.ast.nodes),this)}},Qa=Mc;var Kc={},Qc=o,Xc={},Yc=Object.prototype.hasOwnProperty;function Zc(t){this.__data__=t||{}}Xc=Zc,Zc.prototype.set=function(t,e){return"__proto__"!==t&&(this.__data__[t]=e),this},Zc.prototype.get=function(t){return"__proto__"===t?void 0:this.__data__[t]},Zc.prototype.has=function(t){return"__proto__"!==t&&Yc.call(this.__data__,t)},Zc.prototype.del=function(t){return this.has(t)&&delete this.__data__[t]};var Jc,tl=Wo(),el=Ja("snapdragon:parser"),nl=Wo();Jc=function(t,e){this.start=t,this.end={line:e.line,column:e.column},nl(this,"content",e.orig),nl(this,"source",e.options.source)};var rl=kc();function il(t){el("initializing",__filename),this.options=rl.extend({source:"string"},t),this.init(this.options),za(this)}function ol(t,e){return t.visited?t:(tl(t,"visited",!0),t.nodes?function(t,e){var n=t.length,r=-1;for(;++r<n;)ol(t[r],e)}(t.nodes,e):e(t))}function sl(t){return function(t){return t.nodes&&t.nodes[0].type===t.type+".open"}(t)&&function(t){return t.nodes&&rl.last(t.nodes).type===t.type+".close"}(t)}il.prototype={constructor:il,init:function(t){this.orig="",this.input="",this.parsed="",this.column=1,this.line=1,this.regex=new Xc,this.errors=this.errors||[],this.parsers=this.parsers||{},this.types=this.types||[],this.sets=this.sets||{},this.fns=this.fns||[],this.currentType="root";var e=this.position();this.bos=e({type:"bos",val:""}),this.ast={type:"root",errors:this.errors,nodes:[this.bos]},tl(this.bos,"parent",this.ast),this.nodes=[this.ast],this.count=0,this.setCount=0,this.stack=[]},error:function(t,e){var n=e.position||{start:{column:0,line:0}},r=n.start.line,i=n.start.column,o=this.options.source,s=new Error(o+" <line:"+r+" column:"+i+">: "+t);if(s.source=o,s.reason=t,s.pos=n,!this.options.silent)throw s;this.errors.push(s)},define:function(t,e){return tl(this,t,e),this},position:function(){var t={line:this.line,column:this.column},e=this;return function(n){return tl(n,"position",new Jc(t,e)),n}},set:function(t,e){return-1===this.types.indexOf(t)&&this.types.push(t),this.parsers[t]=e.bind(this),this},get:function(t){return this.parsers[t]},push:function(t,e){return this.sets[t]=this.sets[t]||[],this.count++,this.stack.push(e),this.sets[t].push(e)},pop:function(t){return this.sets[t]=this.sets[t]||[],this.count--,this.stack.pop(),this.sets[t].pop()},isInside:function(t){return this.sets[t]=this.sets[t]||[],this.sets[t].length>0},isType:function(t,e){return t&&t.type===e},prev:function(t){return this.stack.length>0?rl.last(this.stack,t):rl.last(this.nodes,t)},consume:function(t){this.input=this.input.substr(t)},updatePosition:function(t,e){var n=t.match(/\n/g);n&&(this.line+=n.length);var r=t.lastIndexOf("\n");this.column=~r?e-r:this.column+e,this.parsed+=t,this.consume(e)},match:function(t){var e=t.exec(this.input);if(e)return this.updatePosition(e[0],e[0].length),e},capture:function(t,e){return"function"==typeof e?this.set.apply(this,arguments):(this.regex.set(t,e),this.set(t,function(){var n=this.parsed,r=this.position(),i=this.match(e);if(i&&i[0]){var o=this.prev(),s=r({type:t,val:i[0],parsed:n,rest:this.input});i[1]&&(s.inner=i[1]),tl(s,"inside",this.stack.length>0),tl(s,"parent",o),o.nodes.push(s)}}.bind(this)),this)},capturePair:function(t,e,n,r){return this.sets[t]=this.sets[t]||[],this.set(t+".open",(function(){var n=this.parsed,i=this.position(),o=this.match(e);if(o&&o[0]){var s=o[0];this.setCount++,this.specialChars=!0;var a=i({type:t+".open",val:s,rest:this.input});void 0!==o[1]&&(a.inner=o[1]);var u=this.prev(),c=i({type:t,nodes:[a]});tl(c,"rest",this.input),tl(c,"parsed",n),tl(c,"prefix",o[1]),tl(c,"parent",u),tl(a,"parent",c),"function"==typeof r&&r.call(this,a,c),this.push(t,c),u.nodes.push(c)}})),this.set(t+".close",(function(){var e=this.position(),r=this.match(n);if(r&&r[0]){var i=this.pop(t),o=e({type:t+".close",rest:this.input,suffix:r[1],val:r[0]});if(!this.isType(i,t)){if(this.options.strict)throw new Error('missing opening "'+t+'"');return this.setCount--,o.escaped=!0,o}"\\"===o.suffix&&(i.escaped=!0,o.escaped=!0),i.nodes.push(o),tl(o,"parent",i)}})),this},eos:function(){var t=this.position();if(!this.input){for(var e=this.prev();"root"!==e.type&&!e.visited;){if(!0===this.options.strict)throw new SyntaxError("invalid syntax:"+Qc.inspect(e,null,2));sl(e)||(e.parent.escaped=!0,e.escaped=!0),ol(e,(function(t){sl(t.parent)||(t.parent.escaped=!0,t.escaped=!0)})),e=e.parent}var n=t({type:"eos",val:this.append||""});return tl(n,"parent",this.ast),n}},next:function(){for(var t,e=this.parsed,n=this.types.length,r=-1;++r<n;)if(t=this.parsers[this.types[r]].call(this))return tl(t,"rest",this.input),tl(t,"parsed",e),this.last=t,t},parse:function(t){if("string"!=typeof t)throw new TypeError("expected a string");this.init(this.options),this.orig=t,this.input=t;var e=this;function n(){t=e.input;var n=e.next();if(n){var r=e.prev();r&&(tl(n,"parent",r),r.nodes&&r.nodes.push(n)),e.sets.hasOwnProperty(r.type)&&(e.currentType=r.type)}if(e.input&&t===e.input)throw new Error('no parsers registered for: "'+e.input.slice(0,5)+'"')}for(;this.input;)n();if(this.stack.length&&this.options.strict){var r=this.stack.pop();throw this.error("missing opening "+r.type+': "'+this.orig+'"')}var i=this.eos();return"eos"!==this.prev().type&&this.ast.nodes.push(i),this.ast}},Kc=il;var al=kc();function ul(t){Ys.call(this,null,t),this.options=al.extend({source:"string"},this.options),this.compiler=new Qa(this.options),this.parser=new Kc(this.options),Object.defineProperty(this,"compilers",{get:function(){return this.compiler.compilers}}),Object.defineProperty(this,"parsers",{get:function(){return this.parser.parsers}}),Object.defineProperty(this,"regex",{get:function(){return this.parser.regex}})}function cl(t){this.options=qo({},t)}Ys.extend(ul),ul.prototype.capture=function(){return this.parser.capture.apply(this.parser,arguments)},ul.prototype.use=function(t){return t.call(this,this),this},ul.prototype.parse=function(t,e){this.options=al.extend({},this.options,e);var n=this.parser.parse(t,this.options);return Ka(n,"parser",this.parser),n},ul.prototype.compile=function(t,e){this.options=al.extend({},this.options,e);var n=this.compiler.compile(t,this.options);return Ka(n,"compiler",this.compiler),n},(Xs=ul).Compiler=Qa,Xs.Parser=Kc,cl.prototype.init=function(t){if(!this.isInitialized){this.isInitialized=!0;var e=ns.createOptions({},this.options,t);this.snapdragon=this.options.snapdragon||new Xs(e),this.compiler=this.snapdragon.compiler,this.parser=this.snapdragon.parser,ts(this.snapdragon,e),Ds(this.snapdragon,e),ns.define(this.snapdragon,"parse",(function(t,e){var n=Xs.prototype.parse.apply(this,arguments);this.parser.ast.input=t;for(var r=this.parser.stack;r.length;)i({type:"brace.close",val:""},r.pop());function i(t,e){ns.define(t,"parent",e),e.nodes.push(t)}return ns.define(n,"parser",this.parser),n}))}},cl.prototype.parse=function(t,e){return t&&"object"==typeof t&&t.nodes?t:(this.init(e),this.snapdragon.parse(t,e))},cl.prototype.compile=function(t,e){return"string"==typeof t?t=this.parse(t,e):this.init(e),this.snapdragon.compile(t,e)},cl.prototype.expand=function(t){var e=this.parse(t,{expand:!0});return this.compile(e,{expand:!0})},cl.prototype.optimize=function(t){var e=this.parse(t,{optimize:!0});return this.compile(e,{optimize:!0})},Qs=cl;var ll={};function pl(t,e){var n=ns.createKey(String(t),e),r=[],i=e&&!1===e.cache;if(!i&&ll.hasOwnProperty(n))return ll[n];if(Array.isArray(t))for(var o=0;o<t.length;o++)r.push.apply(r,pl.create(t[o],e));else r=pl.create(t,e);return e&&!0===e.nodupes&&(r=Jo(r)),i||(ll[n]=r),r}function fl(t,e,n,r){var i=ns.createKey(t+":"+e,n);if(n&&!1===n.cache)return pl.clearCache(),r(e,n);if(ll.hasOwnProperty(i))return ll[i];var o=r(e,n);return ll[i]=o,o}pl.expand=function(t,e){return pl.create(t,qo({},e,{expand:!0}))},pl.optimize=function(t,e){return pl.create(t,e)},pl.create=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");var n=e&&e.maxLength||65536;if(t.length>=n)throw new Error("expected pattern to be less than "+n+" characters");return fl("create",t,e,(function(){if(""===t||t.length<3)return[t];if(ns.isEmptySets(t))return[];if(ns.isQuotedString(t))return[t.slice(1,-1)];var n=new Qs(e),r=e&&!0===e.expand?n.expand(t,e):n.optimize(t,e),i=r.output;return e&&!0===e.noempty&&(i=i.filter(Boolean)),e&&!0===e.nodupes&&(i=Jo(i)),Object.defineProperty(i,"result",{enumerable:!1,value:r}),i}))},pl.makeRe=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");var n=e&&e.maxLength||65536;if(t.length>=n)throw new Error("expected pattern to be less than "+n+" characters");return fl("makeRe",t,e,(function(){var n=pl(t,e),r=qo({strictErrors:!1},e);return po(n,r)}))},pl.parse=function(t,e){return new Qs(e).parse(t,e)},pl.compile=function(t,e){return new Qs(e).compile(t,e)},pl.clearCache=function(){ll=pl.cache={}},pl.Braces=Qs,pl.compilers=ts,pl.parsers=Ds,pl.cache=ll,go=pl;var hl={};const dl=u;var gl={};const yl=u,vl="win32"===process.platform;var ml={};const _l=u,bl={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},wl={...bl,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};ml={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:_l.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?wl:bl};const{REGEX_BACKSLASH:Sl,REGEX_REMOVE_BACKSLASH:xl,REGEX_SPECIAL_CHARS:El,REGEX_SPECIAL_CHARS_GLOBAL:Al}=ml;var Cl=t=>t.replace(Al,"\\$1"),Ol=t=>t.replace(Sl,"/"),Rl=t=>t.replace(xl,(t=>"\\"===t?"":t)),Pl=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},jl=t=>t&&"boolean"==typeof t.windows?t.windows:!0===vl||"\\"===yl.sep,kl=(t,e,n)=>{const r=t.lastIndexOf(e,n);return-1===r?t:"\\"===t[r-1]?kl(t,e,r-1):`${t.slice(0,r)}\\${t.slice(r)}`},Tl=(t,e={})=>{let n=t;return n.startsWith("./")&&(n=n.slice(2),e.prefix="./"),n};const{CHAR_ASTERISK:Ml,CHAR_AT:Ll,CHAR_BACKWARD_SLASH:Fl,CHAR_COMMA:Nl,CHAR_DOT:Dl,CHAR_EXCLAMATION_MARK:$l,CHAR_FORWARD_SLASH:Il,CHAR_LEFT_CURLY_BRACE:Hl,CHAR_LEFT_PARENTHESES:Bl,CHAR_LEFT_SQUARE_BRACKET:Gl,CHAR_PLUS:Wl,CHAR_QUESTION_MARK:ql,CHAR_RIGHT_CURLY_BRACE:Ul,CHAR_RIGHT_PARENTHESES:Vl,CHAR_RIGHT_SQUARE_BRACKET:zl}=ml,Kl=t=>t===Il||t===Fl,Ql=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};gl=(t,e)=>{const n=e||{},r=t.length-1,i=!0===n.parts||!0===n.scanToEnd,o=[],s=[],a=[];let u,c,l=t,p=-1,f=0,h=0,d=!1,g=!1,y=!1,v=!1,m=!1,_=!1,b=!1,w=!1,S=!1,x=0,E={value:"",depth:0,isGlob:!1};const A=()=>p>=r,C=()=>(u=c,l.charCodeAt(++p));for(;p<r;){let t;if(c=C(),c!==Fl){if(!0===_||c===Hl){for(x++;!0!==A()&&(c=C());)if(c!==Fl)if(c!==Hl){if(!0!==_&&c===Dl&&(c=C())===Dl){if(d=E.isBrace=!0,y=E.isGlob=!0,S=!0,!0===i)continue;break}if(!0!==_&&c===Nl){if(d=E.isBrace=!0,y=E.isGlob=!0,S=!0,!0===i)continue;break}if(c===Ul&&(x--,0===x)){_=!1,d=E.isBrace=!0,S=!0;break}}else x++;else b=E.backslashes=!0,C();if(!0===i)continue;break}if(c!==Il){if(!0!==n.noext){if(!0===(c===Wl||c===Ll||c===Ml||c===ql||c===$l)&&l.charCodeAt(p+1)===Bl){if(y=E.isGlob=!0,v=E.isExtglob=!0,S=!0,!0===i){for(;!0!==A()&&(c=C());)if(c!==Fl){if(c===Vl){y=E.isGlob=!0,S=!0;break}}else b=E.backslashes=!0,c=C();continue}break}}if(c===Ml){if(u===Ml&&(m=E.isGlobstar=!0),y=E.isGlob=!0,S=!0,!0===i)continue;break}if(c===ql){if(y=E.isGlob=!0,S=!0,!0===i)continue;break}if(c===Gl)for(;!0!==A()&&(t=C());)if(t!==Fl){if(t===zl){if(g=E.isBracket=!0,y=E.isGlob=!0,S=!0,!0===i)continue;break}}else b=E.backslashes=!0,C();if(!0===n.nonegate||c!==$l||p!==f){if(!0!==n.noparen&&c===Bl){if(y=E.isGlob=!0,!0===i){for(;!0!==A()&&(c=C());)if(c!==Bl){if(c===Vl){S=!0;break}}else b=E.backslashes=!0,c=C();continue}break}if(!0===y){if(S=!0,!0===i)continue;break}}else w=E.negated=!0,f++}else{if(o.push(p),s.push(E),E={value:"",depth:0,isGlob:!1},!0===S)continue;if(u===Dl&&p===f+1){f+=2;continue}h=p+1}}else b=E.backslashes=!0,c=C(),c===Hl&&(_=!0)}!0===n.noext&&(v=!1,y=!1);let O=l,R="",P="";f>0&&(R=l.slice(0,f),l=l.slice(f),h-=f),O&&!0===y&&h>0?(O=l.slice(0,h),P=l.slice(h)):!0===y?(O="",P=l):O=l,O&&""!==O&&"/"!==O&&O!==l&&Kl(O.charCodeAt(O.length-1))&&(O=O.slice(0,-1)),!0===n.unescape&&(P&&(P=Rl(P)),O&&!0===b&&(O=Rl(O)));const j={prefix:R,input:t,start:f,base:O,glob:P,isBrace:d,isBracket:g,isGlob:y,isExtglob:v,isGlobstar:m,negated:w};if(!0===n.tokens&&(j.maxDepth=0,Kl(c)||s.push(E),j.tokens=s),!0===n.parts||!0===n.tokens){let e;for(let r=0;r<o.length;r++){const i=e?e+1:f,u=o[r],c=t.slice(i,u);n.tokens&&(0===r&&0!==f?(s[r].isPrefix=!0,s[r].value=R):s[r].value=c,Ql(s[r]),j.maxDepth+=s[r].depth),0===r&&""===c||a.push(c),e=u}if(e&&e+1<t.length){const r=t.slice(e+1);a.push(r),n.tokens&&(s[s.length-1].value=r,Ql(s[s.length-1]),j.maxDepth+=s[s.length-1].depth)}j.slashes=o,j.parts=a}return j};var Xl={};const{MAX_LENGTH:Yl,POSIX_REGEX_SOURCE:Zl,REGEX_NON_SPECIAL_CHARS:Jl,REGEX_SPECIAL_CHARS_BACKREF:tp,REPLACEMENTS:ep}=ml,np=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const n=`[${t.join("-")}]`;try{new RegExp(n)}catch(e){return t.map((t=>Cl(t))).join("..")}return n},rp=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,ip=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=ep[t]||t;const n={...e},r="number"==typeof n.maxLength?Math.min(Yl,n.maxLength):Yl;let i=t.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);const o={type:"bos",value:"",output:n.prepend||""},s=[o],a=n.capture?"":"?:",u=jl(e),c=ml.globChars(u),l=ml.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:g,NO_DOT:y,NO_DOT_SLASH:v,NO_DOTS_SLASH:m,QMARK:_,QMARK_NO_DOT:b,STAR:w,START_ANCHOR:S}=c,x=t=>`(${a}(?:(?!${S}${t.dot?g:p}).)*?)`,E=n.dot?"":y,A=n.dot?_:b;let C=!0===n.bash?x(n):w;n.capture&&(C=`(${C})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const O={input:t,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=Tl(t,O),i=t.length;const R=[],P=[],j=[];let k,T=o;const M=()=>O.index===i-1,L=O.peek=(e=1)=>t[O.index+e],F=O.advance=()=>t[++O.index],N=()=>t.slice(O.index+1),D=(t="",e=0)=>{O.consumed+=t,O.index+=e},$=t=>{O.output+=null!=t.output?t.output:t.value,D(t.value)},I=()=>{let t=1;for(;"!"===L()&&("("!==L(2)||"?"===L(3));)F(),O.start++,t++;return t%2!=0&&(O.negated=!0,O.start++,!0)},H=t=>{O[t]++,j.push(t)},B=t=>{O[t]--,j.pop()},G=t=>{if("globstar"===T.type){const e=O.braces>0&&("comma"===t.type||"brace"===t.type),n=!0===t.extglob||R.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||n||(O.output=O.output.slice(0,-T.output.length),T.type="star",T.value="*",T.output=C,O.output+=T.output)}if(R.length&&"paren"!==t.type&&!l[t.value]&&(R[R.length-1].inner+=t.value),(t.value||t.output)&&$(t),T&&"text"===T.type&&"text"===t.type)return T.value+=t.value,void(T.output=(T.output||"")+t.value);t.prev=T,s.push(t),T=t},W=(t,e)=>{const r={...l[e],conditions:1,inner:""};r.prev=T,r.parens=O.parens,r.output=O.output;const i=(n.capture?"(":"")+r.open;H("parens"),G({type:t,value:e,output:O.output?"":d}),G({type:"paren",extglob:!0,value:F(),output:i}),R.push(r)},q=t=>{let e=t.close+(n.capture?")":"");if("negate"===t.type){let r=C;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(r=x(n)),(r!==C||M()||/^\)+$/.test(N()))&&(e=t.close=`)$))${r}`),"bos"===t.prev.type&&M()&&(O.negatedExtglob=!0)}G({type:"paren",extglob:!0,value:k,output:e}),B("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let r=!1,i=t.replace(tp,((t,e,n,i,o,s)=>"\\"===i?(r=!0,t):"?"===i?e?e+i+(o?_.repeat(o.length):""):0===s?A+(o?_.repeat(o.length):""):_.repeat(n.length):"."===i?p.repeat(n.length):"*"===i?e?e+i+(o?C:""):C:e?t:`\\${t}`));return!0===r&&(i=!0===n.unescape?i.replace(/\\/g,""):i.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),i===t&&!0===n.contains?(O.output=t,O):(O.output=((t,e={},n={})=>{let r=`${n.contains?"":"^"}(?:${t})${n.contains?"":"$"}`;return!0===e.negated&&(r=`(?:^(?!${r}).*$)`),r})(i,O,e),O)}for(;!M();){if(k=F(),"\0"===k)continue;if("\\"===k){const t=L();if("/"===t&&!0!==n.bash)continue;if("."===t||";"===t)continue;if(!t){k+="\\",G({type:"text",value:k});continue}const e=/^\\+/.exec(N());let r=0;if(e&&e[0].length>2&&(r=e[0].length,O.index+=r,r%2!=0&&(k+="\\")),!0===n.unescape?k=F()||"":k+=F()||"",0===O.brackets){G({type:"text",value:k});continue}}if(O.brackets>0&&("]"!==k||"["===T.value||"[^"===T.value)){if(!1!==n.posix&&":"===k){const t=T.value.slice(1);if(t.includes("[")&&(T.posix=!0,t.includes(":"))){const t=T.value.lastIndexOf("["),e=T.value.slice(0,t),n=T.value.slice(t+2),r=Zl[n];if(r){T.value=e+r,O.backtrack=!0,F(),o.output||1!==s.indexOf(T)||(o.output=d);continue}}}("["===k&&":"!==L()||"-"===k&&"]"===L())&&(k=`\\${k}`),"]"!==k||"["!==T.value&&"[^"!==T.value||(k=`\\${k}`),!0===n.posix&&"!"===k&&"["===T.value&&(k="^"),T.value+=k,$({value:k});continue}if(1===O.quotes&&'"'!==k){k=Cl(k),T.value+=k,$({value:k});continue}if('"'===k){O.quotes=1===O.quotes?0:1,!0===n.keepQuotes&&G({type:"text",value:k});continue}if("("===k){H("parens"),G({type:"paren",value:k});continue}if(")"===k){if(0===O.parens&&!0===n.strictBrackets)throw new SyntaxError(rp("opening","("));const t=R[R.length-1];if(t&&O.parens===t.parens+1){q(R.pop());continue}G({type:"paren",value:k,output:O.parens?")":"\\)"}),B("parens");continue}if("["===k){if(!0!==n.nobracket&&N().includes("]"))H("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(rp("closing","]"));k=`\\${k}`}G({type:"bracket",value:k});continue}if("]"===k){if(!0===n.nobracket||T&&"bracket"===T.type&&1===T.value.length){G({type:"text",value:k,output:`\\${k}`});continue}if(0===O.brackets){if(!0===n.strictBrackets)throw new SyntaxError(rp("opening","["));G({type:"text",value:k,output:`\\${k}`});continue}B("brackets");const t=T.value.slice(1);if(!0===T.posix||"^"!==t[0]||t.includes("/")||(k=`/${k}`),T.value+=k,$({value:k}),!1===n.literalBrackets||(U=t,El.test(U)))continue;const e=Cl(T.value);if(O.output=O.output.slice(0,-T.value.length),!0===n.literalBrackets){O.output+=e,T.value=e;continue}T.value=`(${a}${e}|${T.value})`,O.output+=T.value;continue}if("{"===k&&!0!==n.nobrace){H("braces");const t={type:"brace",value:k,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};P.push(t),G(t);continue}if("}"===k){const t=P[P.length-1];if(!0===n.nobrace||!t){G({type:"text",value:k,output:k});continue}let e=")";if(!0===t.dots){const t=s.slice(),r=[];for(let e=t.length-1;e>=0&&(s.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&r.unshift(t[e].value);e=np(r,n),O.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const n=O.output.slice(0,t.outputIndex),r=O.tokens.slice(t.tokensIndex);t.value=t.output="\\{",k=e="\\}",O.output=n;for(const t of r)O.output+=t.output||t.value}G({type:"brace",value:k,output:e}),B("braces"),P.pop();continue}if("|"===k){R.length>0&&R[R.length-1].conditions++,G({type:"text",value:k});continue}if(","===k){let t=k;const e=P[P.length-1];e&&"braces"===j[j.length-1]&&(e.comma=!0,t="|"),G({type:"comma",value:k,output:t});continue}if("/"===k){if("dot"===T.type&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",s.pop(),T=o;continue}G({type:"slash",value:k,output:h});continue}if("."===k){if(O.braces>0&&"dot"===T.type){"."===T.value&&(T.output=p);const t=P[P.length-1];T.type="dots",T.output+=k,T.value+=k,t.dots=!0;continue}if(O.braces+O.parens===0&&"bos"!==T.type&&"slash"!==T.type){G({type:"text",value:k,output:p});continue}G({type:"dot",value:k,output:p});continue}if("?"===k){if(!(T&&"("===T.value)&&!0!==n.noextglob&&"("===L()&&"?"!==L(2)){W("qmark",k);continue}if(T&&"paren"===T.type){const t=L();let e=k;if("<"===t&&!Pl())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===T.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(N()))&&(e=`\\${k}`),G({type:"text",value:k,output:e});continue}if(!0!==n.dot&&("slash"===T.type||"bos"===T.type)){G({type:"qmark",value:k,output:b});continue}G({type:"qmark",value:k,output:_});continue}if("!"===k){if(!0!==n.noextglob&&"("===L()&&("?"!==L(2)||!/[!=<:]/.test(L(3)))){W("negate",k);continue}if(!0!==n.nonegate&&0===O.index){I();continue}}if("+"===k){if(!0!==n.noextglob&&"("===L()&&"?"!==L(2)){W("plus",k);continue}if(T&&"("===T.value||!1===n.regex){G({type:"plus",value:k,output:f});continue}if(T&&("bracket"===T.type||"paren"===T.type||"brace"===T.type)||O.parens>0){G({type:"plus",value:k});continue}G({type:"plus",value:f});continue}if("@"===k){if(!0!==n.noextglob&&"("===L()&&"?"!==L(2)){G({type:"at",extglob:!0,value:k,output:""});continue}G({type:"text",value:k});continue}if("*"!==k){"$"!==k&&"^"!==k||(k=`\\${k}`);const t=Jl.exec(N());t&&(k+=t[0],O.index+=t[0].length),G({type:"text",value:k});continue}if(T&&("globstar"===T.type||!0===T.star)){T.type="star",T.star=!0,T.value+=k,T.output=C,O.backtrack=!0,O.globstar=!0,D(k);continue}let e=N();if(!0!==n.noextglob&&/^\([^?]/.test(e)){W("star",k);continue}if("star"===T.type){if(!0===n.noglobstar){D(k);continue}const r=T.prev,i=r.prev,o="slash"===r.type||"bos"===r.type,s=i&&("star"===i.type||"globstar"===i.type);if(!0===n.bash&&(!o||e[0]&&"/"!==e[0])){G({type:"star",value:k,output:""});continue}const a=O.braces>0&&("comma"===r.type||"brace"===r.type),u=R.length&&("pipe"===r.type||"paren"===r.type);if(!o&&"paren"!==r.type&&!a&&!u){G({type:"star",value:k,output:""});continue}for(;"/**"===e.slice(0,3);){const n=t[O.index+4];if(n&&"/"!==n)break;e=e.slice(3),D("/**",3)}if("bos"===r.type&&M()){T.type="globstar",T.value+=k,T.output=x(n),O.output=T.output,O.globstar=!0,D(k);continue}if("slash"===r.type&&"bos"!==r.prev.type&&!s&&M()){O.output=O.output.slice(0,-(r.output+T.output).length),r.output=`(?:${r.output}`,T.type="globstar",T.output=x(n)+(n.strictSlashes?")":"|$)"),T.value+=k,O.globstar=!0,O.output+=r.output+T.output,D(k);continue}if("slash"===r.type&&"bos"!==r.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";O.output=O.output.slice(0,-(r.output+T.output).length),r.output=`(?:${r.output}`,T.type="globstar",T.output=`${x(n)}${h}|${h}${t})`,T.value+=k,O.output+=r.output+T.output,O.globstar=!0,D(k+F()),G({type:"slash",value:"/",output:""});continue}if("bos"===r.type&&"/"===e[0]){T.type="globstar",T.value+=k,T.output=`(?:^|${h}|${x(n)}${h})`,O.output=T.output,O.globstar=!0,D(k+F()),G({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-T.output.length),T.type="globstar",T.output=x(n),T.value+=k,O.output+=T.output,O.globstar=!0,D(k);continue}const r={type:"star",value:k,output:C};!0!==n.bash?!T||"bracket"!==T.type&&"paren"!==T.type||!0!==n.regex?(O.index!==O.start&&"slash"!==T.type&&"dot"!==T.type||("dot"===T.type?(O.output+=v,T.output+=v):!0===n.dot?(O.output+=m,T.output+=m):(O.output+=E,T.output+=E),"*"!==L()&&(O.output+=d,T.output+=d)),G(r)):(r.output=k,G(r)):(r.output=".*?","bos"!==T.type&&"slash"!==T.type||(r.output=E+r.output),G(r))}for(var U;O.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(rp("closing","]"));O.output=kl(O.output,"["),B("brackets")}for(;O.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(rp("closing",")"));O.output=kl(O.output,"("),B("parens")}for(;O.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(rp("closing","}"));O.output=kl(O.output,"{"),B("braces")}if(!0===n.strictSlashes||"star"!==T.type&&"bracket"!==T.type||G({type:"maybe_slash",value:"",output:`${h}?`}),!0===O.backtrack){O.output="";for(const t of O.tokens)O.output+=null!=t.output?t.output:t.value,t.suffix&&(O.output+=t.suffix)}return O};ip.fastpaths=(t,e)=>{const n={...e},r="number"==typeof n.maxLength?Math.min(Yl,n.maxLength):Yl,i=t.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);t=ep[t]||t;const o=jl(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:d}=ml.globChars(o),g=n.dot?p:l,y=n.dot?f:l,v=n.capture?"":"?:";let m=!0===n.bash?".*?":h;n.capture&&(m=`(${m})`);const _=t=>!0===t.noglobstar?m:`(${v}(?:(?!${d}${t.dot?c:s}).)*?)`,b=t=>{switch(t){case"*":return`${g}${u}${m}`;case".*":return`${s}${u}${m}`;case"*.*":return`${g}${m}${s}${u}${m}`;case"*/*":return`${g}${m}${a}${u}${y}${m}`;case"**":return g+_(n);case"**/*":return`(?:${g}${_(n)}${a})?${y}${u}${m}`;case"**/*.*":return`(?:${g}${_(n)}${a})?${y}${m}${s}${u}${m}`;case"**/.*":return`(?:${g}${_(n)}${a})?${s}${u}${m}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const n=b(e[1]);if(!n)return;return n+s+e[2]}}},w=Tl(t,{negated:!1,prefix:""});let S=b(w);return S&&!0!==n.strictSlashes&&(S+=`${a}?`),S},Xl=ip;const op=(t,e,n=!1)=>{if(Array.isArray(t)){const r=t.map((t=>op(t,e,n)));return t=>{for(const e of r){const n=e(t);if(n)return n}return!1}}const r=(i=t)&&"object"==typeof i&&!Array.isArray(i)&&t.tokens&&t.input;var i;if(""===t||"string"!=typeof t&&!r)throw new TypeError("Expected pattern to be a non-empty string");const o=e||{},s=jl(e),a=r?op.compileRe(t,e):op.makeRe(t,e,!1,!0),u=a.state;delete a.state;let c=()=>!1;if(o.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};c=op(o.ignore,t,n)}const l=(n,r=!1)=>{const{isMatch:i,match:l,output:p}=op.test(n,a,e,{glob:t,posix:s}),f={glob:t,state:u,regex:a,posix:s,input:n,output:p,match:l,isMatch:i};return"function"==typeof o.onResult&&o.onResult(f),!1===i?(f.isMatch=!1,!!r&&f):c(n)?("function"==typeof o.onIgnore&&o.onIgnore(f),f.isMatch=!1,!!r&&f):("function"==typeof o.onMatch&&o.onMatch(f),!r||f)};return n&&(l.state=u),l};op.test=(t,e,n,{glob:r,posix:i}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const o=n||{},s=o.format||(i?Ol:null);let a=t===r,u=a&&s?s(t):t;return!1===a&&(u=s?s(t):t,a=u===r),!1!==a&&!0!==o.capture||(a=!0===o.matchBase||!0===o.basename?op.matchBase(t,e,n,i):e.exec(u)),{isMatch:Boolean(a),match:a,output:u}},op.matchBase=(t,e,n,r=jl(n))=>(e instanceof RegExp?e:op.makeRe(e,n)).test(dl.basename(t)),op.isMatch=(t,e,n)=>op(e,n)(t),op.parse=(t,e)=>Array.isArray(t)?t.map((t=>op.parse(t,e))):Xl(t,{...e,fastpaths:!1}),op.scan=(t,e)=>gl(t,e),op.compileRe=(t,e,n=!1,r=!1)=>{if(!0===n)return t.output;const i=e||{},o=i.contains?"":"^",s=i.contains?"":"$";let a=`${o}(?:${t.output})${s}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const u=op.toRegex(a,e);return!0===r&&(u.state=t),u},op.makeRe=(t,e,n=!1,r=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");const i=e||{};let o,s={negated:!1,fastpaths:!0},a="";return t.startsWith("./")&&(t=t.slice(2),a=s.prefix="./"),!1===i.fastpaths||"."!==t[0]&&"*"!==t[0]||(o=Xl.fastpaths(t,e)),void 0===o?(s=Xl(t,e),s.prefix=a+(s.prefix||"")):s.output=o,op.compileRe(s,e,n,r)},op.toRegex=(t,e)=>{try{const n=e||{};return new RegExp(t,n.flags||(n.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},op.constants=ml,hl=op;const sp=t=>"string"==typeof t&&(""===t||"./"===t),ap=(t,e,n)=>{e=[].concat(e),t=[].concat(t);let r=new Set,i=new Set,o=new Set,s=0,a=t=>{o.add(t.output),n&&n.onResult&&n.onResult(t)};for(let o=0;o<e.length;o++){let u=hl(String(e[o]),{...n,onResult:a},!0),c=u.state.negated||u.state.negatedExtglob;c&&s++;for(let e of t){let t=u(e,!0);(c?!t.isMatch:t.isMatch)&&(c?r.add(t.output):(r.delete(t.output),i.add(t.output)))}}let u=(s===e.length?[...o]:[...i]).filter((t=>!r.has(t)));if(n&&0===u.length){if(!0===n.failglob)throw new Error(`No matches found for "${e.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?e.map((t=>t.replace(/\\/g,""))):e}return u};ap.match=ap,ap.matcher=(t,e)=>hl(t,e),ap.any=ap.isMatch=(t,e,n)=>hl(e,n)(t),ap.not=(t,e,n={})=>{e=[].concat(e).map(String);let r=new Set,i=[],o=ap(t,e,{...n,onResult:t=>{n.onResult&&n.onResult(t),i.push(t.output)}});for(let t of i)o.includes(t)||r.add(t);return[...r]},ap.contains=(t,e,n)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${lo.inspect(t)}"`);if(Array.isArray(e))return e.some((e=>ap.contains(t,e,n)));if("string"==typeof e){if(sp(t)||sp(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ap.isMatch(t,e,{...n,contains:!0})},ap.matchKeys=(t,e,n)=>{if(null===(r=t)||"object"!=typeof r||Array.isArray(r))throw new TypeError("Expected the first argument to be an object");var r;let i=ap(Object.keys(t),e,n),o={};for(let e of i)o[e]=t[e];return o},ap.some=(t,e,n)=>{let r=[].concat(t);for(let t of[].concat(e)){let e=hl(String(t),n);if(r.some((t=>e(t))))return!0}return!1},ap.every=(t,e,n)=>{let r=[].concat(t);for(let t of[].concat(e)){let e=hl(String(t),n);if(!r.every((t=>e(t))))return!1}return!0},ap.all=(t,e,n)=>{if("string"!=typeof t)throw new TypeError(`Expected a string: "${lo.inspect(t)}"`);return[].concat(e).every((e=>hl(e,n)(t)))},ap.capture=(t,e,n)=>{let r=jl(n),i=hl.makeRe(String(t),{...n,capture:!0}).exec(r?Ol(e):e);if(i)return i.slice(1).map((t=>void 0===t?"":t))},ap.makeRe=(...t)=>hl.makeRe(...t),ap.scan=(...t)=>hl.scan(...t),ap.parse=(t,e)=>{let n=[];for(let r of[].concat(t||[]))for(let t of go(String(r),e))n.push(hl.parse(t,e));return n},ap.braces=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return e&&!0===e.nobrace||!/\{.*\}/.test(t)?[t]:go(t,e)},ap.braceExpand=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");return ap.braces(t,{...e,expand:!0})},co=ap;const up=/[*?]|^!/,cp=/\[.*]/,lp=/(?:^|[^!*+?@])\(.*\|.*\)/,pp=/[!*+?@]\(.*\)/,fp=/{.*(?:,|\.\.).*}/;function hp(t,e={}){return!gp(t,e)}var dp=hp;function gp(t,e={}){return""!==t&&(!(!1!==e.caseSensitiveMatch&&!t.includes("\\"))||(!!(up.test(t)||cp.test(t)||lp.test(t))||(!(!1===e.extglob||!pp.test(t))||!(!1===e.braceExpansion||!fp.test(t)))))}Ji.isStaticPattern=dp;var yp=gp;Ji.isDynamicPattern=yp;var vp=function(t){return _p(t)?t.slice(1):t};Ji.convertToPositivePattern=vp;var mp=function(t){return"!"+t};function _p(t){return t.startsWith("!")&&"("!==t[1]}Ji.convertToNegativePattern=mp;var bp=_p;function wp(t){return!_p(t)}Ji.isNegativePattern=bp;var Sp=wp;Ji.isPositivePattern=Sp;var xp=function(t){return t.filter(_p)};Ji.getNegativePatterns=xp;var Ep=function(t){return t.filter(wp)};Ji.getPositivePatterns=Ep;var Ap=function(t){return no(t,{flipBackslashes:!1})};Ji.getBaseDirectory=Ap;var Cp=function(t){return t.includes("**")};function Op(t){return t.endsWith("/**")}Ji.hasGlobStar=Cp;var Rp=Op;Ji.endsWithSlashGlobStar=Rp;var Pp=function(t){const e=eo.basename(t);return Op(t)||hp(e)};Ji.isAffectDepthOfReadingPattern=Pp;var jp=function(t){return t.reduce(((t,e)=>t.concat(kp(e))),[])};function kp(t){return co.braces(t,{expand:!0,nodupes:!0})}Ji.expandPatternsWithBraceExpansion=jp;var Tp=kp;Ji.expandBraceExpansion=Tp;var Mp=function(t,e){let{parts:n}=hl.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return 0===n.length&&(n=[t]),n[0].startsWith("/")&&(n[0]=n[0].slice(1),n.unshift("")),n};function Lp(t,e){return co.makeRe(t,e)}Ji.getPatternParts=Mp;var Fp=Lp;Ji.makeRe=Fp;var Np=function(t,e){return t.map((t=>Lp(t,e)))};Ji.convertPatternsToRe=Np,to=function(t,e){return e.some((e=>e.test(t)))},Ji.matchAny=to;var Dp=Ji;Ti.pattern=Ji;var $p={};Object.defineProperty($p,"__esModule",{value:!0});var Ip=void 0;$p.merge=Ip;var Hp={};const Bp=e.PassThrough,Gp=Array.prototype.slice;function Wp(t,e){if(Array.isArray(t))for(let n=0,r=t.length;n<r;n++)t[n]=Wp(t[n],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(Bp(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}function qp(t){t.forEach((t=>t.emit("close")))}Hp=function(){const t=[],e=Gp.call(arguments);let n=!1,r=e[e.length-1];r&&!Array.isArray(r)&&null==r.pipe?e.pop():r={};const i=!1!==r.end,o=!0===r.pipeError;null==r.objectMode&&(r.objectMode=!0);null==r.highWaterMark&&(r.highWaterMark=65536);const s=Bp(r);function a(){for(let e=0,n=arguments.length;e<n;e++)t.push(Wp(arguments[e],r));return u(),this}function u(){if(n)return;n=!0;let e=t.shift();if(!e)return void process.nextTick(c);Array.isArray(e)||(e=[e]);let r=e.length+1;function i(){--r>0||(n=!1,u())}function a(t){function e(){t.removeListener("merge2UnpipeEnd",e),t.removeListener("end",e),o&&t.removeListener("error",n),i()}function n(t){s.emit("error",t)}if(t._readableState.endEmitted)return i();t.on("merge2UnpipeEnd",e),t.on("end",e),o&&t.on("error",n),t.pipe(s,{end:!1}),t.resume()}for(let t=0;t<e.length;t++)a(e[t]);i()}function c(){n=!1,s.emit("queueDrain"),i&&s.end()}s.setMaxListeners(0),s.add=a,s.on("unpipe",(function(t){t.emit("merge2UnpipeEnd")})),e.length&&a.apply(null,e);return s},Ip=function(t){const e=Hp(t);return t.forEach((t=>{t.once("error",(t=>e.emit("error",t)))})),e.once("close",(()=>qp(t))),e.once("end",(()=>qp(t))),e},$p.merge=Ip;var Up=$p;Ti.stream=$p;var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});var zp=(Kp=void 0,Vp.isString=Kp);Vp.isEmpty=zp;var Kp=function(t){return"string"==typeof t};Vp.isString=Kp,zp=function(t){return""===t},Vp.isEmpty=zp,Mi=Vp,Ti.string=Mi;var Qp=function(t,e){const n=Zp(t),r=tf(t,e.ignore),i=n.filter((t=>Ti.pattern.isStaticPattern(t,e))),o=n.filter((t=>Ti.pattern.isDynamicPattern(t,e))),s=Xp(i,r,!1),a=Xp(o,r,!0);return s.concat(a)};function Xp(t,e,n){const r=nf(t);if("."in r){return[af(".",t,e,n)]}return of(r,e,n)}ji.generate=Qp;var Yp=Xp;function Zp(t){return Ti.pattern.getPositivePatterns(t)}ji.convertPatternsToTasks=Yp;var Jp=Zp;function tf(t,e){return Ti.pattern.getNegativePatterns(t).concat(e).map(Ti.pattern.convertToPositivePattern)}ji.getPositivePatterns=Jp;var ef=tf;function nf(t){return t.reduce(((t,e)=>{const n=Ti.pattern.getBaseDirectory(e);return n in t?t[n].push(e):t[n]=[e],t}),{})}ji.getNegativePatternsAsPositive=ef;var rf=nf;function of(t,e,n){return Object.keys(t).map((r=>af(r,t[r],e,n)))}ji.groupPatternsByBaseDirectory=rf;var sf=of;function af(t,e,n,r){return{dynamic:r,positive:e,negative:n,base:t,patterns:[].concat(e,n.map(Ti.pattern.convertToNegativePattern))}}ji.convertPatternGroupsToTasks=sf,ki=af,ji.convertPatternGroupToTask=ki;var uf={};Object.defineProperty(uf,"__esModule",{value:!0});var cf={};Object.defineProperty(cf,"__esModule",{value:!0});const lf=e;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});var ff=(Af=void 0,Cf=pf.Settings=Af,pf.stat=Cf);pf.statSync=ff;var hf={};Object.defineProperty(hf,"__esModule",{value:!0});var df=void 0;function gf(t,e){t(e)}function yf(t,e){t(null,e)}hf.read=df,df=function(t,e,n){e.fs.lstat(t,((r,i)=>null!==r?gf(n,r):i.isSymbolicLink()&&e.followSymbolicLink?void e.fs.stat(t,((t,r)=>{if(null!==t)return e.throwErrorOnBrokenSymbolicLink?gf(n,t):yf(n,i);e.markSymbolicLink&&(r.isSymbolicLink=()=>!0),yf(n,r)})):yf(n,i)))},hf.read=df;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});var mf=void 0;vf.read=mf,mf=function(t,e){const n=e.fs.lstatSync(t);if(!n.isSymbolicLink()||!e.followSymbolicLink)return n;try{const n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(t){if(!e.throwErrorOnBrokenSymbolicLink)return n;throw t}},vf.read=mf;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});var bf={};Object.defineProperty(bf,"__esModule",{value:!0});var wf=(xf=void 0,bf.FILE_SYSTEM_ADAPTER=xf);bf.createFileSystemAdapter=wf;const Sf=r;var xf={lstat:Sf.lstat,stat:Sf.stat,lstatSync:Sf.lstatSync,statSync:Sf.statSync};bf.FILE_SYSTEM_ADAPTER=xf,wf=function(t){return void 0===t?bf.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},bf.FILE_SYSTEM_ADAPTER),t)},bf.createFileSystemAdapter=wf;var Ef=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=bf.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,e){return null!=t?t:e}};_f.default=Ef;var Af=_f.default;pf.Settings=Af;var Cf=function(t,e,n){if("function"==typeof e)return hf.read(t,Of(),e);hf.read(t,Of(e),n)};function Of(t={}){return t instanceof _f.default?t:new _f.default(t)}pf.stat=Cf,ff=function(t,e){const n=Of(e);return vf.read(t,n)},pf.statSync=ff;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});var Pf=(zh=void 0,Kh=Rf.walk=zh,Qh=Rf.walkSync=Kh,Rf.walkStream=Qh);Rf.Settings=Pf;var jf={};Object.defineProperty(jf,"__esModule",{value:!0});var kf={};Object.defineProperty(kf,"__esModule",{value:!0});const Tf=c;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});var Lf=(vh=void 0,mh=Mf.scandir=vh,Mf.scandirSync=mh);Mf.Settings=Lf;var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});var Nf=(Zf=void 0,th=Ff.read=Zf,Ff.readdirWithFileTypes=th);Ff.readdir=Nf;var Df={};Df=function(t,e){let n,r,i,o=!0;Array.isArray(t)?(n=[],r=t.length):(i=Object.keys(t),n={},r=i.length);function s(t){function r(){e&&e(t,n),e=null}o?$f(r):r()}function a(t,e,i){n[t]=i,(0==--r||e)&&s(e)}r?i?i.forEach((function(e){t[e]((function(t,n){a(e,t,n)}))})):t.forEach((function(t,e){t((function(t,n){a(e,t,n)}))})):s(null);o=!1};var $f={};let If;$f="function"==typeof queueMicrotask?queueMicrotask.bind(globalThis):t=>(If||(If=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)));var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});var Bf=void 0;Hf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Bf;const Gf=process.versions.node.split("."),Wf=parseInt(Gf[0],10),qf=parseInt(Gf[1],10);Bf=Wf>10||10===Wf&&qf>=10,Hf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Bf;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});var Vf=void 0;Uf.fs=Vf;var zf={};Object.defineProperty(zf,"__esModule",{value:!0});var Kf=void 0;zf.createDirentFromStats=Kf;class Qf{constructor(t,e){this.name=t,this.isBlockDevice=e.isBlockDevice.bind(e),this.isCharacterDevice=e.isCharacterDevice.bind(e),this.isDirectory=e.isDirectory.bind(e),this.isFIFO=e.isFIFO.bind(e),this.isFile=e.isFile.bind(e),this.isSocket=e.isSocket.bind(e),this.isSymbolicLink=e.isSymbolicLink.bind(e)}}Kf=function(t,e){return new Qf(t,e)},zf.createDirentFromStats=Kf,Vf=zf,Uf.fs=Vf;var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});var Yf=void 0;Xf.joinPathSegments=Yf,Yf=function(t,e,n){return t.endsWith(n)?t+e:t+n+e},Xf.joinPathSegments=Yf;var Zf=function(t,e,n){return!e.stats&&Hf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Jf(t,e,n):eh(t,e,n)};function Jf(t,e,n){e.fs.readdir(t,{withFileTypes:!0},((r,i)=>{if(null!==r)return nh(n,r);const o=i.map((n=>({dirent:n,name:n.name,path:Xf.joinPathSegments(t,n.name,e.pathSegmentSeparator)})));if(!e.followSymbolicLinks)return rh(n,o);const s=o.map((t=>function(t,e){return n=>{if(!t.dirent.isSymbolicLink())return n(null,t);e.fs.stat(t.path,((r,i)=>null!==r?e.throwErrorOnBrokenSymbolicLink?n(r):n(null,t):(t.dirent=Uf.fs.createDirentFromStats(t.name,i),n(null,t))))}}(t,e)));Df(s,((t,e)=>{if(null!==t)return nh(n,t);rh(n,e)}))}))}Ff.read=Zf;var th=Jf;function eh(t,e,n){e.fs.readdir(t,((r,i)=>{if(null!==r)return nh(n,r);const o=i.map((n=>Xf.joinPathSegments(t,n,e.pathSegmentSeparator))),s=o.map((t=>n=>pf.stat(t,e.fsStatSettings,n)));Df(s,((t,r)=>{if(null!==t)return nh(n,t);const s=[];i.forEach(((t,n)=>{const i=r[n],a={name:t,path:o[n],dirent:Uf.fs.createDirentFromStats(t,i)};e.stats&&(a.stats=i),s.push(a)})),rh(n,s)}))}))}function nh(t,e){t(e)}function rh(t,e){t(null,e)}Ff.readdirWithFileTypes=th,Nf=eh,Ff.readdir=Nf;var ih={};Object.defineProperty(ih,"__esModule",{value:!0});var oh=(sh=void 0,uh=ih.read=sh,ih.readdirWithFileTypes=uh);ih.readdir=oh;var sh=function(t,e){return!e.stats&&Hf.IS_SUPPORT_READDIR_WITH_FILE_TYPES?ah(t,e):ch(t,e)};function ah(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map((n=>{const r={dirent:n,name:n.name,path:Xf.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(r.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{const t=e.fs.statSync(r.path);r.dirent=Uf.fs.createDirentFromStats(r.name,t)}catch(t){if(e.throwErrorOnBrokenSymbolicLink)throw t}return r}))}ih.read=sh;var uh=ah;function ch(t,e){return e.fs.readdirSync(t).map((n=>{const r=Xf.joinPathSegments(t,n,e.pathSegmentSeparator),i=pf.statSync(r,e.fsStatSettings),o={name:n,path:r,dirent:Uf.fs.createDirentFromStats(n,i)};return e.stats&&(o.stats=i),o}))}ih.readdirWithFileTypes=uh,oh=ch,ih.readdir=oh;var lh={};Object.defineProperty(lh,"__esModule",{value:!0});const ph=u;var fh={};Object.defineProperty(fh,"__esModule",{value:!0});var hh=(gh=void 0,fh.FILE_SYSTEM_ADAPTER=gh);fh.createFileSystemAdapter=hh;const dh=r;var gh={lstat:dh.lstat,stat:dh.stat,lstatSync:dh.lstatSync,statSync:dh.statSync,readdir:dh.readdir,readdirSync:dh.readdirSync};fh.FILE_SYSTEM_ADAPTER=gh,hh=function(t){return void 0===t?fh.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},fh.FILE_SYSTEM_ADAPTER),t)},fh.createFileSystemAdapter=hh;var yh=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=fh.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,ph.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new pf.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}};lh.default=yh,Lf=lh.default,Mf.Settings=Lf;var vh=function(t,e,n){if("function"==typeof e)return Ff.read(t,_h(),e);Ff.read(t,_h(e),n)};Mf.scandir=vh;var mh=function(t,e){const n=_h(e);return ih.read(t,n)};function _h(t={}){return t instanceof lh.default?t:new lh.default(t)}Mf.scandirSync=mh;var bh={},wh={};function Sh(t,e,n){if("function"==typeof t&&(n=e,e=t,t=null),n<1)throw new Error("fastqueue concurrency must be greater than 1");var r=wh(Eh),i=null,o=null,s=0,a=null,u={push:function(n,l){var p=r.get();p.context=t,p.release=c,p.value=n,p.callback=l||xh,p.errorHandler=a,s===u.concurrency||u.paused?o?(o.next=p,o=p):(i=p,o=p,u.saturated()):(s++,e.call(t,p.value,p.worked))},drain:xh,saturated:xh,pause:function(){u.paused=!0},paused:!1,concurrency:n,running:function(){return s},resume:function(){if(!u.paused)return;u.paused=!1;for(var t=0;t<u.concurrency;t++)s++,c()},idle:function(){return 0===s&&0===u.length()},length:function(){var t=i,e=0;for(;t;)t=t.next,e++;return e},getQueue:function(){var t=i,e=[];for(;t;)e.push(t.value),t=t.next;return e},unshift:function(n,a){var l=r.get();l.context=t,l.release=c,l.value=n,l.callback=a||xh,s===u.concurrency||u.paused?i?(l.next=i,i=l):(i=l,o=l,u.saturated()):(s++,e.call(t,l.value,l.worked))},empty:xh,kill:function(){i=null,o=null,u.drain=xh},killAndDrain:function(){i=null,o=null,u.drain(),u.drain=xh},error:function(t){a=t}};return u;function c(n){n&&r.release(n);var a=i;a?u.paused?s--:(o===i&&(o=null),i=a.next,a.next=null,e.call(t,a.value,a.worked),null===o&&u.empty()):0==--s&&u.drain()}}function xh(){}function Eh(){this.value=null,this.callback=xh,this.next=null,this.release=xh,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,n){var r=t.callback,i=t.errorHandler,o=t.value;t.value=null,t.callback=xh,t.errorHandler&&i(e,o),r.call(t.context,e,n),t.release(t)}}wh=function(t){var e=new t,n=e;return{get:function(){var r=e;return r.next?e=r.next:(e=new t,n=e),r.next=null,r},release:function(t){n.next=t,n=t}}};var Ah=function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null);var r=Sh(t,(function(t,n){e.call(this,t).then((function(t){n(null,t)}),n)}),n),i=r.push,o=r.unshift;return r.push=function(t){return new Promise((function(e,n){i(t,(function(t,r){t?n(t):e(r)}))}))},r.unshift=function(t){return new Promise((function(e,n){o(t,(function(t,r){t?n(t):e(r)}))}))},r};(bh=Sh).promise=Ah;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});var Oh=(Rh=void 0,Ph=Ch.isFatalError=Rh,jh=Ch.isAppliedFilter=Ph,Ch.replacePathSegmentSeparator=jh);Ch.joinPathSegments=Oh;var Rh=function(t,e){return null===t.errorFilter||!t.errorFilter(e)};Ch.isFatalError=Rh;var Ph=function(t,e){return null===t||t(e)};Ch.isAppliedFilter=Ph;var jh=function(t,e){return t.split(/[/\\]/).join(e)};Ch.replacePathSegmentSeparator=jh,Oh=function(t,e,n){return""===t?e:t.endsWith(n)?t+e:t+n+e},Ch.joinPathSegments=Oh;var kh={};Object.defineProperty(kh,"__esModule",{value:!0});var Th=class{constructor(t,e){this._root=t,this._settings=e,this._root=Ch.replacePathSegmentSeparator(t,e.pathSegmentSeparator)}};kh.default=Th;class Mh extends kh.default{constructor(t,e){super(t,e),this._settings=e,this._scandir=Mf.scandir,this._emitter=new Tf.EventEmitter,this._queue=bh(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,e){const n={directory:t,base:e};this._queue.push(n,(t=>{null!==t&&this._handleError(t)}))}_worker(t,e){this._scandir(t.directory,this._settings.fsScandirSettings,((n,r)=>{if(null!==n)return e(n,void 0);for(const e of r)this._handleEntry(e,t.base);e(null,void 0)}))}_handleError(t){!this._isDestroyed&&Ch.isFatalError(this._settings,t)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,e){if(this._isDestroyed||this._isFatalError)return;const n=t.path;void 0!==e&&(t.path=Ch.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),Ch.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Ch.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,t.path)}_emitEntry(t){this._emitter.emit("entry",t)}}var Lh=Mh;kf.default=Lh;var Fh=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new kf.default(this._root,this._settings),this._storage=new Set}read(t){this._reader.onError((e=>{!function(t,e){t(e)}(t,e)})),this._reader.onEntry((t=>{this._storage.add(t)})),this._reader.onEnd((()=>{!function(t,e){t(null,e)}(t,[...this._storage])})),this._reader.read()}};jf.default=Fh;var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});const Dh=e;var $h=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new kf.default(this._root,this._settings),this._stream=new Dh.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((t=>{this._stream.emit("error",t)})),this._reader.onEntry((t=>{this._stream.push(t)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}};Nh.default=$h;var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});var Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});class Bh extends kh.default{constructor(){super(...arguments),this._scandir=Mf.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(t,e){this._queue.add({directory:t,base:e})}_handleQueue(){for(const t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,e){try{const n=this._scandir(t,this._settings.fsScandirSettings);for(const t of n)this._handleEntry(t,e)}catch(t){this._handleError(t)}}_handleError(t){if(Ch.isFatalError(this._settings,t))throw t}_handleEntry(t,e){const n=t.path;void 0!==e&&(t.path=Ch.joinPathSegments(e,t.name,this._settings.pathSegmentSeparator)),Ch.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Ch.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,t.path)}_pushToStorage(t){this._storage.add(t)}}var Gh=Bh;Hh.default=Gh;var Wh=class{constructor(t,e){this._root=t,this._settings=e,this._reader=new Hh.default(this._root,this._settings)}read(){return this._reader.read()}};Ih.default=Wh;var qh={};Object.defineProperty(qh,"__esModule",{value:!0});const Uh=u;var Vh=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Uh.sep),this.fsScandirSettings=new Mf.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,e){return null!=t?t:e}};qh.default=Vh,Pf=qh.default,Rf.Settings=Pf;var zh=function(t,e,n){if("function"==typeof e)return new jf.default(t,Xh()).read(e);new jf.default(t,Xh(e)).read(n)};Rf.walk=zh;var Kh=function(t,e){const n=Xh(e);return new Ih.default(t,n).read()};Rf.walkSync=Kh;var Qh=function(t,e){const n=Xh(e);return new Nh.default(t,n).read()};function Xh(t={}){return t instanceof qh.default?t:new qh.default(t)}Rf.walkStream=Qh;var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});const Zh=u;var Jh=class{constructor(t){this._settings=t,this._fsStatSettings=new pf.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return Zh.resolve(this._settings.cwd,t)}_makeEntry(t,e){const n={name:e,path:e,dirent:Ti.fs.createDirentFromStats(e,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Ti.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Yh.default=Jh;class td extends Yh.default{constructor(){super(...arguments),this._walkStream=Rf.walkStream,this._stat=pf.stat}dynamic(t,e){return this._walkStream(t,e)}static(t,e){const n=t.map(this._getFullEntryPath,this),r=new lf.PassThrough({objectMode:!0});r._write=(i,o,s)=>this._getEntry(n[i],t[i],e).then((t=>{null!==t&&e.entryFilter(t)&&r.push(t),i===n.length-1&&r.end(),s()})).catch(s);for(let t=0;t<n.length;t++)r.write(t);return r}_getEntry(t,e,n){return this._getStat(t).then((t=>this._makeEntry(t,e))).catch((t=>{if(n.errorFilter(t))return null;throw t}))}_getStat(t){return new Promise(((e,n)=>{this._stat(t,this._fsStatSettings,((t,r)=>null===t?e(r):n(t)))}))}}var ed=td;cf.default=ed;var nd={};Object.defineProperty(nd,"__esModule",{value:!0});const rd=u;var id={};Object.defineProperty(id,"__esModule",{value:!0});var od={};Object.defineProperty(od,"__esModule",{value:!0});var sd={};Object.defineProperty(sd,"__esModule",{value:!0});var ad=class{constructor(t,e,n){this._patterns=t,this._settings=e,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){const t=Ti.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const e of t){const t=this._getPatternSegments(e),n=this._splitSegmentsIntoSections(t);this._storage.push({complete:n.length<=1,pattern:e,segments:t,sections:n})}}_getPatternSegments(t){return Ti.pattern.getPatternParts(t,this._micromatchOptions).map((t=>Ti.pattern.isDynamicPattern(t,this._settings)?{dynamic:!0,pattern:t,patternRe:Ti.pattern.makeRe(t,this._micromatchOptions)}:{dynamic:!1,pattern:t}))}_splitSegmentsIntoSections(t){return Ti.array.splitWhen(t,(t=>t.dynamic&&Ti.pattern.hasGlobStar(t.pattern)))}};sd.default=ad;class ud extends sd.default{match(t){const e=t.split("/"),n=e.length,r=this._storage.filter((t=>!t.complete||t.segments.length>n));for(const t of r){const r=t.sections[0];if(!t.complete&&n>r.length)return!0;if(e.every(((e,n)=>{const r=t.segments[n];return!(!r.dynamic||!r.patternRe.test(e))||!r.dynamic&&r.pattern===e})))return!0}return!1}}var cd=ud;od.default=cd;var ld=class{constructor(t,e){this._settings=t,this._micromatchOptions=e}getFilter(t,e,n){const r=this._getMatcher(e),i=this._getNegativePatternsRe(n);return e=>this._filter(t,e,r,i)}_getMatcher(t){return new od.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){const e=t.filter(Ti.pattern.isAffectDepthOfReadingPattern);return Ti.pattern.convertPatternsToRe(e,this._micromatchOptions)}_filter(t,e,n,r){if(this._isSkippedByDeep(t,e.path))return!1;if(this._isSkippedSymbolicLink(e))return!1;const i=Ti.path.removeLeadingDotSegment(e.path);return!this._isSkippedByPositivePatterns(i,n)&&this._isSkippedByNegativePatterns(i,r)}_isSkippedByDeep(t,e){return this._settings.deep!==1/0&&this._getEntryLevel(t,e)>=this._settings.deep}_getEntryLevel(t,e){const n=e.split("/").length;if(""===t)return n;return n-t.split("/").length}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,e){return!this._settings.baseNameMatch&&!e.match(t)}_isSkippedByNegativePatterns(t,e){return!Ti.pattern.matchAny(t,e)}};id.default=ld;var pd={};Object.defineProperty(pd,"__esModule",{value:!0});var fd=class{constructor(t,e){this._settings=t,this._micromatchOptions=e,this.index=new Map}getFilter(t,e){const n=Ti.pattern.convertPatternsToRe(t,this._micromatchOptions),r=Ti.pattern.convertPatternsToRe(e,this._micromatchOptions);return t=>this._filter(t,n,r)}_filter(t,e,n){if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;if(this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;const r=this._settings.baseNameMatch?t.name:t.path,i=this._isMatchToPatterns(r,e)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,e){if(!this._settings.absolute)return!1;const n=Ti.path.makeAbsolute(this._settings.cwd,t);return Ti.pattern.matchAny(n,e)}_isMatchToPatterns(t,e){const n=Ti.path.removeLeadingDotSegment(t);return Ti.pattern.matchAny(n,e)}};pd.default=fd;var hd={};Object.defineProperty(hd,"__esModule",{value:!0});var dd=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Ti.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};hd.default=dd;var gd={};Object.defineProperty(gd,"__esModule",{value:!0});var yd=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let e=t.path;return this._settings.absolute&&(e=Ti.path.makeAbsolute(this._settings.cwd,e),e=Ti.path.unixify(e)),this._settings.markDirectories&&t.dirent.isDirectory()&&(e+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:e}):e}};gd.default=yd;var vd=class{constructor(t){this._settings=t,this.errorFilter=new hd.default(this._settings),this.entryFilter=new pd.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new id.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new gd.default(this._settings)}_getRootDirectory(t){return rd.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){const e="."===t.base?"":t.base;return{basePath:e,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(e,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};nd.default=vd;class md extends nd.default{constructor(){super(...arguments),this._reader=new cf.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t),r=[];return new Promise(((i,o)=>{const s=this.api(e,t,n);s.once("error",o),s.on("data",(t=>r.push(n.transform(t)))),s.once("end",(()=>i(r)))}))}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}var _d=md;uf.default=_d;var bd={};Object.defineProperty(bd,"__esModule",{value:!0});const wd=e;class Sd extends nd.default{constructor(){super(...arguments),this._reader=new cf.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t),r=this.api(e,t,n),i=new wd.Readable({objectMode:!0,read:()=>{}});return r.once("error",(t=>i.emit("error",t))).on("data",(t=>i.emit("data",n.transform(t)))).once("end",(()=>i.emit("end"))),i.once("close",(()=>r.destroy())),i}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}var xd=Sd;bd.default=xd;var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});class Cd extends Yh.default{constructor(){super(...arguments),this._walkSync=Rf.walkSync,this._statSync=pf.statSync}dynamic(t,e){return this._walkSync(t,e)}static(t,e){const n=[];for(const r of t){const t=this._getFullEntryPath(r),i=this._getEntry(t,r,e);null!==i&&e.entryFilter(i)&&n.push(i)}return n}_getEntry(t,e,n){try{const n=this._getStat(t);return this._makeEntry(n,e)}catch(t){if(n.errorFilter(t))return null;throw t}}_getStat(t){return this._statSync(t,this._fsStatSettings)}}var Od=Cd;Ad.default=Od;class Rd extends nd.default{constructor(){super(...arguments),this._reader=new Ad.default(this._settings)}read(t){const e=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(e,t,n).map(n.transform)}api(t,e,n){return e.dynamic?this._reader.dynamic(t,n):this._reader.static(e.patterns,n)}}var Pd=Rd;Ed.default=Pd;var jd={};Object.defineProperty(jd,"__esModule",{value:!0});var kd=void 0;jd.DEFAULT_FILE_SYSTEM_ADAPTER=kd;const Td=r,Md=n,Ld=Math.max(Md.cpus().length,1);kd={lstat:Td.lstat,lstatSync:Td.lstatSync,stat:Td.stat,statSync:Td.statSync,readdir:Td.readdir,readdirSync:Td.readdirSync},jd.DEFAULT_FILE_SYSTEM_ADAPTER=kd;var Fd,Nd=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Ld),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,e){return void 0===t?e:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},jd.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};async function Dd(t,e){Id(t);const n=$d(t,uf.default,e),r=await Promise.all(n);return Ti.array.flatten(r)}function $d(t,e,n){const r=[].concat(t),i=new jd.default(n),o=ji.generate(r,i),s=new e(i);return o.map(s.read,s)}function Id(t){if(![].concat(t).every((t=>Ti.string.isString(t)&&!Ti.string.isEmpty(t))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}jd.default=Nd,(Fd=Dd||(Dd={})).sync=function(t,e){Id(t);const n=$d(t,Ed.default,e);return Ti.array.flatten(n)},Fd.stream=function(t,e){Id(t);const n=$d(t,bd.default,e);return Ti.stream.merge(n)},Fd.generateTasks=function(t,e){Id(t);const n=[].concat(t),r=new jd.default(e);return ji.generate(n,r)},Fd.isDynamicPattern=function(t,e){Id(t);const n=new jd.default(e);return Ti.pattern.isDynamicPattern(t,n)},Fd.escapePath=function(t){return Id(t),Ti.path.escape(t)};var Hd=Bd(Dd);function Bd(t){return t&&t.__esModule?t:{default:t}}class Gd extends gr.EventEmitter{constructor(){super();const t=this.rebuildCache.bind(this);this._projectChangeWatcher=atom.project.onDidChangePaths(t);const e=this._onDidChangeFiles.bind(this);this._projectWatcher=atom.project.onDidChangeFiles(e),this._repositories=[],this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._fileWatchersByDirectory=new Map,this.updateConfig()}updateConfig(){this.config={excludeVcsIgnoredPaths:atom.config.get("core.excludeVcsIgnoredPaths"),ignoreSubmodules:atom.config.get("autocomplete-paths.ignoreSubmodules"),shouldIgnoredNames:atom.config.get("autocomplete-paths.ignoredNames"),ignoredNames:atom.config.get("core.ignoredNames"),ignoredPatterns:atom.config.get("autocomplete-paths.ignoredPatterns"),maxFileCount:atom.config.get("autocomplete-paths.maxFileCount")}}async rebuildCache(){this.dispose(),this._cancelled=!1,this.emit("rebuild-cache");try{return await this._buildInitialCacheWithGlob()}catch(t){return console.error(t),await this._buildInitialCacheWithAtom()}}getFilePathsForProjectDirectory(t,e=null){let n=this._filePathsByProjectDirectory.get(t.path)||[];return e?n.filter((t=>0===t.indexOf(e))):n}dispose(t){this._fileWatchersByDirectory.forEach((t=>{t.dispose()})),this._fileWatchersByDirectory=new Map,this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._repositories=[],this._projectWatcher&&(this._projectWatcher.dispose(),this._projectWatcher=null),t&&this._projectChangeWatcher&&(this._projectChangeWatcher.dispose(),this._projectChangeWatcher=null)}_isPathIgnored(t){let e=!1;return this.config.excludeVcsIgnoredPaths&&this._repositories.forEach((n=>{if(e)return;const r=this.config.ignoreSubmodules&&n.isSubmodule(t);(n.isPathIgnored(t)||r)&&(e=!0)})),this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((n=>{e||(e=e||(0,Vr.default)(t,n,{matchBase:!0,dot:!0}))})),this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((n=>{e||(e=e||(0,Vr.default)(t,n,{dot:!0}))})),e}async _cacheProjectPathsAndRepositories(){this._projectDirectories=atom.project.getDirectories();const t=this._projectDirectories.length;let e=new Array(t);for(let n=0;n<t;n++)e[n]=atom.project.repositoryForDirectory(this._projectDirectories[n]);const n=await Promise.all(e);this._repositories=n.filter((t=>null!==t))}_onDirectoryChanged(t,e){this._removeFilePathsForDirectory(t,e),this._cleanWatchersForDirectory(e),this._populateCacheWithGlob(e.path).catch((n=>{console.error(n),this._populateCacheWithAtom(t,e)}))}_cleanWatchersForDirectory(t){this._fileWatchersByDirectory.forEach(((e,n)=>{t.contains(n.path)&&(e.dispose(),this._fileWatchersByDirectory.delete(n))}))}_removeFilePathsForDirectory(t,e){let n=this._filePathsByProjectDirectory.get(t.path);n&&(n=n.filter((t=>!e.contains(t))),this._filePathsByProjectDirectory.set(t.path,n),this._filePathsByDirectory.delete(e.path))}_getDirectoryEntries(t){return new Promise(((e,n)=>{t.getEntries(((t,r)=>{if(t)return n(t);e(r)}))}))}_onDidChangeFiles(t){t.filter((t=>"modified"!==t.action)).forEach((t=>{if(!this._projectDirectories)return;const{action:e,path:n,oldPath:r}=t,i=this._projectDirectories.find((t=>0===n.indexOf(t.path)));if(!i)return;const o=i.path;if(this._isPathIgnored(n))return;const s=this._filePathsByProjectDirectory.get(o)||[];switch(e){case"created":s.push(n);break;case"deleted":{const t=s.indexOf(n);t>-1&&s.splice(t,1);break}case"renamed":{const t=s.indexOf(r);t>-1&&(s[t]=n);break}}this._filePathsByProjectDirectory.has(o)||this._filePathsByProjectDirectory.set(o,s)}))}async _buildInitialCacheWithGlob(){await this._cacheProjectPathsAndRepositories();const t=await Promise.all(this._projectDirectories.map((t=>this._populateCacheWithGlob(t.path))));return this.emit("rebuild-cache-done"),t}async _getIgnoredPatternsGlob(t){const e=[];this.config.shouldIgnoredNames&&e.push(...this.config.ignoredNames),this.config.ignoredPatterns&&e.push(...this.config.ignoredPatterns);const n=e.length;let r=new Array(n);for(let i=0;i<n;i++){const n=await(0,ii.globifyPath)(e[i],t);"string"==typeof n?r[i]=n:(r[i]=n[0],r.push(n[1]))}return r}async _getGitIgnoreGlob(t){if(this.config.excludeVcsIgnoredPaths)try{return await(0,ii.globifyGitIgnoreFile)(t)}catch(t){}return[]}async _populateCacheWithGlob(t){const e=(0,ii.globifyDirectory)(t),n=await this._getGitIgnoreGlob(t),r=await this._getIgnoredPatternsGlob(t),i=await(0,Hd.default)([e,...n,...r],{dot:!0,cwd:t,onlyFiles:!0});return this._filePathsByProjectDirectory.set(t,i),i}async _buildInitialCacheWithAtom(){await this._cacheProjectPathsAndRepositories();const t=await Promise.all(this._projectDirectories.map((t=>this._populateCacheWithAtom(t,t))));return this.emit("rebuild-cache-done"),t}async _populateCacheWithAtom(t,e){if(this._cancelled)return[];if("win32"!==process.platform){let n=this._fileWatchersByDirectory.get(e);n||(n=e.onDidChange((()=>this._onDirectoryChanged(t,e))),this._fileWatchersByDirectory.set(e,n))}const n=await this._getDirectoryEntries(e);if(this._cancelled)return[];let r=[],i=[];for(let t=0,e=n.length;t<e;t++){const e=n[t];e instanceof zr.File&&!this._isPathIgnored(e.path)?r.push(e.path):e instanceof zr.Directory&&!this._isPathIgnored(e.path)&&i.push(e)}let o=this._filePathsByProjectDirectory.get(t.path)||[];return o.length+r.length>this.config.maxFileCount&&!this._cancelled?(atom.notifications.addError("autocomplete-paths",{description:`Maximum file count of ${this.config.maxFileCount} has been exceeded. Path autocompletion will not work in this project.<br /><br /><a href="https://github.com/atom-community/autocomplete-paths/wiki/Troubleshooting#maximum-file-limit-exceeded">Click here to learn more.</a>`,dismissable:!0}),this._filePathsByProjectDirectory.clear(),this._filePathsByDirectory.clear(),this._cancelled=!0,void this.emit("rebuild-cache-done")):(this._filePathsByProjectDirectory.set(t.path,(0,Kr.union)(o,r)),o=this._filePathsByDirectory.get(e.path)||[],this._filePathsByDirectory.set(e.path,(0,Kr.union)(o,r)),Promise.all(i.map((e=>this._populateCacheWithAtom(t,e)))))}}hr=Gd,fr.default=hr;var Wd=Xd(fr=fr.default),qd=t,Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});var Vd=void 0;Ud.DefaultScopes=Vd;const zd=["import\\s+.*?from\\s+['\"]","import\\s+['\"]","require\\(['\"]","define\\(\\[?['\"]"],Kd=["js","jsx","ts","tsx","coffee","json"],Qd=[["\\.jsx?$",""],["\\.ts$",""],["\\.coffee$",""]];function Xd(t){return t&&t.__esModule?t:{default:t}}Vd=[{scopes:["source.js","source.js.jsx","source.coffee","source.coffee.jsx","source.ts","source.tsx","javascript","source.flow"],prefixes:zd,extensions:Kd,relative:!0,replaceOnInsert:[["([\\/]?index)?\\.jsx?$",""],["([\\/]?index)?\\.ts$",""],["([\\/]?index)?\\.coffee$",""]]},{scopes:["text.html.vue"],prefixes:zd,extensions:Kd.concat("vue"),relative:!0,replaceOnInsert:Qd},{scopes:["text.html.vue"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["css","sass","scss","less","styl"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.coffee","source.coffee.jsx"],prefixes:["require\\s+['\"]","define\\s+\\[?['\"]"],extensions:Kd,relative:!0,replaceOnInsert:Qd},{scopes:["source.php"],prefixes:["require_once\\(['\"]","include\\(['\"]"],extensions:["php"],relative:!0},{scopes:["source.sass","source.css.scss","source.css.less","source.stylus"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["sass","scss","css"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.css"],prefixes:["@import\\s+['\"]?","@import\\s+url\\(['\"]?"],extensions:["css"],relative:!0},{scopes:["source.css","source.sass","source.css.less","source.css.scss","source.stylus"],prefixes:["url\\(['\"]?"],extensions:["png","gif","jpeg","jpg","woff","woff2","ttf","svg","otf"],relative:!0},{scopes:["source.c","source.cpp"],prefixes:["^\\s*#include\\s+['\"]"],extensions:["h","hpp"],relative:!0,includeCurrentDirectory:!1},{scopes:["source.lua"],prefixes:["require[\\s+|\\(]['\"]"],extensions:["lua"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.lua$",""]]},{scopes:["source.ruby"],prefixes:["^\\s*require[\\s+|\\(]['\"]"],extensions:["rb"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\.rb$",""]]},{scopes:["source.python"],prefixes:["^\\s*from\\s+","^\\s*import\\s+"],extensions:["py"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.py$",""]]}],Ud.DefaultScopes=Vd;class Yd extends A.EventEmitter{constructor(){super(),this.reloadScopes(),this._pathsCache=new Wd.default,this._isReady=!1,this._onRebuildCache=this._onRebuildCache.bind(this),this._onRebuildCacheDone=this._onRebuildCacheDone.bind(this),this._pathsCache.on("rebuild-cache",this._onRebuildCache),this._pathsCache.on("rebuild-cache-done",this._onRebuildCacheDone)}reloadScopes(){for(var t in this._scopes=atom.config.get("autocomplete-paths.scopes").slice(0)||[],atom.config.get("autocomplete-paths.ignoreBuiltinScopes")||(this._scopes=this._scopes.concat(Ud.DefaultScopes)),m.OptionScopes)atom.config.get(`autocomplete-paths.${t}`)&&(this._scopes=this._scopes.slice(0).concat(m.OptionScopes[t]))}_onRebuildCache(){this.emit("rebuild-cache")}_onRebuildCacheDone(){this.emit("rebuild-cache-done")}_scopeMatchesRequest(t,e){const n=Array.isArray(t.scopes)?t.scopes:[t.scopes];if(!(tr(e.scopeDescriptor.getScopesArray(),n).length>0))return!1;const r=this._getLineTextForRequest(e);let i=null;return(Array.isArray(t.prefixes)?t.prefixes:[t.prefixes]).forEach((t=>{const e=new RegExp(t,"i");i=i||r.match(e)})),i}_getLineTextForRequest(t){const{editor:e,bufferPosition:n}=t;return e.getTextInRange([[n.row,0],n])}_getSuggestionsForScope(t,e,n){const r=this._getLineTextForRequest(e).substr(n.index+n[0].length),i=r.match(/[/\\|]$/),o=0===r.indexOf("./")||0===r.indexOf("../"),s=C.default.parse(r);i&&(s.dir=C.default.join(s.dir,s.base),s.base="",s.name="");const a=this._getProjectDirectory(e.editor);if(!a)return Promise.resolve([]);const u=C.default.dirname(e.editor.getPath()),c=C.default.resolve(u,s.dir);let l=o?this._pathsCache.getFilePathsForProjectDirectory(a,c):this._pathsCache.getFilePathsForProjectDirectory(a);const p=o?s.base:r,{extensions:f}=t;if(f){const t=new RegExp(`.(${f.join("|")})$`);l=l.filter((e=>t.test(e)))}p&&(l=(0,qd.filter)(l,p,{maxResults:10}));let h=l.map((n=>{const i=atom.config.get("autocomplete-paths.normalizeSlashes"),s=atom.project.relativizePath(n)[1];let a=s;o&&(a=C.default.relative(c,n)),i&&(a=(0,pr.default)(a));let u=C.default.relative(C.default.dirname(e.editor.getPath()),n);i&&(u=(0,pr.default)(u)),!1!==t.relative&&(n=u,!1!==t.includeCurrentDirectory&&"."!==n[0]&&(n=`./${n}`)),t.projectRelativePath&&(n=(0,pr.default)(s)),t.replaceOnInsert&&t.replaceOnInsert.forEach((([t,e])=>{const r=new RegExp(t);r.test(n)&&(n=n.replace(r,e))}));const l=u.split(C.default.sep).length;return{text:n,replacementPrefix:r,displayText:a,type:"import",iconHTML:'<i class="icon-file-code"></i>',score:(0,qd.score)(a,e.prefix),distanceToFile:l}}));const d=h.length;if(h.length){const t=Rn(h,(t=>t.distanceToFile)).distanceToFile;h.forEach(((e,n)=>{e.score=d-n+(t-e.distanceToFile)})),h.sort(((t,e)=>e.score-t.score))}return Promise.resolve(h)}async getSuggestions(t){const e=this._scopes.map((e=>[e,this._scopeMatchesRequest(e,t)])).filter((t=>t[1])).map((([e,n])=>this._getSuggestionsForScope(e,t,n))),n=Qn(await Promise.all(e));return!!n.length&&n}async rebuildCache(){const t=await this._pathsCache.rebuildCache();return this._isReady=!0,t}_getProjectDirectory(t){const e=t.getBuffer().getPath();let n=null;return atom.project.getDirectories().forEach((t=>{t.contains(e)&&(n=t)})),n}isReady(){return this._isReady}get suggestionPriority(){return atom.config.get("autocomplete-paths.suggestionPriority")}get fileCount(){return atom.project.getDirectories().reduce(((t,e)=>t+this._pathsCache.getFilePathsForProjectDirectory(e).length),0)}dispose(){this._pathsCache.removeListener("rebuild-cache",this._onRebuildCache),this._pathsCache.removeListener("rebuild-cache-done",this._onRebuildCacheDone),this._pathsCache.dispose(!0)}}x=Yd,S.default=x,Yd.prototype.selector="*",Yd.prototype.inclusionPriority=1,S=S.default;var Zd,Jd=(Zd=S)&&Zd.__esModule?Zd:{default:Zd};let tg,eg,ng,rg,ig,og,sg=new a.CompositeDisposable;function ag(){eg?rg||(ig=document.createElement("autocomplete-paths-status-bar"),ig.innerHTML="Rebuilding paths cache...",rg=eg.addRightTile({item:ig,priority:100}),(tg||(ug(),tg))&&(ng=setInterval((()=>{const t=tg.fileCount;t>0&&(ig.innerHTML=`Rebuilding paths cache... ${t} files`)}),500))):og=!0}function ug(){return tg||(tg=new Jd.default,tg.on("rebuild-cache",(()=>{ag()})),tg.on("rebuild-cache-done",(()=>{ng&&clearInterval(ng),rg&&rg.destroy(),rg=null,ig=null})),tg.rebuildCache()),tg}
//# sourceMappingURL=autocomplete-paths.js.map
