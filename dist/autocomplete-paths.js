var t=require("fuzzaldrin-plus-fast"),e=require("atom"),n=require("buffer"),r=require("child_process"),i=require("fs"),o=require("path"),u=require("events");function a(t,e,n){Object.defineProperty(t,e,{get:n,enumerable:!0})}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c={};Object.defineProperty(c,"__esModule",{value:!0});var f=void 0;c.default=f;var l={};Object.defineProperty(l,"__esModule",{value:!0});var h=void 0;l.default=h;var d={};Object.defineProperty(d,"__esModule",{value:!0});var p=void 0;d.default=p;p={enableHtmlSupport:[{scopes:["text.html.basic"],prefixes:["src=['\"]","href=['\"]","name=['\"]"],extensions:["js","png","gif","jpeg","jpg","tiff","html","json","svg"],relative:!0}]},d.default=p,d=d.default;var g,v=(g=d)&&g.__esModule?g:{default:g};const b={normalizeSlashes:{type:"boolean",description:"Replaces backward slashes with forward slashes on windows (if possible)",default:!0},maxFileCount:{type:"number",description:"The maximum amount of files to be handled",default:2e3},suggestionPriority:{type:"number",description:"Suggestion priority of this provider. If set to a number larger than or equal to 1, suggestions will be displayed on top of default suggestions.",default:2},ignoredNames:{type:"boolean",default:!0,description:"Ignore items matched by the `Ignore Names` core option."},ignoreSubmodules:{type:"boolean",default:!1,description:"Ignore submodule directories."},ignoredPatterns:{type:"array",default:[],items:{type:"string"},description:"Ignore additional file path patterns."},ignoreBuiltinScopes:{type:"boolean",default:!1,description:"Ignore built-in scopes and use only scopes from user configuration."},scopes:{type:"array",default:[],items:{type:"object",properties:{scopes:{type:["array"],items:{type:"string"}},prefixes:{type:["array"],items:{type:"string"}},extensions:{type:["array"],items:{type:"string"}},relative:{type:"boolean",default:!0},replaceOnInsert:{type:"array",items:{type:"array",items:{type:["string","string"]}}}}}}};for(let t in v.default)b[t]={type:"boolean",default:!1};h=b,l.default=h;var y=Iv(l=l.default),_={};Object.defineProperty(_,"__esModule",{value:!0});var m=void 0;_.default=m;var w,S,E,j,R,x,P,O,T,C,M,k,D,A,B,L,N,I,F,q,W=u,U=Dv(o),$={},H=!1;function V(){return H||(H=!0,S="1.11.0",a(w={},"VERSION",(function(){return S})),E="object"==typeof self&&self.self===self&&self||"object"==typeof s&&s.global===s&&s||Function("return this")()||{},a(w,"root",(function(){return E})),j=Array.prototype,R=Object.prototype,a(w,"ObjProto",(function(){return R})),a(w,"ArrayProto",(function(){return j})),x="undefined"!=typeof Symbol?Symbol.prototype:null,a(w,"SymbolProto",(function(){return x})),P=j.push,O=j.slice,T=R.toString,C=R.hasOwnProperty,a(w,"hasOwnProperty",(function(){return C})),a(w,"toString",(function(){return T})),a(w,"slice",(function(){return O})),a(w,"push",(function(){return P})),M="undefined"!=typeof ArrayBuffer,a(w,"supportsArrayBuffer",(function(){return M})),k=Array.isArray,D=Object.keys,A=Object.create,B=M&&ArrayBuffer.isView,a(w,"nativeIsView",(function(){return B})),a(w,"nativeCreate",(function(){return A})),a(w,"nativeKeys",(function(){return D})),a(w,"nativeIsArray",(function(){return k})),L=isNaN,N=isFinite,a(w,"_isFinite",(function(){return N})),a(w,"_isNaN",(function(){return L})),I=!{toString:null}.propertyIsEnumerable("toString"),a(w,"hasEnumBug",(function(){return I})),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],a(w,"nonEnumerableProps",(function(){return F})),q=Math.pow(2,53)-1,a(w,"MAX_ARRAY_INDEX",(function(){return q}))),w}var z,K=!1;function G(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function Y(){return K||(K=!0,a(z={},"default",(function(){return G}))),z}var Z,X=!1;function J(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function Q(){return X||(X=!0,a(Z={},"default",(function(){return J}))),Z}var tt,et=!1;function nt(t){return null===t}function rt(){return et||(et=!0,a(tt={},"default",(function(){return nt}))),tt}var it,ot=!1;function ut(t){return void 0===t}function at(){return ot||(ot=!0,a(it={},"default",(function(){return ut}))),it}var st,ct=!1;function ft(t){return!0===t||!1===t||"[object Boolean]"===T.call(t)}function lt(){return ct||(ct=!0,st={},V(),a(st,"default",(function(){return ft}))),st}var ht,dt=!1;function pt(t){return!(!t||1!==t.nodeType)}function gt(){return dt||(dt=!0,a(ht={},"default",(function(){return pt}))),ht}var vt,bt=!1;function yt(t){return function(e){return T.call(e)==="[object "+t+"]"}}function _t(){return bt||(bt=!0,vt={},V(),a(vt,"default",(function(){return yt}))),vt}var mt,wt,St=!1;function Et(){return St||(St=!0,mt={},_t(),wt=yt("String"),a(mt,"default",(function(){return wt}))),mt}var jt,Rt,xt=!1;function Pt(){return xt||(xt=!0,jt={},_t(),Rt=yt("Number"),a(jt,"default",(function(){return Rt}))),jt}var Ot,Tt,Ct=!1;function Mt(){return Ct||(Ct=!0,Ot={},_t(),Tt=yt("Date"),a(Ot,"default",(function(){return Tt}))),Ot}var kt,Dt,At=!1;function Bt(){return At||(At=!0,kt={},_t(),Dt=yt("RegExp"),a(kt,"default",(function(){return Dt}))),kt}var Lt,Nt,It=!1;function Ft(){return It||(It=!0,Lt={},_t(),Nt=yt("Error"),a(Lt,"default",(function(){return Nt}))),Lt}var qt,Wt,Ut=!1;function $t(){return Ut||(Ut=!0,qt={},_t(),Wt=yt("Symbol"),a(qt,"default",(function(){return Wt}))),qt}var Ht,Vt,zt=!1;function Kt(){return zt||(zt=!0,Ht={},_t(),Vt=yt("Map"),a(Ht,"default",(function(){return Vt}))),Ht}var Gt,Yt,Zt=!1;function Xt(){return Zt||(Zt=!0,Gt={},_t(),Yt=yt("WeakMap"),a(Gt,"default",(function(){return Yt}))),Gt}var Jt,Qt,te=!1;function ee(){return te||(te=!0,Jt={},_t(),Qt=yt("Set"),a(Jt,"default",(function(){return Qt}))),Jt}var ne,re,ie=!1;function oe(){return ie||(ie=!0,ne={},_t(),re=yt("WeakSet"),a(ne,"default",(function(){return re}))),ne}var ue,ae,se=!1;function ce(){return se||(se=!0,ue={},_t(),ae=yt("ArrayBuffer"),a(ue,"default",(function(){return ae}))),ue}var fe,le,he=!1;function de(){return he||(he=!0,fe={},_t(),le=yt("DataView"),a(fe,"default",(function(){return le}))),fe}var pe,ge,ve=!1;function be(){return ve||(ve=!0,pe={},V(),_t(),ge=k||yt("Array"),a(pe,"default",(function(){return ge}))),pe}var ye,_e,me,we,Se=!1;function Ee(){return Se||(Se=!0,ye={},_t(),V(),_e=yt("Function"),me=E.document&&E.document.childNodes,"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof me&&(_e=function(t){return"function"==typeof t||!1}),we=_e,a(ye,"default",(function(){return we}))),ye}var je,Re=!1;function xe(t,e){return null!=t&&C.call(t,e)}function Pe(){return Re||(Re=!0,je={},V(),a(je,"default",(function(){return xe}))),je}var Oe,Te,Ce,Me=!1;function ke(){return Me||(Me=!0,Oe={},_t(),Pe(),Te=yt("Arguments"),function(){Te(arguments)||(Te=function(t){return xe(t,"callee")})}(),Ce=Te,a(Oe,"default",(function(){return Ce}))),Oe}var De,Ae=!1;function Be(t){return!Wt(t)&&N(t)&&!isNaN(parseFloat(t))}function Le(){return Ae||(Ae=!0,De={},V(),$t(),a(De,"default",(function(){return Be}))),De}var Ne,Ie=!1;function Fe(t){return Rt(t)&&L(t)}function qe(){return Ie||(Ie=!0,Ne={},V(),Pt(),a(Ne,"default",(function(){return Fe}))),Ne}var We,Ue=!1;function $e(t){return function(){return t}}function He(){return Ue||(Ue=!0,a(We={},"default",(function(){return $e}))),We}var Ve,ze=!1;function Ke(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=q}}function Ge(){return ze||(ze=!0,Ve={},V(),a(Ve,"default",(function(){return Ke}))),Ve}var Ye,Ze=!1;function Xe(t){return function(e){return null==e?void 0:e[t]}}function Je(){return Ze||(Ze=!0,a(Ye={},"default",(function(){return Xe}))),Ye}var Qe,tn,en=!1;function nn(){return en||(en=!0,Qe={},Je(),tn=Xe("byteLength"),a(Qe,"default",(function(){return tn}))),Qe}var rn,on,un=!1;function an(){return un||(un=!0,rn={},Ge(),nn(),on=Ke(tn),a(rn,"default",(function(){return on}))),rn}var sn,cn,fn,ln=!1;function hn(t){return B?B(t)&&!le(t):on(t)&&cn.test(T.call(t))}function dn(){return ln||(ln=!0,sn={},V(),de(),He(),an(),cn=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,fn=M?hn:$e(!1),a(sn,"default",(function(){return fn}))),sn}var pn,gn,vn=!1;function bn(){return vn||(vn=!0,pn={},Je(),gn=Xe("length"),a(pn,"default",(function(){return gn}))),pn}var yn,_n,mn=!1;function wn(){return mn||(mn=!0,yn={},Ge(),bn(),_n=Ke(gn),a(yn,"default",(function(){return _n}))),yn}var Sn,En=!1;function jn(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=F.length,r=t.constructor,i=we(r)&&r.prototype||R,o="constructor";for(xe(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=F[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function Rn(){return En||(En=!0,Sn={},V(),Ee(),Pe(),a(Sn,"default",(function(){return jn}))),Sn}var xn,Pn=!1;function On(t){if(!J(t))return[];if(D)return D(t);var e=[];for(var n in t)xe(t,n)&&e.push(n);return I&&jn(t,e),e}function Tn(){return Pn||(Pn=!0,xn={},Q(),V(),Pe(),Rn(),a(xn,"default",(function(){return On}))),xn}var Cn,Mn=!1;function kn(t){return null==t||(_n(t)&&(ge(t)||wt(t)||Ce(t))?0===t.length:0===On(t).length)}function Dn(){return Mn||(Mn=!0,Cn={},wn(),be(),Et(),ke(),Tn(),a(Cn,"default",(function(){return kn}))),Cn}var An,Bn=!1;function Ln(t,e){var n=On(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var u=n[o];if(e[u]!==i[u]||!(u in i))return!1}return!0}function Nn(){return Bn||(Bn=!0,An={},Tn(),a(An,"default",(function(){return Ln}))),An}var In,Fn=!1;function qn(t){return t instanceof qn?t:this instanceof qn?void(this._wrapped=t):new qn(t)}function Wn(){return Fn||(Fn=!0,In={},V(),a(In,"default",(function(){return qn})),qn.VERSION=S,qn.prototype.value=function(){return this._wrapped},qn.prototype.valueOf=qn.prototype.toJSON=qn.prototype.value,qn.prototype.toString=function(){return String(this._wrapped)}),In}var Un,$n=!1;function Hn(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&Vn(t,e,n,r)}function Vn(t,e,n,r){t instanceof qn&&(t=t._wrapped),e instanceof qn&&(e=e._wrapped);var i=T.call(t);if(i!==T.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return x.valueOf.call(t)===x.valueOf.call(e);case"[object ArrayBuffer]":return Vn(new DataView(t),new DataView(e),n,r);case"[object DataView]":var o=tn(t);if(o!==tn(e))return!1;for(;o--;)if(t.getUint8(o)!==e.getUint8(o))return!1;return!0}if(fn(t))return Vn(new DataView(t.buffer),new DataView(e.buffer),n,r);var u="[object Array]"===i;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(we(a)&&a instanceof a&&we(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),u){if((c=t.length)!==e.length)return!1;for(;c--;)if(!Hn(t[c],e[c],n,r))return!1}else{var f,l=On(t);if(c=l.length,On(e).length!==c)return!1;for(;c--;)if(!xe(e,f=l[c])||!Hn(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0}function zn(t,e){return Hn(t,e)}function Kn(){return $n||($n=!0,Un={},Wn(),V(),nn(),dn(),Ee(),Tn(),Pe(),a(Un,"default",(function(){return zn}))),Un}var Gn,Yn=!1;function Zn(t){if(!J(t))return[];var e=[];for(var n in t)e.push(n);return I&&jn(t,e),e}function Xn(){return Yn||(Yn=!0,Gn={},Q(),V(),Rn(),a(Gn,"default",(function(){return Zn}))),Gn}var Jn,Qn=!1;function tr(t){for(var e=On(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function er(){return Qn||(Qn=!0,Jn={},Tn(),a(Jn,"default",(function(){return tr}))),Jn}var nr,rr=!1;function ir(t){for(var e=On(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function or(){return rr||(rr=!0,nr={},Tn(),a(nr,"default",(function(){return ir}))),nr}var ur,ar=!1;function sr(t){for(var e={},n=On(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function cr(){return ar||(ar=!0,ur={},Tn(),a(ur,"default",(function(){return sr}))),ur}var fr,lr=!1;function hr(t){var e=[];for(var n in t)we(t[n])&&e.push(n);return e.sort()}function dr(){return lr||(lr=!0,fr={},Ee(),a(fr,"default",(function(){return hr}))),fr}var pr,gr=!1;function vr(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],u=t(o),a=u.length,s=0;s<a;s++){var c=u[s];e&&void 0!==n[c]||(n[c]=o[c])}return n}}function br(){return gr||(gr=!0,a(pr={},"default",(function(){return vr}))),pr}var yr,_r,mr=!1;function wr(){return mr||(mr=!0,yr={},br(),Xn(),_r=vr(Zn),a(yr,"default",(function(){return _r}))),yr}var Sr,Er,jr=!1;function Rr(){return jr||(jr=!0,Sr={},br(),Tn(),Er=vr(On),a(Sr,"default",(function(){return Er}))),Sr}var xr,Pr,Or=!1;function Tr(){return Or||(Or=!0,xr={},br(),Xn(),Pr=vr(Zn,!0),a(xr,"default",(function(){return Pr}))),xr}var Cr,Mr=!1;function kr(t){if(!J(t))return{};if(A)return A(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Dr(){return Mr||(Mr=!0,Cr={},Q(),V(),a(Cr,"default",(function(){return kr}))),Cr}var Ar,Br=!1;function Lr(t,e){var n=kr(t);return e&&Er(n,e),n}function Nr(){return Br||(Br=!0,Ar={},Dr(),Rr(),a(Ar,"default",(function(){return Lr}))),Ar}var Ir,Fr=!1;function qr(t){return J(t)?ge(t)?t.slice():_r({},t):t}function Wr(){return Fr||(Fr=!0,Ir={},Q(),be(),wr(),a(Ir,"default",(function(){return qr}))),Ir}var Ur,$r=!1;function Hr(t,e){return e(t),t}function Vr(){return $r||($r=!0,a(Ur={},"default",(function(){return Hr}))),Ur}var zr,Kr=!1;function Gr(t,e){if(!ge(e))return xe(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!C.call(t,i))return!1;t=t[i]}return!!n}function Yr(){return Kr||(Kr=!0,zr={},be(),Pe(),V(),a(zr,"default",(function(){return Gr}))),zr}var Zr,Xr=!1;function Jr(t){return t}function Qr(){return Xr||(Xr=!0,a(Zr={},"default",(function(){return Jr}))),Zr}var ti,ei=!1;function ni(t){return t=Er({},t),function(e){return Ln(e,t)}}function ri(){return ei||(ei=!0,ti={},Rr(),Nn(),a(ti,"default",(function(){return ni}))),ti}var ii,oi=!1;function ui(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function ai(){return oi||(oi=!0,a(ii={},"default",(function(){return ui}))),ii}var si,ci=!1;function fi(t){return ge(t)?function(e){return ui(e,t)}:Xe(t)}function li(){return ci||(ci=!0,si={},be(),Je(),ai(),a(si,"default",(function(){return fi}))),si}var hi,di=!1;function pi(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function gi(){return di||(di=!0,a(hi={},"default",(function(){return pi}))),hi}var vi,bi=!1;function yi(t,e,n){return null==t?Jr:we(t)?pi(t,e,n):J(t)&&!ge(t)?ni(t):fi(t)}function _i(){return bi||(bi=!0,vi={},Qr(),Ee(),Q(),be(),ri(),li(),gi(),a(vi,"default",(function(){return yi}))),vi}var mi,wi=!1;function Si(t,e){return yi(t,e,1/0)}function Ei(){return wi||(wi=!0,mi={},Wn(),_i(),a(mi,"default",(function(){return Si})),qn.iteratee=Si),mi}var ji,Ri=!1;function xi(t,e,n){return qn.iteratee!==Si?qn.iteratee(t,e):yi(t,e,n)}function Pi(){return Ri||(Ri=!0,ji={},Wn(),_i(),Ei(),a(ji,"default",(function(){return xi}))),ji}var Oi,Ti=!1;function Ci(t,e,n){e=xi(e,n);for(var r=On(t),i=r.length,o={},u=0;u<i;u++){var a=r[u];o[a]=e(t[a],a,t)}return o}function Mi(){return Ti||(Ti=!0,Oi={},Pi(),Tn(),a(Oi,"default",(function(){return Ci}))),Oi}var ki,Di=!1;function Ai(){}function Bi(){return Di||(Di=!0,a(ki={},"default",(function(){return Ai}))),ki}var Li,Ni=!1;function Ii(t){return null==t?function(){}:function(e){return ge(e)?ui(t,e):t[e]}}function Fi(){return Ni||(Ni=!0,Li={},be(),ai(),a(Li,"default",(function(){return Ii}))),Li}var qi,Wi=!1;function Ui(t,e,n){var r=Array(Math.max(0,t));e=pi(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function $i(){return Wi||(Wi=!0,qi={},gi(),a(qi,"default",(function(){return Ui}))),qi}var Hi,Vi=!1;function zi(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}function Ki(){return Vi||(Vi=!0,a(Hi={},"default",(function(){return zi}))),Hi}var Gi,Yi,Zi=!1;function Xi(){return Zi||(Zi=!0,Gi={},Yi=Date.now||function(){return(new Date).getTime()},a(Gi,"default",(function(){return Yi}))),Gi}var Ji,Qi=!1;function to(t){var e=function(e){return t[e]},n="(?:"+On(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}function eo(){return Qi||(Qi=!0,Ji={},Tn(),a(Ji,"default",(function(){return to}))),Ji}var no,ro,io=!1;function oo(){return io||(io=!0,ro={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a(no={},"default",(function(){return ro}))),no}var uo,ao,so=!1;function co(){return so||(so=!0,uo={},eo(),oo(),ao=to(ro),a(uo,"default",(function(){return ao}))),uo}var fo,lo,ho=!1;function po(){return ho||(ho=!0,fo={},cr(),oo(),lo=sr(ro),a(fo,"default",(function(){return lo}))),fo}var go,vo,bo=!1;function yo(){return bo||(bo=!0,go={},eo(),po(),vo=to(lo),a(go,"default",(function(){return vo}))),go}var _o,mo,wo=!1;function So(){return wo||(wo=!0,_o={},Wn(),mo=qn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},a(_o,"default",(function(){return mo}))),_o}var Eo,jo,Ro,xo,Po=!1;function Oo(t){return"\\"+Ro[t]}function To(t,e,n){!e&&n&&(e=n),e=Pr({},e,qn.templateSettings);var r,i=RegExp([(e.escape||jo).source,(e.interpolate||jo).source,(e.evaluate||jo).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(i,(function(e,n,r,i,a){return u+=t.slice(o,a).replace(xo,Oo),o=a+e.length,n?u+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(u+="';\n"+i+"\n__p+='"),e})),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{r=new Function(e.variable||"obj","_",u)}catch(t){throw t.source=u,t}var a=function(t){return r.call(this,t,qn)},s=e.variable||"obj";return a.source="function("+s+"){\n"+u+"}",a}function Co(){return Po||(Po=!0,Eo={},Tr(),Wn(),So(),jo=/(.)^/,Ro={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},xo=/\\|'|\r|\n|\u2028|\u2029/g,a(Eo,"default",(function(){return To}))),Eo}var Mo,ko=!1;function Do(t,e,n){ge(e)||(e=[e]);var r=e.length;if(!r)return we(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=we(o)?o.call(t):o}return t}function Ao(){return ko||(ko=!0,Mo={},be(),Ee(),a(Mo,"default",(function(){return Do}))),Mo}var Bo,Lo,No=!1;function Io(t){var e=++Lo+"";return t?t+e:e}function Fo(){return No||(No=!0,Lo=0,a(Bo={},"default",(function(){return Io}))),Bo}var qo,Wo=!1;function Uo(t){var e=qn(t);return e._chain=!0,e}function $o(){return Wo||(Wo=!0,qo={},Wn(),a(qo,"default",(function(){return Uo}))),qo}var Ho,Vo=!1;function zo(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=kr(t.prototype),u=t.apply(o,i);return J(u)?u:o}function Ko(){return Vo||(Vo=!0,Ho={},Dr(),Q(),a(Ho,"default",(function(){return zo}))),Ho}var Go,Yo,Zo=!1;function Xo(){return Zo||(Zo=!0,Go={},Y(),Ko(),Wn(),(Yo=G((function(t,e){var n=Yo.placeholder,r=function(){for(var i=0,o=e.length,u=Array(o),a=0;a<o;a++)u[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)u.push(arguments[i++]);return zo(t,r,this,this,u)};return r}))).placeholder=qn,a(Go,"default",(function(){return Yo}))),Go}var Jo,Qo,tu=!1;function eu(){return tu||(tu=!0,Jo={},Y(),Ee(),Ko(),Qo=G((function(t,e,n){if(!we(t))throw new TypeError("Bind must be called on a function");var r=G((function(i){return zo(t,r,e,this,n.concat(i))}));return r})),a(Jo,"default",(function(){return Qo}))),Jo}var nu,ru=!1;function iu(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,u=gn(t);o<u;o++){var a=t[o];if(_n(a)&&(ge(a)||Ce(a)))if(e>1)iu(a,e-1,n,r),i=r.length;else for(var s=0,c=a.length;s<c;)r[i++]=a[s++];else n||(r[i++]=a)}return r}function ou(){return ru||(ru=!0,nu={},bn(),wn(),be(),ke(),a(nu,"default",(function(){return iu}))),nu}var uu,au,su=!1;function cu(){return su||(su=!0,uu={},Y(),ou(),eu(),au=G((function(t,e){var n=(e=iu(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Qo(t[r],t)}return t})),a(uu,"default",(function(){return au}))),uu}var fu,lu=!1;function hu(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return xe(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}function du(){return lu||(lu=!0,fu={},Pe(),a(fu,"default",(function(){return hu}))),fu}var pu,gu,vu=!1;function bu(){return vu||(vu=!0,pu={},Y(),gu=G((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),a(pu,"default",(function(){return gu}))),pu}var yu,_u,mu=!1;function wu(){return mu||(mu=!0,yu={},Xo(),bu(),Wn(),_u=Yo(gu,qn,1),a(yu,"default",(function(){return _u}))),yu}var Su,Eu=!1;function ju(t,e,n){var r,i,o,u,a=0;n||(n={});var s=function(){a=!1===n.leading?0:Yi(),r=null,u=t.apply(i,o),r||(i=o=null)},c=function(){var c=Yi();a||!1!==n.leading||(a=c);var f=e-(c-a);return i=this,o=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),a=c,u=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(s,f)),u};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c}function Ru(){return Eu||(Eu=!0,Su={},Xi(),a(Su,"default",(function(){return ju}))),Su}var xu,Pu=!1;function Ou(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},u=G((function(u){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,e),a&&(i=t.apply(this,u))}else r=gu(o,e,this,u);return i}));return u.cancel=function(){clearTimeout(r),r=null},u}function Tu(){return Pu||(Pu=!0,xu={},Y(),bu(),a(xu,"default",(function(){return Ou}))),xu}var Cu,Mu=!1;function ku(t,e){return Yo(e,t)}function Du(){return Mu||(Mu=!0,Cu={},Xo(),a(Cu,"default",(function(){return ku}))),Cu}var Au,Bu=!1;function Lu(t){return function(){return!t.apply(this,arguments)}}function Nu(){return Bu||(Bu=!0,a(Au={},"default",(function(){return Lu}))),Au}var Iu,Fu=!1;function qu(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Wu(){return Fu||(Fu=!0,a(Iu={},"default",(function(){return qu}))),Iu}var Uu,$u=!1;function Hu(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Vu(){return $u||($u=!0,a(Uu={},"default",(function(){return Hu}))),Uu}var zu,Ku=!1;function Gu(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}function Yu(){return Ku||(Ku=!0,a(zu={},"default",(function(){return Gu}))),zu}var Zu,Xu,Ju=!1;function Qu(){return Ju||(Ju=!0,Zu={},Xo(),Yu(),Xu=Yo(Gu,2),a(Zu,"default",(function(){return Xu}))),Zu}var ta,ea=!1;function na(t,e,n){e=xi(e,n);for(var r,i=On(t),o=0,u=i.length;o<u;o++)if(e(t[r=i[o]],r,t))return r}function ra(){return ea||(ea=!0,ta={},Pi(),Tn(),a(ta,"default",(function(){return na}))),ta}var ia,oa=!1;function ua(t){return function(e,n,r){n=xi(n,r);for(var i=gn(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function aa(){return oa||(oa=!0,ia={},Pi(),bn(),a(ia,"default",(function(){return ua}))),ia}var sa,ca,fa=!1;function la(){return fa||(fa=!0,sa={},aa(),ca=ua(1),a(sa,"default",(function(){return ca}))),sa}var ha,da,pa=!1;function ga(){return pa||(pa=!0,ha={},aa(),da=ua(-1),a(ha,"default",(function(){return da}))),ha}var va,ba=!1;function ya(t,e,n,r){for(var i=(n=xi(n,r,1))(e),o=0,u=gn(t);o<u;){var a=Math.floor((o+u)/2);n(t[a])<i?o=a+1:u=a}return o}function _a(){return ba||(ba=!0,va={},Pi(),bn(),a(va,"default",(function(){return ya}))),va}var ma,wa=!1;function Sa(t,e,n){return function(r,i,o){var u=0,a=gn(r);if("number"==typeof o)t>0?u=o>=0?o:Math.max(o+a,u):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(O.call(r,u,a),Fe))>=0?o+u:-1;for(o=t>0?u:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}function Ea(){return wa||(wa=!0,ma={},bn(),V(),qe(),a(ma,"default",(function(){return Sa}))),ma}var ja,Ra,xa=!1;function Pa(){return xa||(xa=!0,ja={},_a(),la(),Ea(),Ra=Sa(1,ca,ya),a(ja,"default",(function(){return Ra}))),ja}var Oa,Ta,Ca=!1;function Ma(){return Ca||(Ca=!0,Oa={},ga(),Ea(),Ta=Sa(-1,da),a(Oa,"default",(function(){return Ta}))),Oa}var ka,Da=!1;function Aa(t,e,n){var r=(_n(t)?ca:na)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Ba(){return Da||(Da=!0,ka={},wn(),la(),ra(),a(ka,"default",(function(){return Aa}))),ka}var La,Na=!1;function Ia(t,e){return Aa(t,ni(e))}function Fa(){return Na||(Na=!0,La={},Ba(),ri(),a(La,"default",(function(){return Ia}))),La}var qa,Wa=!1;function Ua(t,e,n){var r,i;if(e=pi(e,n),_n(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=On(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function $a(){return Wa||(Wa=!0,qa={},gi(),wn(),Tn(),a(qa,"default",(function(){return Ua}))),qa}var Ha,Va=!1;function za(t,e,n){e=xi(e,n);for(var r=!_n(t)&&On(t),i=(r||t).length,o=Array(i),u=0;u<i;u++){var a=r?r[u]:u;o[u]=e(t[a],a,t)}return o}function Ka(){return Va||(Va=!0,Ha={},Pi(),wn(),Tn(),a(Ha,"default",(function(){return za}))),Ha}var Ga,Ya=!1;function Za(t){var e=function(e,n,r,i){var o=!_n(e)&&On(e),u=(o||e).length,a=t>0?0:u-1;for(i||(r=e[o?o[a]:a],a+=t);a>=0&&a<u;a+=t){var s=o?o[a]:a;r=n(r,e[s],s,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,pi(n,i,4),r,o)}}function Xa(){return Ya||(Ya=!0,Ga={},wn(),Tn(),gi(),a(Ga,"default",(function(){return Za}))),Ga}var Ja,Qa,ts=!1;function es(){return ts||(ts=!0,Ja={},Xa(),Qa=Za(1),a(Ja,"default",(function(){return Qa}))),Ja}var ns,rs,is=!1;function os(){return is||(is=!0,ns={},Xa(),rs=Za(-1),a(ns,"default",(function(){return rs}))),ns}var us,as=!1;function ss(t,e,n){var r=[];return e=xi(e,n),Ua(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function cs(){return as||(as=!0,us={},Pi(),$a(),a(us,"default",(function(){return ss}))),us}var fs,ls=!1;function hs(t,e,n){return ss(t,Lu(xi(e)),n)}function ds(){return ls||(ls=!0,fs={},cs(),Nu(),Pi(),a(fs,"default",(function(){return hs}))),fs}var ps,gs=!1;function vs(t,e,n){e=xi(e,n);for(var r=!_n(t)&&On(t),i=(r||t).length,o=0;o<i;o++){var u=r?r[o]:o;if(!e(t[u],u,t))return!1}return!0}function bs(){return gs||(gs=!0,ps={},Pi(),wn(),Tn(),a(ps,"default",(function(){return vs}))),ps}var ys,_s=!1;function ms(t,e,n){e=xi(e,n);for(var r=!_n(t)&&On(t),i=(r||t).length,o=0;o<i;o++){var u=r?r[o]:o;if(e(t[u],u,t))return!0}return!1}function ws(){return _s||(_s=!0,ys={},Pi(),wn(),Tn(),a(ys,"default",(function(){return ms}))),ys}var Ss,Es=!1;function js(t,e,n,r){return _n(t)||(t=tr(t)),("number"!=typeof n||r)&&(n=0),Ra(t,e,n)>=0}function Rs(){return Es||(Es=!0,Ss={},wn(),er(),Pa(),a(Ss,"default",(function(){return js}))),Ss}var xs,Ps,Os=!1;function Ts(){return Os||(Os=!0,xs={},Y(),Ee(),be(),Ka(),ai(),Ps=G((function(t,e,n){var r,i;return we(e)?i=e:ge(e)&&(r=e.slice(0,-1),e=e[e.length-1]),za(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=ui(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))})),a(xs,"default",(function(){return Ps}))),xs}var Cs,Ms=!1;function ks(t,e){return za(t,fi(e))}function Ds(){return Ms||(Ms=!0,Cs={},Ka(),li(),a(Cs,"default",(function(){return ks}))),Cs}var As,Bs=!1;function Ls(t,e){return ss(t,ni(e))}function Ns(){return Bs||(Bs=!0,As={},cs(),ri(),a(As,"default",(function(){return Ls}))),As}var Is,Fs=!1;function qs(t,e,n){var r,i,o=-1/0,u=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,s=(t=_n(t)?t:tr(t)).length;a<s;a++)null!=(r=t[a])&&r>o&&(o=r);else e=xi(e,n),Ua(t,(function(t,n,r){((i=e(t,n,r))>u||i===-1/0&&o===-1/0)&&(o=t,u=i)}));return o}function Ws(){return Fs||(Fs=!0,Is={},wn(),er(),Pi(),$a(),a(Is,"default",(function(){return qs}))),Is}var Us,$s=!1;function Hs(t,e,n){var r,i,o=1/0,u=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,s=(t=_n(t)?t:tr(t)).length;a<s;a++)null!=(r=t[a])&&r<o&&(o=r);else e=xi(e,n),Ua(t,(function(t,n,r){((i=e(t,n,r))<u||i===1/0&&o===1/0)&&(o=t,u=i)}));return o}function Vs(){return $s||($s=!0,Us={},wn(),er(),Pi(),$a(),a(Us,"default",(function(){return Hs}))),Us}var zs,Ks=!1;function Gs(t,e,n){if(null==e||n)return _n(t)||(t=tr(t)),t[zi(t.length-1)];var r=_n(t)?qr(t):tr(t),i=gn(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,u=0;u<e;u++){var a=zi(u,o),s=r[u];r[u]=r[a],r[a]=s}return r.slice(0,e)}function Ys(){return Ks||(Ks=!0,zs={},wn(),Wr(),er(),bn(),Ki(),a(zs,"default",(function(){return Gs}))),zs}var Zs,Xs=!1;function Js(t){return Gs(t,1/0)}function Qs(){return Xs||(Xs=!0,Zs={},Ys(),a(Zs,"default",(function(){return Js}))),Zs}var tc,ec=!1;function nc(t,e,n){var r=0;return e=xi(e,n),ks(za(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function rc(){return ec||(ec=!0,tc={},Pi(),Ds(),Ka(),a(tc,"default",(function(){return nc}))),tc}var ic,oc=!1;function uc(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=xi(r,i),Ua(n,(function(e,i){var u=r(e,i,n);t(o,e,u)})),o}}function ac(){return oc||(oc=!0,ic={},Pi(),$a(),a(ic,"default",(function(){return uc}))),ic}var sc,cc,fc=!1;function lc(){return fc||(fc=!0,sc={},ac(),Pe(),cc=uc((function(t,e,n){xe(t,n)?t[n].push(e):t[n]=[e]})),a(sc,"default",(function(){return cc}))),sc}var hc,dc,pc=!1;function gc(){return pc||(pc=!0,hc={},ac(),dc=uc((function(t,e,n){t[n]=e})),a(hc,"default",(function(){return dc}))),hc}var vc,bc,yc=!1;function _c(){return yc||(yc=!0,vc={},ac(),Pe(),bc=uc((function(t,e,n){xe(t,n)?t[n]++:t[n]=1})),a(vc,"default",(function(){return bc}))),vc}var mc,wc,Sc=!1;function Ec(){return Sc||(Sc=!0,mc={},ac(),wc=uc((function(t,e,n){t[n?0:1].push(e)}),!0),a(mc,"default",(function(){return wc}))),mc}var jc,Rc,xc=!1;function Pc(t){return t?ge(t)?O.call(t):wt(t)?t.match(Rc):_n(t)?za(t,Jr):tr(t):[]}function Oc(){return xc||(xc=!0,jc={},be(),V(),Et(),wn(),Ka(),Qr(),er(),Rc=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,a(jc,"default",(function(){return Pc}))),jc}var Tc,Cc=!1;function Mc(t){return null==t?0:_n(t)?t.length:On(t).length}function kc(){return Cc||(Cc=!0,Tc={},wn(),Tn(),a(Tc,"default",(function(){return Mc}))),Tc}var Dc,Ac=!1;function Bc(t,e,n){return e in n}function Lc(){return Ac||(Ac=!0,a(Dc={},"default",(function(){return Bc}))),Dc}var Nc,Ic,Fc=!1;function qc(){return Fc||(Fc=!0,Nc={},Y(),Ee(),gi(),Xn(),Lc(),ou(),Ic=G((function(t,e){var n={},r=e[0];if(null==t)return n;we(r)?(e.length>1&&(r=pi(r,e[1])),e=Zn(t)):(r=Bc,e=iu(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var u=e[i],a=t[u];r(a,u,t)&&(n[u]=a)}return n})),a(Nc,"default",(function(){return Ic}))),Nc}var Wc,Uc,$c=!1;function Hc(){return $c||($c=!0,Wc={},Y(),Ee(),Nu(),Ka(),ou(),Rs(),qc(),Uc=G((function(t,e){var n,r=e[0];return we(r)?(r=Lu(r),e.length>1&&(n=e[1])):(e=za(iu(e,!1,!1),String),r=function(t,n){return!js(e,n)}),Ic(t,r,n)})),a(Wc,"default",(function(){return Uc}))),Wc}var Vc,zc=!1;function Kc(t,e,n){return O.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Gc(){return zc||(zc=!0,Vc={},V(),a(Vc,"default",(function(){return Kc}))),Vc}var Yc,Zc=!1;function Xc(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Kc(t,t.length-e)}function Jc(){return Zc||(Zc=!0,Yc={},Gc(),a(Yc,"default",(function(){return Xc}))),Yc}var Qc,tf=!1;function ef(t,e,n){return O.call(t,null==e||n?1:e)}function nf(){return tf||(tf=!0,Qc={},V(),a(Qc,"default",(function(){return ef}))),Qc}var rf,of=!1;function uf(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:ef(t,Math.max(0,t.length-e))}function af(){return of||(of=!0,rf={},nf(),a(rf,"default",(function(){return uf}))),rf}var sf,cf=!1;function ff(t){return ss(t,Boolean)}function lf(){return cf||(cf=!0,sf={},cs(),a(sf,"default",(function(){return ff}))),sf}var hf,df=!1;function pf(t,e){return iu(t,e,!1)}function gf(){return df||(df=!0,hf={},ou(),a(hf,"default",(function(){return pf}))),hf}var vf,bf,yf=!1;function _f(){return yf||(yf=!0,vf={},Y(),ou(),cs(),Rs(),bf=G((function(t,e){return e=iu(e,!0,!0),ss(t,(function(t){return!js(e,t)}))})),a(vf,"default",(function(){return bf}))),vf}var mf,wf,Sf=!1;function Ef(){return Sf||(Sf=!0,mf={},Y(),_f(),wf=G((function(t,e){return bf(t,e)})),a(mf,"default",(function(){return wf}))),mf}var jf,Rf=!1;function xf(t,e,n,r){ft(e)||(r=n,n=e,e=!1),null!=n&&(n=xi(n,r));for(var i=[],o=[],u=0,a=gn(t);u<a;u++){var s=t[u],c=n?n(s,u,t):s;e&&!n?(u&&o===c||i.push(s),o=c):n?js(o,c)||(o.push(c),i.push(s)):js(i,s)||i.push(s)}return i}function Pf(){return Rf||(Rf=!0,jf={},lt(),Pi(),bn(),Rs(),a(jf,"default",(function(){return xf}))),jf}var Of,Tf,Cf=!1;function Mf(){return Cf||(Cf=!0,Of={},Y(),Pf(),ou(),Tf=G((function(t){return xf(iu(t,!0,!0))})),a(Of,"default",(function(){return Tf}))),Of}var kf,Df=!1;function Af(t){for(var e=[],n=arguments.length,r=0,i=gn(t);r<i;r++){var o=t[r];if(!js(e,o)){var u;for(u=1;u<n&&js(arguments[u],o);u++);u===n&&e.push(o)}}return e}function Bf(){return Df||(Df=!0,kf={},bn(),Rs(),a(kf,"default",(function(){return Af}))),kf}var Lf,Nf=!1;function If(t){for(var e=t&&qs(t,gn).length||0,n=Array(e),r=0;r<e;r++)n[r]=ks(t,r);return n}function Ff(){return Nf||(Nf=!0,Lf={},Ws(),bn(),Ds(),a(Lf,"default",(function(){return If}))),Lf}var qf,Wf,Uf=!1;function $f(){return Uf||(Uf=!0,qf={},Y(),Ff(),Wf=G(If),a(qf,"default",(function(){return Wf}))),qf}var Hf,Vf=!1;function zf(t,e){for(var n={},r=0,i=gn(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Kf(){return Vf||(Vf=!0,Hf={},bn(),a(Hf,"default",(function(){return zf}))),Hf}var Gf,Yf=!1;function Zf(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function Xf(){return Yf||(Yf=!0,a(Gf={},"default",(function(){return Zf}))),Gf}var Jf,Qf=!1;function tl(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(O.call(t,r,r+=e));return n}function el(){return Qf||(Qf=!0,Jf={},V(),a(Jf,"default",(function(){return tl}))),Jf}var nl,rl=!1;function il(t,e){return t._chain?qn(e).chain():e}function ol(){return rl||(rl=!0,nl={},Wn(),a(nl,"default",(function(){return il}))),nl}var ul,al=!1;function sl(t){return Ua(hr(t),(function(e){var n=qn[e]=t[e];qn.prototype[e]=function(){var t=[this._wrapped];return P.apply(t,arguments),il(this,n.apply(qn,t))}})),qn}function cl(){return al||(al=!0,ul={},Wn(),$a(),dr(),V(),ol(),a(ul,"default",(function(){return sl}))),ul}var fl,ll=!1;function hl(){return ll||(ll=!0,fl={},Wn(),$a(),V(),ol(),Ua(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=j[t];qn.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),il(this,n)}})),Ua(["concat","join","slice"],(function(t){var e=j[t];qn.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),il(this,t)}})),qn,a(fl,"default",(function(){return qn}))),fl}var dl,pl=!1;function gl(){return pl||(pl=!0,dl={},V(),Y(),Q(),rt(),at(),lt(),gt(),Et(),Pt(),Mt(),Bt(),Ft(),$t(),Kt(),Xt(),ee(),oe(),ce(),de(),be(),Ee(),ke(),Le(),qe(),dn(),Dn(),Nn(),Kn(),Tn(),Xn(),er(),or(),cr(),dr(),wr(),Rr(),Tr(),Nr(),Wr(),Vr(),Yr(),Mi(),Qr(),He(),Bi(),li(),Fi(),ri(),$i(),Ki(),Xi(),co(),yo(),So(),Co(),Ao(),Fo(),$o(),Ei(),Xo(),eu(),cu(),du(),bu(),wu(),Ru(),Tu(),Du(),Nu(),Wu(),Vu(),Yu(),Qu(),ra(),la(),ga(),_a(),Pa(),Ma(),Ba(),Fa(),$a(),Ka(),es(),os(),cs(),ds(),bs(),ws(),Rs(),Ts(),Ds(),Ns(),Ws(),Vs(),Qs(),Ys(),rc(),lc(),gc(),_c(),Ec(),Oc(),kc(),qc(),Hc(),Jc(),Gc(),af(),nf(),lf(),gf(),Ef(),Pf(),Mf(),Bf(),_f(),Ff(),$f(),Kf(),Xf(),el(),cl(),hl(),a(dl,"VERSION",(function(){return S})),a(dl,"restArguments",(function(){return G})),a(dl,"isObject",(function(){return J})),a(dl,"isNull",(function(){return nt})),a(dl,"isUndefined",(function(){return ut})),a(dl,"isBoolean",(function(){return ft})),a(dl,"isElement",(function(){return pt})),a(dl,"isString",(function(){return wt})),a(dl,"isNumber",(function(){return Rt})),a(dl,"isDate",(function(){return Tt})),a(dl,"isRegExp",(function(){return Dt})),a(dl,"isError",(function(){return Nt})),a(dl,"isSymbol",(function(){return Wt})),a(dl,"isMap",(function(){return Vt})),a(dl,"isWeakMap",(function(){return Yt})),a(dl,"isSet",(function(){return Qt})),a(dl,"isWeakSet",(function(){return re})),a(dl,"isArrayBuffer",(function(){return ae})),a(dl,"isDataView",(function(){return le})),a(dl,"isArray",(function(){return ge})),a(dl,"isFunction",(function(){return we})),a(dl,"isArguments",(function(){return Ce})),a(dl,"isFinite",(function(){return Be})),a(dl,"isNaN",(function(){return Fe})),a(dl,"isTypedArray",(function(){return fn})),a(dl,"isEmpty",(function(){return kn})),a(dl,"isMatch",(function(){return Ln})),a(dl,"isEqual",(function(){return zn})),a(dl,"keys",(function(){return On})),a(dl,"allKeys",(function(){return Zn})),a(dl,"values",(function(){return tr})),a(dl,"pairs",(function(){return ir})),a(dl,"invert",(function(){return sr})),a(dl,"methods",(function(){return hr})),a(dl,"functions",(function(){return hr})),a(dl,"extend",(function(){return _r})),a(dl,"assign",(function(){return Er})),a(dl,"extendOwn",(function(){return Er})),a(dl,"defaults",(function(){return Pr})),a(dl,"create",(function(){return Lr})),a(dl,"clone",(function(){return qr})),a(dl,"tap",(function(){return Hr})),a(dl,"has",(function(){return Gr})),a(dl,"mapObject",(function(){return Ci})),a(dl,"identity",(function(){return Jr})),a(dl,"constant",(function(){return $e})),a(dl,"noop",(function(){return Ai})),a(dl,"property",(function(){return fi})),a(dl,"propertyOf",(function(){return Ii})),a(dl,"matches",(function(){return ni})),a(dl,"matcher",(function(){return ni})),a(dl,"times",(function(){return Ui})),a(dl,"random",(function(){return zi})),a(dl,"now",(function(){return Yi})),a(dl,"escape",(function(){return ao})),a(dl,"unescape",(function(){return vo})),a(dl,"templateSettings",(function(){return mo})),a(dl,"template",(function(){return To})),a(dl,"result",(function(){return Do})),a(dl,"uniqueId",(function(){return Io})),a(dl,"chain",(function(){return Uo})),a(dl,"iteratee",(function(){return Si})),a(dl,"partial",(function(){return Yo})),a(dl,"bind",(function(){return Qo})),a(dl,"bindAll",(function(){return au})),a(dl,"memoize",(function(){return hu})),a(dl,"delay",(function(){return gu})),a(dl,"defer",(function(){return _u})),a(dl,"throttle",(function(){return ju})),a(dl,"debounce",(function(){return Ou})),a(dl,"wrap",(function(){return ku})),a(dl,"negate",(function(){return Lu})),a(dl,"compose",(function(){return qu})),a(dl,"after",(function(){return Hu})),a(dl,"before",(function(){return Gu})),a(dl,"once",(function(){return Xu})),a(dl,"findKey",(function(){return na})),a(dl,"findIndex",(function(){return ca})),a(dl,"findLastIndex",(function(){return da})),a(dl,"sortedIndex",(function(){return ya})),a(dl,"indexOf",(function(){return Ra})),a(dl,"lastIndexOf",(function(){return Ta})),a(dl,"detect",(function(){return Aa})),a(dl,"find",(function(){return Aa})),a(dl,"findWhere",(function(){return Ia})),a(dl,"forEach",(function(){return Ua})),a(dl,"each",(function(){return Ua})),a(dl,"collect",(function(){return za})),a(dl,"map",(function(){return za})),a(dl,"inject",(function(){return Qa})),a(dl,"foldl",(function(){return Qa})),a(dl,"reduce",(function(){return Qa})),a(dl,"foldr",(function(){return rs})),a(dl,"reduceRight",(function(){return rs})),a(dl,"select",(function(){return ss})),a(dl,"filter",(function(){return ss})),a(dl,"reject",(function(){return hs})),a(dl,"all",(function(){return vs})),a(dl,"every",(function(){return vs})),a(dl,"any",(function(){return ms})),a(dl,"some",(function(){return ms})),a(dl,"include",(function(){return js})),a(dl,"includes",(function(){return js})),a(dl,"contains",(function(){return js})),a(dl,"invoke",(function(){return Ps})),a(dl,"pluck",(function(){return ks})),a(dl,"where",(function(){return Ls})),a(dl,"max",(function(){return qs})),a(dl,"min",(function(){return Hs})),a(dl,"shuffle",(function(){return Js})),a(dl,"sample",(function(){return Gs})),a(dl,"sortBy",(function(){return nc})),a(dl,"groupBy",(function(){return cc})),a(dl,"indexBy",(function(){return dc})),a(dl,"countBy",(function(){return bc})),a(dl,"partition",(function(){return wc})),a(dl,"toArray",(function(){return Pc})),a(dl,"size",(function(){return Mc})),a(dl,"pick",(function(){return Ic})),a(dl,"omit",(function(){return Uc})),a(dl,"take",(function(){return Xc})),a(dl,"head",(function(){return Xc})),a(dl,"first",(function(){return Xc})),a(dl,"initial",(function(){return Kc})),a(dl,"last",(function(){return uf})),a(dl,"drop",(function(){return ef})),a(dl,"tail",(function(){return ef})),a(dl,"rest",(function(){return ef})),a(dl,"compact",(function(){return ff})),a(dl,"flatten",(function(){return pf})),a(dl,"without",(function(){return wf})),a(dl,"unique",(function(){return xf})),a(dl,"uniq",(function(){return xf})),a(dl,"union",(function(){return Tf})),a(dl,"intersection",(function(){return Af})),a(dl,"difference",(function(){return bf})),a(dl,"transpose",(function(){return If})),a(dl,"unzip",(function(){return If})),a(dl,"zip",(function(){return Wf})),a(dl,"object",(function(){return zf})),a(dl,"range",(function(){return Zf})),a(dl,"chunk",(function(){return tl})),a(dl,"mixin",(function(){return sl})),a(dl,"default",(function(){return qn}))),dl}var vl,bl,yl=!1;function _l(){return yl||(yl=!0,vl={},gl(),gl(),(bl=sl(dl))._=bl,a(vl,"default",(function(){return bl}))),vl}var ml,wl=!1;function Sl(){var t,e,n;t=ml={},Object.defineProperty(t,"__esModule",{value:!0}),_l(),e=ml,n=gl(),Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),a(ml,"default",(function(){return bl}))}(function(){var t,e,n,r,i,o,u,a,s=[].slice;wl||(wl=!0,Sl()),n={cmd:"⌘",ctrl:"⌃",alt:"⌥",option:"⌥",shift:"⇧",enter:"⏎",left:"←",right:"→",up:"↑",down:"↓"},r={cmd:"Cmd",ctrl:"Ctrl",alt:"Alt",option:"Alt",shift:"Shift",enter:"Enter",left:"Left",right:"Right",up:"Up",down:"Down"},o={"~":"`",_:"-","+":"=","|":"\\","{":"[","}":"]",":":";",'"':"'","<":",",">":".","?":"/"},u=function(t){var e,n,r,i,o;if(r=0,n=[],null==t)return n;for(e=i=0,o=t.length;i<o;e=++i)"."!==t[e]||0!==e&&"\\"===t[e-1]||(n.push(t.substring(r,e)),r=e+1);return n.push(t.substr(r,t.length)),n},e=function(t){return a.isObject(t)&&!a.isArray(t)},i={adviseBefore:function(t,e,n){var r;return r=t[e],t[e]=function(){var t;if(t=1<=arguments.length?s.call(arguments,0):[],!1!==n.apply(this,t))return r.apply(this,t)}},camelize:function(t){return t?t.replace(/[_-]+(\w)/g,(function(t){return t[1].toUpperCase()})):""},capitalize:function(t){return t?"github"===t.toLowerCase()?"GitHub":t[0].toUpperCase()+t.slice(1):""},compactObject:function(t){var e,n,r;for(e in n={},t)null!=(r=t[e])&&(n[e]=r);return n},dasherize:function(t){return t?(t=t[0].toLowerCase()+t.slice(1)).replace(/([A-Z])|(_)/g,(function(t,e){return e?"-"+e.toLowerCase():"-"})):""},deepClone:function(t){return a.isArray(t)?t.map((function(t){return i.deepClone(t)})):a.isObject(t)&&!a.isFunction(t)?i.mapObject(t,(function(t,e){return[t,i.deepClone(e)]})):t},deepExtend:function(t){var n,r,o,u,a,s,c;for(u=t,n=0;++n<arguments.length;)if(o=arguments[n],e(u)&&e(o))for(a=0,s=(c=Object.keys(o)).length;a<s;a++)u[r=c[a]]=i.deepExtend(u[r],o[r]);else u=i.deepClone(o);return u},deepContains:function(t,e){var n,r,i;if(null==t)return!1;for(r=0,i=t.length;r<i;r++)if(n=t[r],a.isEqual(n,e))return!0;return!1},endsWith:function(t,e){return null==e&&(e=""),!!t&&-1!==t.indexOf(e,t.length-e.length)},escapeAttribute:function(t){return t?t.replace(/"/g,"&quot;").replace(/\n/g,"").replace(/\\/g,"-"):""},escapeRegExp:function(t){return t?t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):""},humanizeEventName:function(t,e){var n,r,o,u;return r=(u=t.split(":"))[0],null==(n=u[1])?i.undasherize(r):(o=i.undasherize(r),null==e&&(e=i.undasherize(n)),o+": "+e)},humanizeKey:function(t,e){var u;return null==e&&(e=process.platform),t?(u="darwin"===e?n:r)[t]?u[t]:1===t.length&&null!=o[t]?[u.shift,o[t]]:1===t.length&&t===t.toUpperCase()&&t.toUpperCase()!==t.toLowerCase()?[u.shift,t.toUpperCase()]:1===t.length||/f[0-9]{1,2}/.test(t)?t.toUpperCase():"darwin"===e?t:i.capitalize(t):t},humanizeKeystroke:function(t,e){var n,r,o,u,s,c,f,l,h,d;if(null==e&&(e=process.platform),!t)return t;for(n=[],f=0,h=(s=t.split(" ")).length;f<h;f++){for(u=[],r=l=0,d=(c=(t=s[f]).split("-")).length;l<d;r=++l)""===(o=c[r])&&""===c[r-1]&&(o="-"),o&&u.push(i.humanizeKey(o,e));u=a.uniq(a.flatten(u)),u="darwin"===e?u.join(""):u.join("+"),n.push(u)}return n.join(" ")},isSubset:function(t,e){return a.every(t,(function(t){return a.include(e,t)}))},losslessInvert:function(t){var e,n,r;for(n in e={},t)null==e[r=t[n]]&&(e[r]=[]),e[r].push(n);return e},mapObject:function(t,e){var n,r,i,o,u,a,s;for(r={},o=0,u=(a=Object.keys(t)).length;o<u;o++)n=(s=e(n=a[o],t[n]))[0],i=s[1],r[n]=i;return r},multiplyString:function(t,e){var n,r;for(n="",r=0;r<e;)n+=t,r++;return n},pluralize:function(t,e,n){return null==t&&(t=0),null==n&&(n=e+"s"),1===t?t+" "+e:t+" "+n},remove:function(t,e){var n;return(n=t.indexOf(e))>=0&&t.splice(n,1),t},setValueForKeyPath:function(t,e,n){var r,i;for(i=u(e);i.length>1;)null==t[r=i.shift()]&&(t[r]={}),t=t[r];return null!=n?t[i.shift()]=n:delete t[i.shift()]},hasKeyPath:function(t,e){var n,r,i,o;for(i=0,o=(r=u(e)).length;i<o;i++){if(n=r[i],!t.hasOwnProperty(n))return!1;t=t[n]}return!0},spliceWithArray:function(t,e,n,r,i){var o,u,a,c;if(null==i&&(i=1e5),r.length<i)return t.splice.apply(t,[e,n].concat(s.call(r)));for(t.splice(e,n),c=[],o=u=0,a=r.length;i>0?u<=a:u>=a;o=u+=i)c.push(t.splice.apply(t,[e+o,0].concat(s.call(r.slice(o,o+i)))));return c},sum:function(t){var e,n,r;for(e=0,n=0,r=t.length;n<r;n++)e+=t[n];return e},uncamelcase:function(t){var e;return t?(e=t.replace(/([A-Z])|_+/g,(function(t,e){return null==e&&(e="")," "+e})),i.capitalize(e.trim())):""},undasherize:function(t){return t?t.split("-").map(i.capitalize).join(" "):""},underscore:function(t){return t?(t=t[0].toLowerCase()+t.slice(1)).replace(/([A-Z])|-+/g,(function(t,e){return null==e&&(e=""),"_"+e.toLowerCase()})):""},valueForKeyPath:function(t,e){var n,r,i;for(r=0,i=(n=u(e)).length;r<i;r++)if(null==(t=t[n[r]]))return;return t},isEqual:function(e,n,r,i){return a.isArray(r)&&a.isArray(i)?t(e,n,r,i):t(e,n)},isEqualForProperties:function(){var t,e,n,r,i,o;for(t=arguments[0],e=arguments[1],i=0,o=(n=3<=arguments.length?s.call(arguments,2):[]).length;i<o;i++)if(r=n[i],!a.isEqual(t[r],e[r]))return!1;return!0}},t=function(e,n,r,i){var o,u,s,c,f,l,h,d,p,g,v,b,y,_;if(null==r&&(r=[]),null==i&&(i=[]),e===n)return a.isEqual(e,n);if(a.isFunction(e)||a.isFunction(n))return a.isEqual(e,n);for(b=r.length;b--;)if(r[b]===e)return i[b]===n;if(r.push(e),i.push(n),p=!1,a.isFunction(null!=e?e.isEqual:void 0))p=e.isEqual(n,r,i);else if(a.isFunction(null!=n?n.isEqual:void 0))p=n.isEqual(e,i,r);else if(a.isArray(e)&&a.isArray(n)&&e.length===n.length){for(p=!0,g=y=0,_=e.length;y<_;g=++y)if(s=e[g],!t(s,n[g],r,i)){p=!1;break}}else if(a.isRegExp(e)&&a.isRegExp(n))p=a.isEqual(e,n);else if(a.isElement(e)&&a.isElement(n))p=e===n;else if(a.isObject(e)&&a.isObject(n))if(o=e.constructor,l=n.constructor,u=a.isFunction(o)&&o instanceof o,h=a.isFunction(l)&&l instanceof l,o===l||u&&h){for(v in c=0,p=!0,e)if(f=e[v],a.has(e,v)&&(c++,!a.has(n,v)||!t(f,n[v],r,i))){p=!1;break}if(p){for(v in d=0,n)n[v],a.has(n,v)&&d++;p=c===d}}else p=!1;else p=a.isEqual(e,n);return r.pop(),i.pop(),p},$=(a=ml).extend({},a,i)}).call($);var El=Dv($),jl=Dv((t=>{const e=/^\\\\\?\\/.test(t),n=/[^\u0000-\u0080]+/.test(t);return e||n?t:t.replace(/\\/g,"/")})),Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});var xl=void 0;Rl.default=xl;var Pl=u,Ol=Sv(i),Tl={};Tl={trimSlashes:function(t){let e=t;return"/"===e.charAt(0)&&(e=e.substr(1)),"/"===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e},removeTrailingWhitespace:function(t){return/\\\s+$/.test(t)?t.replace(/\\(\s+)$/,"$1"):t.replace(/\s+$/,"")},isWhitespace:function(t){return/^\s*$/.test(t)},startsWithChar:function(t,e){return new RegExp(`^${e}+.*$`).test(t)}};var Cl=Sv((function(t){let e=[];return t.split(/\n/).forEach((t=>{let n;Tl.isWhitespace(t)||Tl.startsWithChar(t,"#")||(n=Tl.removeTrailingWhitespace(t),n=Tl.trimSlashes(n),e.includes(n)||e.push(n))})),e}));const{spawn:Ml}=r;var kl,Dl,Al={},Bl={},Ll=!1;function Nl(){return Ll||(Ll=!0,Dl={},Dl=u.EventEmitter),Dl}var Il;function Fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ul=n.Buffer,$l={}.inspect,Hl=$l&&$l.custom||"inspect";Il=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,r;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return Ul.alloc(0);for(var e,n,r,i=Ul.allocUnsafe(t>>>0),o=this.head,u=0;o;)e=o.data,n=i,r=u,Ul.prototype.copy.call(e,n,r),u+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=Ul.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:Hl,value:function(t,e){return $l(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fl(Object(n),!0).forEach((function(e){ql(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{depth:0,customInspect:!1}))}}])&&Wl(e.prototype,n),r&&Wl(e,r),t}();var Vl,zl=!1;function Kl(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Xl,this,t)):process.nextTick(Xl,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted?process.nextTick(Yl,n):(n._writableState.errorEmitted=!0,process.nextTick(Gl,n,t)):process.nextTick(Gl,n,t):e?(process.nextTick(Yl,n),e(t)):process.nextTick(Yl,n)})),this)}function Gl(t,e){Xl(t,e),Yl(t)}function Yl(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Zl(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xl(t,e){t.emit("error",e)}function Jl(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}function Ql(){return zl||(zl=!0,Vl={},Vl={destroy:Kl,undestroy:Zl,errorOrDestroy:Jl}),Vl}var th,eh,nh,rh=!1;function ih(t,e,n){n||(n=Error);var r=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);r.prototype.name=n.name,r.prototype.code=t,eh[t]=r}function oh(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}function uh(){return rh||(rh=!0,th={},eh={},ih("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),ih("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,o,u;if("string"==typeof e&&(i="not ",e.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))u="The ".concat(t," ").concat(r," ").concat(oh(e,"type"));else{var a=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";u='The "'.concat(t,'" ').concat(a," ").concat(r," ").concat(oh(e,"type"))}return u+". Received type ".concat(typeof n)}),TypeError),ih("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ih("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),ih("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ih("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),ih("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ih("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ih("ERR_STREAM_WRITE_AFTER_END","write after end"),ih("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ih("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),ih("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),nh=eh,th.codes=nh),th}var ah,sh,ch=!1;function fh(t,e,n,r){var i=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,r,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new sh(r?n:"highWaterMark",i);return Math.floor(i)}return t.objectMode?16:16384}function lh(){return ch||(ch=!0,ah={},sh=uh().codes.ERR_INVALID_OPT_VALUE,ah={getHighWaterMark:fh}),ah}var hh,dh=!1;function ph(){return dh||(dh=!0,hh={},hh="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),hh}var gh,vh=!1;function bh(t,e){if(yh("noDeprecation"))return t;var n=!1;return function(){if(!n){if(yh("throwDeprecation"))throw new Error(e);yh("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}function yh(t){try{if(!s.localStorage)return!1}catch(t){return!1}var e=s.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}function _h(){return vh||(vh=!0,gh={},gh=bh),gh}var mh,wh,Sh,Eh,jh,Rh,xh,Ph,Oh,Th,Ch,Mh,kh,Dh,Ah,Bh,Lh,Nh,Ih,Fh,qh=!1;function Wh(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}function Uh(){}function $h(t,e,n){wh=wh||ld(),t=t||{},"boolean"!=typeof n&&(n=e instanceof wh),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Oh(this,t,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=!1===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new kh;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(process.nextTick(i,r),process.nextTick(Xh,t,e),t._writableState.errorEmitted=!0,Ih(t,r)):(i(r),t._writableState.errorEmitted=!0,Ih(t,r),Xh(t,e))}(t,n,r,e,i);else{var o=Yh(n)||t.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||Gh(t,n),r?process.nextTick(Kh,t,n,o,i):Kh(t,n,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Wh(this)}function Hh(t){var e=this instanceof(wh=wh||ld());if(!e&&!Fh.call(Hh,this))return new Hh(t);this._writableState=new $h(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),Eh.call(this)}function Vh(t,e,n,r,i,o){if(!n){var u=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=jh.from(e,n)),e}(e,r,i);r!==u&&(n=!0,i="buffer",r=u)}var a=e.objectMode?1:r.length;e.length+=a;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else zh(t,e,!1,a,r,i,o);return s}function zh(t,e,n,r,i,o,u){e.writelen=r,e.writecb=u,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ah("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Kh(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),Xh(t,e)}function Gh(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var u=0,a=!0;n;)i[u]=n,n.isBuf||(a=!1),n=n.next,u+=1;i.allBuffers=a,zh(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Wh(e),e.bufferedRequestCount=0}else{for(;n;){var s=n.chunk,c=n.encoding,f=n.callback;if(zh(t,e,!1,e.objectMode?1:s.length,s,c,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function Yh(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function Zh(t,e){t._final((function(n){e.pendingcb--,n&&Ih(t,n),e.prefinished=!0,t.emit("prefinish"),Xh(t,e)}))}function Xh(t,e){var n=Yh(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(Zh,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}function Jh(){mh={},mh=Hh,Hh.WritableState=$h,Sh={deprecate:_h()},Eh=Nl(),jh=n.Buffer,Rh=s.Uint8Array||function(){},xh=Ql(),Ph=lh(),Oh=Ph.getHighWaterMark,Th=uh().codes,Ch=Th.ERR_INVALID_ARG_TYPE,Mh=Th.ERR_METHOD_NOT_IMPLEMENTED,kh=Th.ERR_MULTIPLE_CALLBACK,Dh=Th.ERR_STREAM_CANNOT_PIPE,Ah=Th.ERR_STREAM_DESTROYED,Bh=Th.ERR_STREAM_NULL_VALUES,Lh=Th.ERR_STREAM_WRITE_AFTER_END,Nh=Th.ERR_UNKNOWN_ENCODING,Ih=xh.errorOrDestroy,ph()(Hh,Eh),$h.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty($h.prototype,"buffer",{get:Sh.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Fh=Function.prototype[Symbol.hasInstance],Object.defineProperty(Hh,Symbol.hasInstance,{value:function(t){return!!Fh.call(this,t)||this===Hh&&(t&&t._writableState instanceof $h)}})):Fh=function(t){return t instanceof this},Hh.prototype.pipe=function(){Ih(this,new Dh)},Hh.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&function(t){return jh.isBuffer(t)||t instanceof Rh}(t);return o&&!jh.isBuffer(t)&&(t=function(t){return jh.from(t)}(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=Uh),r.ending?function(t,e){var n=new Lh;Ih(t,n),process.nextTick(e,n)}(this,n):(o||function(t,e,n,r){var i;return null===n?i=new Bh:"string"==typeof n||e.objectMode||(i=new Ch("chunk",["string","Buffer"],n)),!i||(Ih(t,i),process.nextTick(r,i),!1)}(this,r,t,n))&&(r.pendingcb++,i=Vh(this,r,o,t,e,n)),i},Hh.prototype.cork=function(){this._writableState.corked++},Hh.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||Gh(this,t))},Hh.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Nh(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(Hh.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Hh.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Hh.prototype._write=function(t,e,n){n(new Mh("_write()"))},Hh.prototype._writev=null,Hh.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,Xh(t,e),n&&(e.finished?process.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(Hh.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Hh.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),Hh.prototype.destroy=xh.destroy,Hh.prototype._undestroy=xh.undestroy,Hh.prototype._destroy=function(t,e){e(t)}}function Qh(){return qh||(qh=!0,Jh()),mh}var td,ed,nd,rd,id,od,ud,ad=!1;function sd(t){if(!(this instanceof sd))return new sd(t);nd.call(this,t),rd.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",cd)))}function cd(){this._writableState.ended||process.nextTick(fd,this)}function fd(t){t.end()}function ld(){return ad||(ad=!0,function(){for(td={},ed=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},td=sd,nd=Jp(),rd=Qh(),ph()(sd,nd),id=ed(rd.prototype),od=0;od<id.length;od++)ud=id[od],sd.prototype[ud]||(sd.prototype[ud]=rd.prototype[ud]);Object.defineProperty(sd.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(sd.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(sd.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(sd.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}()),td}var hd,dd,pd,gd,vd=!1;function bd(t,e){for(var n in t)e[n]=t[n]}function yd(t,e,n){return gd(t,e,n)}function _d(){return vd||(vd=!0,hd={},(gd=(pd=n).Buffer).from&&gd.alloc&&gd.allocUnsafe&&gd.allocUnsafeSlow?hd=pd:(bd(pd,hd),dd=yd,hd.Buffer=dd),yd.prototype=Object.create(gd.prototype),bd(gd,yd),yd.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return gd(t,e,n)},yd.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=gd(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},yd.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return gd(t)},yd.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return pd.SlowBuffer(t)}),hd}var md,wd,Sd,Ed,jd=!1;function Rd(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(wd.isEncoding===Sd||!Sd(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=Cd,this.end=Md,e=4;break;case"utf8":this.fillLast=Pd,e=4;break;case"base64":this.text=kd,this.end=Dd,e=3;break;default:return this.write=Ad,void(this.end=Bd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=wd.allocUnsafe(e)}function xd(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Pd(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function Od(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=xd(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=xd(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=xd(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function Td(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function Cd(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Md(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function kd(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function Dd(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ad(t){return t.toString(this.encoding)}function Bd(t){return t&&t.length?this.write(t):""}function Ld(){return jd||(jd=!0,md={},wd=_d().Buffer,Sd=wd.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Ed=Rd,md.StringDecoder=Ed,Rd.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},Rd.prototype.end=Td,Rd.prototype.text=Od,Rd.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}),md}var Nd,Id,Fd=!1;function qd(){}function Wd(t,e,n){if("function"==typeof e)return Wd(t,null,e);e||(e={}),n=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(n||qd);var r=e.readable||!1!==e.readable&&t.readable,i=e.writable||!1!==e.writable&&t.writable,o=function(){t.writable||a()},u=t._writableState&&t._writableState.finished,a=function(){i=!1,u=!0,r||n.call(t)},s=t._readableState&&t._readableState.endEmitted,c=function(){r=!1,s=!0,i||n.call(t)},f=function(e){n.call(t,e)},l=function(){var e;return r&&!s?(t._readableState&&t._readableState.ended||(e=new Id),n.call(t,e)):i&&!u?(t._writableState&&t._writableState.ended||(e=new Id),n.call(t,e)):void 0},h=function(){t.req.on("finish",a)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?i&&!t._writableState&&(t.on("end",o),t.on("close",o)):(t.on("complete",a),t.on("abort",l),t.req?h():t.on("request",h)),t.on("end",c),t.on("finish",a),!1!==e.error&&t.on("error",f),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",h),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",f),t.removeListener("close",l)}}function Ud(){return Fd||(Fd=!0,Nd={},Id=uh().codes.ERR_STREAM_PREMATURE_CLOSE,Nd=Wd),Nd}var $d,Hd,Vd,zd,Kd,Gd,Yd,Zd,Xd,Jd,Qd,tp,ep=!1;function np(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rp(t,e){return{value:t,done:e}}function ip(t){var e=t[zd];if(null!==e){var n=t[Jd].read();null!==n&&(t[Zd]=null,t[zd]=null,t[Kd]=null,e(rp(n,!1)))}}function op(t){process.nextTick(ip,t)}function up(){$d={},Vd=Ud(),zd=Symbol("lastResolve"),Kd=Symbol("lastReject"),Gd=Symbol("error"),Yd=Symbol("ended"),Zd=Symbol("lastPromise"),Xd=Symbol("handlePromise"),Jd=Symbol("stream"),Qd=Object.getPrototypeOf((function(){})),tp=Object.setPrototypeOf((np(Hd={get stream(){return this[Jd]},next:function(){var t=this,e=this[Gd];if(null!==e)return Promise.reject(e);if(this[Yd])return Promise.resolve(rp(void 0,!0));if(this[Jd].destroyed)return new Promise((function(e,n){process.nextTick((function(){t[Gd]?n(t[Gd]):e(rp(void 0,!0))}))}));var n,r=this[Zd];if(r)n=new Promise(function(t,e){return function(n,r){t.then((function(){e[Yd]?n(rp(void 0,!0)):e[Xd](n,r)}),r)}}(r,this));else{var i=this[Jd].read();if(null!==i)return Promise.resolve(rp(i,!1));n=new Promise(this[Xd])}return this[Zd]=n,n}},Symbol.asyncIterator,(function(){return this})),np(Hd,"return",(function(){var t=this;return new Promise((function(e,n){t[Jd].destroy(null,(function(t){t?n(t):e(rp(void 0,!0))}))}))})),Hd),Qd),$d=function(t){var e,n=Object.create(tp,(np(e={},Jd,{value:t,writable:!0}),np(e,zd,{value:null,writable:!0}),np(e,Kd,{value:null,writable:!0}),np(e,Gd,{value:null,writable:!0}),np(e,Yd,{value:t._readableState.endEmitted,writable:!0}),np(e,Xd,{value:function(t,e){var r=n[Jd].read();r?(n[Zd]=null,n[zd]=null,n[Kd]=null,t(rp(r,!1))):(n[zd]=t,n[Kd]=e)},writable:!0}),e));return n[Zd]=null,Vd(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[Kd];return null!==e&&(n[Zd]=null,n[zd]=null,n[Kd]=null,e(t)),void(n[Gd]=t)}var r=n[zd];null!==r&&(n[Zd]=null,n[zd]=null,n[Kd]=null,r(rp(void 0,!0))),n[Yd]=!0})),t.on("readable",op.bind(null,n)),n}}var ap,sp=!1;function cp(){return sp||(sp=!0,ap={},ap=function(){throw new Error("Readable.from is not available in the browser")}),ap}var fp,lp,hp,dp,pp,gp,vp,bp,yp,_p,mp,wp,Sp,Ep,jp,Rp,xp,Pp,Op,Tp,Cp,Mp,kp,Dp=!1;function Ap(t,e,n){lp=lp||ld(),t=t||{},"boolean"!=typeof n&&(n=e instanceof lp),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=wp(this,t,"readableHighWaterMark",n),this.buffer=new yp,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Pp||(Pp=Ld().StringDecoder),this.decoder=new Pp(t.encoding),this.encoding=t.encoding)}function Bp(t){if(lp=lp||ld(),!(this instanceof Bp))return new Bp(t);var e=this instanceof lp;this._readableState=new Ap(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),dp.call(this)}function Lp(t,e,n,r,i){bp("readableAddChunk",e);var o,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(bp("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?Fp(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,qp(t)))}(t,u);else if(i||(o=function(t,e){var n;(function(t){return pp.isBuffer(t)||t instanceof gp})(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new Ep("chunk",["string","Buffer","Uint8Array"],e));return n}(u,e)),o)Cp(t,o);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===pp.prototype||(e=function(t){return pp.from(t)}(e)),r)u.endEmitted?Cp(t,new xp):Np(t,u,e,!0);else if(u.ended)Cp(t,new jp);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(e=u.decoder.write(e),u.objectMode||0!==e.length?Np(t,u,e,!1):Wp(t,u)):Np(t,u,e,!1)}else r||(u.reading=!1,Wp(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function Np(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&Fp(t)),Wp(t,e)}function Ip(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=kp?t=kp:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function Fp(t){var e=t._readableState;bp("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(bp("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(qp,t))}function qp(t){var e=t._readableState;bp("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,zp(t)}function Wp(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Up,t,e))}function Up(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(bp("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function $p(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Hp(t){bp("readable nexttick read 0"),t.read(0)}function Vp(t,e){bp("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),zp(t),e.flowing&&!e.reading&&t.read(0)}function zp(t){var e=t._readableState;for(bp("flow",e.flowing);e.flowing&&null!==t.read(););}function Kp(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function Gp(t){var e=t._readableState;bp("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Yp,e,t))}function Yp(t,e){if(bp("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function Zp(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Xp(){fp={},fp=Bp,Bp.ReadableState=Ap,u.EventEmitter,hp=function(t,e){return t.listeners(e).length},dp=Nl(),pp=n.Buffer,gp=s.Uint8Array||function(){},bp=(vp={})&&vp.debuglog?vp.debuglog("stream"):function(){},yp=Il,_p=Ql(),mp=lh(),wp=mp.getHighWaterMark,Sp=uh().codes,Ep=Sp.ERR_INVALID_ARG_TYPE,jp=Sp.ERR_STREAM_PUSH_AFTER_EOF,Rp=Sp.ERR_METHOD_NOT_IMPLEMENTED,xp=Sp.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ph()(Bp,dp),Cp=_p.errorOrDestroy,Mp=["error","close","destroy","pause","resume"],Object.defineProperty(Bp.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),Bp.prototype.destroy=_p.destroy,Bp.prototype._undestroy=_p.undestroy,Bp.prototype._destroy=function(t,e){e(t)},Bp.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=pp.from(t,e),e=""),n=!0),Lp(this,t,e,!1,n)},Bp.prototype.unshift=function(t){return Lp(this,t,null,!0,!1)},Bp.prototype.isPaused=function(){return!1===this._readableState.flowing},Bp.prototype.setEncoding=function(t){Pp||(Pp=Ld().StringDecoder);var e=new Pp(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},kp=1073741824,Bp.prototype.read=function(t){bp("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return bp("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Gp(this):Fp(this),null;if(0===(t=Ip(t,e))&&e.ended)return 0===e.length&&Gp(this),null;var r,i=e.needReadable;return bp("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&bp("length less than watermark",i=!0),e.ended||e.reading?bp("reading or ended",i=!1):i&&(bp("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Ip(n,e))),null===(r=t>0?Kp(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Gp(this)),null!==r&&this.emit("data",r),r},Bp.prototype._read=function(t){Cp(this,new Rp("_read()"))},Bp.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,bp("pipe count=%d opts=%j",r.pipesCount,e);var i=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?u:d;function o(e,i){bp("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,bp("cleanup"),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("drain",a),t.removeListener("error",f),t.removeListener("unpipe",o),n.removeListener("end",u),n.removeListener("end",d),n.removeListener("data",c),s=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||a())}function u(){bp("onend"),t.end()}r.endEmitted?process.nextTick(i):n.once("end",i),t.on("unpipe",o);var a=function(t){return function(){var e=t._readableState;bp("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&hp(t,"data")&&(e.flowing=!0,zp(t))}}(n);t.on("drain",a);var s=!1;function c(e){bp("ondata");var i=t.write(e);bp("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==Zp(r.pipes,t))&&!s&&(bp("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(e){bp("onerror",e),d(),t.removeListener("error",f),0===hp(t,"error")&&Cp(t,e)}function l(){t.removeListener("finish",h),d()}function h(){bp("onfinish"),t.removeListener("close",l),d()}function d(){bp("unpipe"),n.unpipe(t)}return n.on("data",c),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",f),t.once("close",l),t.once("finish",h),t.emit("pipe",n),r.flowing||(bp("pipe resume"),n.resume()),t},Bp.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var u=Zp(e.pipes,t);return-1===u||(e.pipes.splice(u,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},Bp.prototype.on=function(t,e){var n=dp.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,bp("on readable",r.length,r.reading),r.length?Fp(this):r.reading||process.nextTick(Hp,this))),n},Bp.prototype.addListener=Bp.prototype.on,Bp.prototype.removeListener=function(t,e){var n=dp.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick($p,this),n},Bp.prototype.removeAllListeners=function(t){var e=dp.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick($p,this),e},Bp.prototype.resume=function(){var t=this._readableState;return t.flowing||(bp("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Vp,t,e))}(this,t)),t.paused=!1,this},Bp.prototype.pause=function(){return bp("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(bp("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Bp.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(bp("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(bp("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<Mp.length;o++)t.on(Mp[o],this.emit.bind(this,Mp[o]));return this._read=function(e){bp("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(Bp.prototype[Symbol.asyncIterator]=function(){return void 0===Op&&(ep||(ep=!0,up()),Op=$d),Op(this)}),Object.defineProperty(Bp.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Bp.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Bp.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),Bp._fromList=Kp,Object.defineProperty(Bp.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Bp.from=function(t,e){return void 0===Tp&&(Tp=cp()),Tp(Bp,t,e)})}function Jp(){return Dp||(Dp=!0,Xp()),fp}var Qp=kl=Bl=Jp();Bl.Stream=Qp;var tg=kl;Bl.Readable=tg;var eg=Qh();Bl.Writable=eg;var ng=ld();Bl.Duplex=ng;var rg={};rg=lg;var ig=uh().codes,og=ig.ERR_METHOD_NOT_IMPLEMENTED,ug=ig.ERR_MULTIPLE_CALLBACK,ag=ig.ERR_TRANSFORM_ALREADY_TRANSFORMING,sg=ig.ERR_TRANSFORM_WITH_LENGTH_0,cg=ld();function fg(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new ug);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function lg(t){if(!(this instanceof lg))return new lg(t);cg.call(this,t),this._transformState={afterTransform:fg.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",hg)}function hg(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?dg(this,null,null):this._flush((function(e,n){dg(t,e,n)}))}function dg(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new sg;if(t._transformState.transforming)throw new ag;return t.push(null)}ph()(lg,cg),lg.prototype.push=function(t,e){return this._transformState.needTransform=!1,cg.prototype.push.call(this,t,e)},lg.prototype._transform=function(t,e,n){n(new og("_transform()"))},lg.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},lg.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},lg.prototype._destroy=function(t,e){cg.prototype._destroy.call(this,t,(function(t){e(t)}))},Bl.Transform=rg;var pg;function gg(t){if(!(this instanceof gg))return new gg(t);rg.call(this,t)}pg=gg,ph()(gg,rg),gg.prototype._transform=function(t,e,n){n(null,t)},Bl.PassThrough=pg;var vg=Ud();Bl.finished=vg;var bg,yg;var _g=uh().codes,mg=_g.ERR_MISSING_ARGS,wg=_g.ERR_STREAM_DESTROYED;function Sg(t){if(t)throw t}function Eg(t,e,n,r){r=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(r);var i=!1;t.on("close",(function(){i=!0})),void 0===yg&&(yg=Ud()),yg(t,{readable:e,writable:n},(function(t){if(t)return r(t);i=!0,r()}));var o=!1;return function(e){if(!i&&!o)return o=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void r(e||new wg("pipe"))}}function jg(t){t()}function Rg(t,e){return t.pipe(e)}function xg(t){return t.length?"function"!=typeof t[t.length-1]?Sg:t.pop():Sg}bg=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=xg(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new mg("streams");var o=e.map((function(t,n){var u=n<e.length-1;return Eg(t,u,n>0,(function(t){r||(r=t),t&&o.forEach(jg),u||(o.forEach(jg),i(r))}))}));return e.reduce(Rg)},Bl.pipeline=bg;const Pg=Bl.Duplex,Og=ph();var Tg={};const{Buffer:Cg}=n,Mg=Symbol.for("BufferList");function kg(t){if(!(this instanceof kg))return new kg(t);kg._init.call(this,t)}function Dg(t){if(!(this instanceof Dg))return new Dg(t);if("function"==typeof t){this._callback=t;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}Tg._init.call(this,t),Pg.call(this)}kg._init=function(t){Object.defineProperty(this,Mg,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},kg.prototype._new=function(t){return new kg(t)},kg.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let n=0;n<this._bufs.length;n++){const r=e+this._bufs[n].length;if(t<r||n===this._bufs.length-1)return[n,t-e];e=r}},kg.prototype._reverseOffset=function(t){const e=t[0];let n=t[1];for(let t=0;t<e;t++)n+=this._bufs[t].length;return n},kg.prototype.get=function(t){if(t>this.length||t<0)return;const e=this._offset(t);return this._bufs[e[0]][e[1]]},kg.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},kg.prototype.copy=function(t,e,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return t||Cg.alloc(0);if(r<=0)return t||Cg.alloc(0);const i=!!t,o=this._offset(n),u=r-n;let a=u,s=i&&e||0,c=o[1];if(0===n&&r===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:Cg.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,s),s+=this._bufs[e].length;return t}if(a<=this._bufs[o[0]].length-c)return i?this._bufs[o[0]].copy(t,e,c,c+a):this._bufs[o[0]].slice(c,c+a);i||(t=Cg.allocUnsafe(u));for(let e=o[0];e<this._bufs.length;e++){const n=this._bufs[e].length-c;if(!(a>n)){this._bufs[e].copy(t,s,c,c+a),s+=n;break}this._bufs[e].copy(t,s,c),s+=n,a-=n,c&&(c=0)}return t.length>s?t.slice(0,s):t},kg.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();const n=this._offset(t),r=this._offset(e),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},kg.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},kg.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},kg.prototype.duplicate=function(){const t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},kg.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(Cg.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(Cg.from(t));return this},kg.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},kg.prototype.indexOf=function(t,e,n){if(void 0===n&&"string"==typeof e&&(n=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=Cg.from([t]):"string"==typeof t?t=Cg.from(t,n):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Cg.from(t.buffer,t.byteOffset,t.byteLength):Cg.isBuffer(t)||(t=Cg.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const r=this._offset(e);let i=r[0],o=r[1];for(;i<this._bufs.length;i++){const e=this._bufs[i];for(;o<e.length;){if(e.length-o>=t.length){const n=e.indexOf(t,o);if(-1!==n)return this._reverseOffset([i,n]);o=e.length-t.length+1}else{const e=this._reverseOffset([i,o]);if(this._match(e,t))return e;o++}}o=0}return-1},kg.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let n=0;n<e.length;n++)if(this.get(t+n)!==e[n])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)!function(e){kg.prototype[e]=null===t[e]?function(t,n){return this.slice(t,t+n)[e](0,n)}:function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),kg.prototype._isBufferList=function(t){return t instanceof kg||kg.isBufferList(t)},kg.isBufferList=function(t){return null!=t&&t[Mg]},Tg=kg,Og(Dg,Pg),Object.assign(Dg.prototype,Tg.prototype),Dg.prototype._new=function(t){return new Dg(t)},Dg.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},Dg.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},Dg.prototype.end=function(t){Pg.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},Dg.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},Dg.prototype._isBufferList=function(t){return t instanceof Dg||t instanceof Tg||Dg.isBufferList(t)},Dg.isBufferList=Tg.isBufferList;var Ag=Dg;(Al=Dg).BufferListStream=Ag,Al.BufferList=Tg;var Bg,Lg=Sv(((...t)=>{const e=Ml(...t),n=e.stdout?new Al:"",r=e.stderr?new Al:"";e.stdout&&e.stdout.on("data",(t=>{n.append(t)})),e.stderr&&e.stderr.on("data",(t=>{r.append(t)}));const i=new Promise(((t,i)=>{e.on("error",i),e.on("exit",(e=>{if(0===e)t(n);else{const t=new Error("child exited with code "+e);t.code=e,t.stderr=r,t.stdout=n,i(t)}}))}));return i.child=e,i})),Ng=Sv($);Bg=fv,fv.Minimatch=lv;var Ig={sep:"/"};try{Ig=function(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}("path")}catch(t){}var Fg,qg=fv.GLOBSTAR=lv.GLOBSTAR={},Wg={};Fg=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);Ug(i)?n.push.apply(n,i):n.push(i)}return n};var Ug=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},$g={};function Hg(t,e,n){t instanceof RegExp&&(t=Vg(t,n)),e instanceof RegExp&&(e=Vg(e,n));var r=zg(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Vg(t,e){var n=e.match(t);return n?n[0]:null}function zg(t,e,n){var r,i,o,u,a,s=n.indexOf(t),c=n.indexOf(e,s+1),f=s;if(s>=0&&c>0){for(r=[],o=n.length;f>=0&&!a;)f==s?(r.push(f),s=n.indexOf(t,f+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<o&&(o=i,u=c),c=n.indexOf(e,f+1)),f=s<c&&s>=0?s:c;r.length&&(a=[o,u])}return a}$g=Hg,Hg.range=zg,Wg=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return ov(function(t){return t.split("\\\\").join(Kg).split("\\{").join(Gg).split("\\}").join(Yg).split("\\,").join(Zg).split("\\.").join(Xg)}(t),!0).map(Qg)};var Kg="\0SLASH"+Math.random()+"\0",Gg="\0OPEN"+Math.random()+"\0",Yg="\0CLOSE"+Math.random()+"\0",Zg="\0COMMA"+Math.random()+"\0",Xg="\0PERIOD"+Math.random()+"\0";function Jg(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Qg(t){return t.split(Kg).join("\\").split(Gg).join("{").split(Yg).join("}").split(Zg).join(",").split(Xg).join(".")}function tv(t){if(!t)return[""];var e=[],n=$g("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,o=n.post,u=r.split(",");u[u.length-1]+="{"+i+"}";var a=tv(o);return o.length&&(u[u.length-1]+=a.shift(),u.push.apply(u,a)),e.push.apply(e,u),e}function ev(t){return"{"+t+"}"}function nv(t){return/^-?0\d/.test(t)}function rv(t,e){return t<=e}function iv(t,e){return t>=e}function ov(t,e){var n=[],r=$g("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i,o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),a=o||u,s=r.body.indexOf(",")>=0;if(!a&&!s)return r.post.match(/,.*\}/)?ov(t=r.pre+"{"+r.body+Yg+r.post):[t];if(a)i=r.body.split(/\.\./);else if(1===(i=tv(r.body)).length&&1===(i=ov(i[0],!1).map(ev)).length)return(l=r.post.length?ov(r.post,!1):[""]).map((function(t){return r.pre+i[0]+t}));var c,f=r.pre,l=r.post.length?ov(r.post,!1):[""];if(a){var h=Jg(i[0]),d=Jg(i[1]),p=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(Jg(i[2])):1,v=rv;d<h&&(g*=-1,v=iv);var b=i.some(nv);c=[];for(var y=h;v(y,d);y+=g){var _;if(u)"\\"===(_=String.fromCharCode(y))&&(_="");else if(_=String(y),b){var m=p-_.length;if(m>0){var w=new Array(m+1).join("0");_=y<0?"-"+w+_.slice(1):w+_}}c.push(_)}}else c=Fg(i,(function(t){return ov(t,!1)}));for(var S=0;S<c.length;S++)for(var E=0;E<l.length;E++){var j=f+c[S]+l[E];(!e||a||j)&&n.push(j)}return n}var uv={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},av="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var sv=/\/+/;function cv(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function fv(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new lv(e,n).match(t))}function lv(t,e){if(!(this instanceof lv))return new lv(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==Ig.sep&&(t=t.split(Ig.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function hv(t,e){if(e||(e=this instanceof lv?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Wg(t)}fv.filter=function(t,e){return e=e||{},function(n,r,i){return fv(n,t,e)}},fv.defaults=function(t){if(!t||!Object.keys(t).length)return fv;var e=fv,n=function(n,r,i){return e.minimatch(n,r,cv(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,cv(t,r))},n},lv.defaults=function(t){return t&&Object.keys(t).length?fv.defaults(t).Minimatch:lv},lv.prototype.debug=function(){},lv.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(sv)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},lv.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},fv.braceExpand=function(t,e){return hv(t,e)},lv.prototype.braceExpand=hv,lv.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return qg;if(""===t)return"";var r,i="",o=!!n.nocase,u=!1,a=[],s=[],c=!1,f=-1,l=-1,h="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function p(){if(r){switch(r){case"*":i+="[^/]*?",o=!0;break;case"?":i+="[^/]",o=!0;break;default:i+="\\"+r}d.debug("clearStateChar %j %j",r,i),r=!1}}for(var g,v=0,b=t.length;v<b&&(g=t.charAt(v));v++)if(this.debug("%s\t%s %s %j",t,v,i,g),u&&av[g])i+="\\"+g,u=!1;else switch(g){case"/":return!1;case"\\":p(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,v,i,g),c){this.debug("  in class"),"!"===g&&v===l+1&&(g="^"),i+=g;continue}d.debug("call clearStateChar %j",r),p(),r=g,n.noext&&p();continue;case"(":if(c){i+="(";continue}if(!r){i+="\\(";continue}a.push({type:r,start:v-1,reStart:i.length,open:uv[r].open,close:uv[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(c||!a.length){i+="\\)";continue}p(),o=!0;var y=a.pop();i+=y.close,"!"===y.type&&s.push(y),y.reEnd=i.length;continue;case"|":if(c||!a.length||u){i+="\\|",u=!1;continue}p(),i+="|";continue;case"[":if(p(),c){i+="\\"+g;continue}c=!0,l=v,f=i.length,i+=g;continue;case"]":if(v===l+1||!c){i+="\\"+g,u=!1;continue}if(c){var _=t.substring(l+1,v);try{RegExp("["+_+"]")}catch(t){var m=this.parse(_,dv);i=i.substr(0,f)+"\\["+m[0]+"\\]",o=o||m[1],c=!1;continue}}o=!0,c=!1,i+=g;continue;default:p(),u?u=!1:!av[g]||"^"===g&&c||(i+="\\"),i+=g}c&&(_=t.substr(l+1),m=this.parse(_,dv),i=i.substr(0,f)+"\\["+m[0],o=o||m[1]);for(y=a.pop();y;y=a.pop()){var w=i.slice(y.reStart+y.open.length);this.debug("setting tail",i,y),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",w,w,y,i);var S="*"===y.type?"[^/]*?":"?"===y.type?"[^/]":"\\"+y.type;o=!0,i=i.slice(0,y.reStart)+S+"\\("+w}p(),u&&(i+="\\\\");var E=!1;switch(i.charAt(0)){case".":case"[":case"(":E=!0}for(var j=s.length-1;j>-1;j--){var R=s[j],x=i.slice(0,R.reStart),P=i.slice(R.reStart,R.reEnd-8),O=i.slice(R.reEnd-8,R.reEnd),T=i.slice(R.reEnd);O+=T;var C=x.split("(").length-1,M=T;for(v=0;v<C;v++)M=M.replace(/\)[+*?]?/,"");var k="";""===(T=M)&&e!==dv&&(k="$"),i=x+P+T+k+O}""!==i&&o&&(i="(?=.)"+i);E&&(i=h+i);if(e===dv)return[i,o];if(!o)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var D=n.nocase?"i":"";try{var A=new RegExp("^"+i+"$",D)}catch(t){return new RegExp("$.")}return A._glob=t,A._src=i,A};var dv={};fv.makeRe=function(t,e){return new lv(t,e||{}).makeRe()},lv.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",i=t.map((function(t){return t.map((function(t){return t===qg?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(t){this.regexp=!1}return this.regexp},fv.match=function(t,e,n){var r=new lv(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},lv.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==Ig.sep&&(t=t.split(Ig.sep).join("/"));t=t.split(sv),this.debug(this.pattern,"split",t);var r,i,o=this.set;for(this.debug(this.pattern,"set",o),i=t.length-1;i>=0&&!(r=t[i]);i--);for(i=0;i<o.length;i++){var u=o[i],a=t;if(n.matchBase&&1===u.length&&(a=[r]),this.matchOne(a,u,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},lv.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,u=t.length,a=e.length;i<u&&o<a;i++,o++){this.debug("matchOne loop");var s,c=e[o],f=t[i];if(this.debug(e,c,f),!1===c)return!1;if(c===qg){this.debug("GLOBSTAR",[e,c,f]);var l=i,h=o+1;if(h===a){for(this.debug("** at the end");i<u;i++)if("."===t[i]||".."===t[i]||!r.dot&&"."===t[i].charAt(0))return!1;return!0}for(;l<u;){var d=t[l];if(this.debug("\nglobstar while",t,l,e,h,d),this.matchOne(t.slice(l),e.slice(h),n))return this.debug("globstar found match!",l,u,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,l,e,h);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",t,l,e,h),l!==u))}if("string"==typeof c?(s=r.nocase?f.toLowerCase()===c.toLowerCase():f===c,this.debug("string match",c,f,s)):(s=f.match(c),this.debug("pattern match",c,f,s)),!s)return!1}if(i===u&&o===a)return!0;if(i===u)return n;if(o===a)return i===u-1&&""===t[i];throw new Error("wtf?")};var pv=Sv(Bg),gv=e,vv={};Object.defineProperty(vv,"__esModule",{value:!0});var bv=mv;vv.merge=bv;var yv=wv;vv.unique=yv;var _v=function(t,e){return mv(t,e),wv(t)};function mv(t,e){e.length&&Array.prototype.push.apply(t,e)}function wv(t){return[...new Set(t)]}function Sv(t){return t&&t.__esModule?t:{default:t}}vv.union=_v;class Ev extends Pl.EventEmitter{constructor(){super();const t=this.rebuildCache.bind(this);this._projectChangeWatcher=atom.project.onDidChangePaths(t);const e=this._onDidChangeFiles.bind(this);this._projectWatcher=atom.project.onDidChangeFiles(e),this._repositories=[],this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._fileWatchersByDirectory=new Map,this.updateConfig()}updateConfig(){this.config={excludeVcsIgnoredPaths:atom.config.get("core.excludeVcsIgnoredPaths"),ignoreSubmodules:atom.config.get("autocomplete-paths.ignoreSubmodules"),shouldIgnoredNames:atom.config.get("autocomplete-paths.ignoredNames"),ignoredNames:atom.config.get("core.ignoredNames"),ignoredPatterns:atom.config.get("autocomplete-paths.ignoredPatterns"),maxFileCount:atom.config.get("autocomplete-paths.maxFileCount")}}_isPathIgnored(t){let e=!1;return this.config.excludeVcsIgnoredPaths&&this._repositories.forEach((n=>{if(e)return;const r=this.config.ignoreSubmodules&&n.isSubmodule(t);(n.isPathIgnored(t)||r)&&(e=!0)})),this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((n=>{e||(e=e||(0,pv.default)(t,n,{matchBase:!0,dot:!0}))})),this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((n=>{e||(e=e||(0,pv.default)(t,n,{dot:!0}))})),e}async _cacheProjectPathsAndRepositories(){this._projectDirectories=atom.project.getDirectories();const t=this._projectDirectories.length;let e=new Array(t);for(let n=0;n<t;n++)e[n]=atom.project.repositoryForDirectory(this._projectDirectories[n]);const n=await Promise.all(e);this._repositories=n.filter((t=>null!==t))}_onDirectoryChanged(t,e){this._removeFilePathsForDirectory(t,e),this._cleanWatchersForDirectory(e),this._cacheDirectoryFilePaths(t,e)}_cleanWatchersForDirectory(t){this._fileWatchersByDirectory.forEach(((e,n)=>{t.contains(n.path)&&(e.dispose(),this._fileWatchersByDirectory.delete(n))}))}_removeFilePathsForDirectory(t,e){let n=this._filePathsByProjectDirectory.get(t.path);n&&(n=n.filter((t=>!e.contains(t))),this._filePathsByProjectDirectory.set(t.path,n),this._filePathsByDirectory.delete(e.path))}async _cacheDirectoryFilePaths(t,e){if(this._cancelled)return[];if("win32"!==process.platform){let n=this._fileWatchersByDirectory.get(e);n||(n=e.onDidChange((()=>this._onDirectoryChanged(t,e))),this._fileWatchersByDirectory.set(e,n))}const n=await this._getDirectoryEntries(e);if(this._cancelled)return[];let r=[],i=[];for(let t=0,e=n.length;t<e;t++){const e=n[t];e instanceof gv.File&&!this._isPathIgnored(e.path)?r.push(e.path):e instanceof gv.Directory&&!this._isPathIgnored(e.path)&&i.push(e)}let o=this._filePathsByProjectDirectory.get(t.path)||[];return o.length+r.length>this.config.maxFileCount&&!this._cancelled?(atom.notifications.addError("autocomplete-paths",{description:`Maximum file count of ${this.config.maxFileCount} has been exceeded. Path autocompletion will not work in this project.<br /><br /><a href="https://github.com/atom-community/autocomplete-paths/wiki/Troubleshooting#maximum-file-limit-exceeded">Click here to learn more.</a>`,dismissable:!0}),this._filePathsByProjectDirectory.clear(),this._filePathsByDirectory.clear(),this._cancelled=!0,void this.emit("rebuild-cache-done")):(this._filePathsByProjectDirectory.set(t.path,(0,vv.union)(o,r)),o=this._filePathsByDirectory.get(e.path)||[],this._filePathsByDirectory.set(e.path,(0,vv.union)(o,r)),Promise.all(i.map((e=>this._cacheDirectoryFilePaths(t,e)))))}_getDirectoryEntries(t){return new Promise(((e,n)=>{t.getEntries(((t,r)=>{if(t)return n(t);e(r)}))}))}rebuildCache(){return this.dispose(),this._cancelled=!1,this.emit("rebuild-cache"),(0,Lg.default)("find",["--version"]).then((()=>this._buildInitialCacheWithFind()),(()=>this._buildInitialCache()))}async _buildInitialCache(){await this._cacheProjectPathsAndRepositories();const t=await Promise.all(this._projectDirectories.map((t=>this._cacheDirectoryFilePaths(t,t))));return this.emit("rebuild-cache-done"),t}getFilePathsForProjectDirectory(t,e=null){let n=this._filePathsByProjectDirectory.get(t.path)||[];return e?n.filter((t=>0===t.indexOf(e))):n}dispose(t){this._fileWatchersByDirectory.forEach((t=>{t.dispose()})),this._fileWatchersByDirectory=new Map,this._filePathsByProjectDirectory=new Map,this._filePathsByDirectory=new Map,this._repositories=[],this._projectWatcher&&(this._projectWatcher.dispose(),this._projectWatcher=null),t&&this._projectChangeWatcher&&(this._projectChangeWatcher.dispose(),this._projectChangeWatcher=null)}async _buildInitialCacheWithFind(){await this._cacheProjectPathsAndRepositories();const t=await Promise.all(this._projectDirectories.map(this._populateCacheFor.bind(this)));return this.emit("rebuild-cache-done"),t}_onDidChangeFiles(t){t.filter((t=>"modified"!==t.action)).forEach((t=>{if(!this._projectDirectories)return;const{action:e,path:n,oldPath:r}=t,i=this._projectDirectories.find((t=>0===n.indexOf(t.path)));if(!i)return;const o=i.path;if(this._isPathIgnored(n))return;const u=this._filePathsByProjectDirectory.get(o)||[];switch(e){case"created":u.push(n);break;case"deleted":const t=u.indexOf(n);t>-1&&u.splice(t,1);break;case"renamed":const e=u.indexOf(r);e>-1&&(u[e]=n)}this._filePathsByProjectDirectory.has(o)||this._filePathsByProjectDirectory.set(o,u)}))}_getIgnorePatterns(t){const e=[];if(this.config.shouldIgnoredNames&&this.config.ignoredNames.forEach((t=>e.push(t))),this.config.excludeVcsIgnoredPaths)try{const n=Ol.default.readFileSync(t+"/.gitignore","utf-8");(0,Cl.default)(n).forEach((t=>e.push(t)))}catch(t){}return this.config.ignoredPatterns&&this.config.ignoredPatterns.forEach((t=>e.push(t))),e}async _populateCacheFor(t){const e=t.path,n=["-L",e+"/","-type","f","-not","-regex","'.*\\("+this._getIgnorePatterns(e).map((t=>t.replace(/\./g,"\\.").replace(/\*/g,".*"))).join("\\|")+"\\).*'"],r=await(0,Lg.default)("find",n),i=Ng.default.compact(r.toString().split("\n"));return this._filePathsByProjectDirectory.set(e,i),i}}xl=Ev,Rl.default=xl;var jv=Dv(Rl=Rl.default),Rv=t,xv={};Object.defineProperty(xv,"__esModule",{value:!0});var Pv=void 0;xv.default=Pv;const Ov=["import\\s+.*?from\\s+['\"]","import\\s+['\"]","require\\(['\"]","define\\(\\[?['\"]"],Tv=["js","jsx","ts","tsx","coffee","json"],Cv=[["\\.jsx?$",""],["\\.ts$",""],["\\.coffee$",""]];Pv=[{scopes:["source.js","source.js.jsx","source.coffee","source.coffee.jsx","source.ts","source.tsx","javascript","source.flow"],prefixes:Ov,extensions:Tv,relative:!0,replaceOnInsert:[["([\\/]?index)?\\.jsx?$",""],["([\\/]?index)?\\.ts$",""],["([\\/]?index)?\\.coffee$",""]]},{scopes:["text.html.vue"],prefixes:Ov,extensions:Tv.concat("vue"),relative:!0,replaceOnInsert:Cv},{scopes:["text.html.vue"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["css","sass","scss","less","styl"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.coffee","source.coffee.jsx"],prefixes:["require\\s+['\"]","define\\s+\\[?['\"]"],extensions:Tv,relative:!0,replaceOnInsert:Cv},{scopes:["source.php"],prefixes:["require_once\\(['\"]","include\\(['\"]"],extensions:["php"],relative:!0},{scopes:["source.sass","source.css.scss","source.css.less","source.stylus"],prefixes:["@import[\\(|\\s+]?['\"]"],extensions:["sass","scss","css"],relative:!0,replaceOnInsert:[["(/)?_([^/]*?)$","$1$2"]]},{scopes:["source.css"],prefixes:["@import\\s+['\"]?","@import\\s+url\\(['\"]?"],extensions:["css"],relative:!0},{scopes:["source.css","source.sass","source.css.less","source.css.scss","source.stylus"],prefixes:["url\\(['\"]?"],extensions:["png","gif","jpeg","jpg","woff","woff2","ttf","svg","otf"],relative:!0},{scopes:["source.c","source.cpp"],prefixes:["^\\s*#include\\s+['\"]"],extensions:["h","hpp"],relative:!0,includeCurrentDirectory:!1},{scopes:["source.lua"],prefixes:["require[\\s+|\\(]['\"]"],extensions:["lua"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.lua$",""]]},{scopes:["source.ruby"],prefixes:["^\\s*require[\\s+|\\(]['\"]"],extensions:["rb"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\.rb$",""]]},{scopes:["source.python"],prefixes:["^\\s*from\\s+","^\\s*import\\s+"],extensions:["py"],relative:!0,includeCurrentDirectory:!1,replaceOnInsert:[["\\/","."],["\\\\","."],["\\.py$",""]]}],xv.default=Pv;var Mv=Dv(xv=xv.default),kv=Dv(d);function Dv(t){return t&&t.__esModule?t:{default:t}}class Av extends W.EventEmitter{constructor(){super(),this.reloadScopes(),this._pathsCache=new jv.default,this._isReady=!1,this._onRebuildCache=this._onRebuildCache.bind(this),this._onRebuildCacheDone=this._onRebuildCacheDone.bind(this),this._pathsCache.on("rebuild-cache",this._onRebuildCache),this._pathsCache.on("rebuild-cache-done",this._onRebuildCacheDone)}reloadScopes(){for(var t in this._scopes=atom.config.get("autocomplete-paths.scopes").slice(0)||[],atom.config.get("autocomplete-paths.ignoreBuiltinScopes")||(this._scopes=this._scopes.concat(Mv.default)),kv.default)atom.config.get("autocomplete-paths."+t)&&(this._scopes=this._scopes.slice(0).concat(kv.default[t]))}_onRebuildCache(){this.emit("rebuild-cache")}_onRebuildCacheDone(){this.emit("rebuild-cache-done")}_scopeMatchesRequest(t,e){const n=Array.isArray(t.scopes)?t.scopes:[t.scopes];if(!(El.default.intersection(e.scopeDescriptor.getScopesArray(),n).length>0))return!1;const r=this._getLineTextForRequest(e);let i=null;return(Array.isArray(t.prefixes)?t.prefixes:[t.prefixes]).forEach((t=>{const e=new RegExp(t,"i");i=i||r.match(e)})),i}_getLineTextForRequest(t){const{editor:e,bufferPosition:n}=t;return e.getTextInRange([[n.row,0],n])}_getSuggestionsForScope(t,e,n){const r=this._getLineTextForRequest(e).substr(n.index+n[0].length),i=r.match(/[/|\\]$/),o=0===r.indexOf("./")||0===r.indexOf("../"),u=U.default.parse(r);i&&(u.dir=U.default.join(u.dir,u.base),u.base="",u.name="");const a=this._getProjectDirectory(e.editor);if(!a)return Promise.resolve([]);const s=U.default.dirname(e.editor.getPath()),c=U.default.resolve(s,u.dir);let f=o?this._pathsCache.getFilePathsForProjectDirectory(a,c):this._pathsCache.getFilePathsForProjectDirectory(a);const l=o?u.base:r,{extensions:h}=t;if(h){const t=new RegExp(`.(${h.join("|")})$`);f=f.filter((e=>t.test(e)))}l&&(f=(0,Rv.filter)(f,l,{maxResults:10}));let d=f.map((n=>{const i=atom.config.get("autocomplete-paths.normalizeSlashes"),u=atom.project.relativizePath(n)[1];let a=u;o&&(a=U.default.relative(c,n)),i&&(a=(0,jl.default)(a));let s=U.default.relative(U.default.dirname(e.editor.getPath()),n);i&&(s=(0,jl.default)(s)),!1!==t.relative&&(n=s,!1!==t.includeCurrentDirectory&&"."!==n[0]&&(n="./"+n)),t.projectRelativePath&&(n=(0,jl.default)(u)),t.replaceOnInsert&&t.replaceOnInsert.forEach((([t,e])=>{const r=new RegExp(t);r.test(n)&&(n=n.replace(r,e))}));const f=s.split(U.default.sep).length;return{text:n,replacementPrefix:r,displayText:a,type:"import",iconHTML:'<i class="icon-file-code"></i>',score:(0,Rv.score)(a,e.prefix),distanceToFile:f}}));const p=d.length;if(d.length){const t=El.default.max(d,(t=>t.distanceToFile)).distanceToFile;d.forEach(((e,n)=>{e.score=p-n+(t-e.distanceToFile)})),d.sort(((t,e)=>e.score-t.score))}return Promise.resolve(d)}async getSuggestions(t){const e=this._scopes.map((e=>[e,this._scopeMatchesRequest(e,t)])).filter((t=>t[1])).map((([e,n])=>this._getSuggestionsForScope(e,t,n))),n=El.default.flatten(await Promise.all(e));return!!n.length&&n}async rebuildCache(){const t=await this._pathsCache.rebuildCache();return this._isReady=!0,t}_getProjectDirectory(t){const e=t.getBuffer().getPath();let n=null;return atom.project.getDirectories().forEach((t=>{t.contains(e)&&(n=t)})),n}isReady(){return this._isReady}get suggestionPriority(){return atom.config.get("autocomplete-paths.suggestionPriority")}get fileCount(){return atom.project.getDirectories().reduce(((t,e)=>t+this._pathsCache.getFilePathsForProjectDirectory(e).length),0)}dispose(){this._pathsCache.removeListener("rebuild-cache",this._onRebuildCache),this._pathsCache.removeListener("rebuild-cache-done",this._onRebuildCacheDone),this._pathsCache.dispose(!0)}}m=Av,_.default=m,Av.prototype.selector="*",Av.prototype.inclusionPriority=1;var Bv=Iv(_=_.default),Lv=e,Nv=Iv(d);function Iv(t){return t&&t.__esModule?t:{default:t}}f={config:y.default,subscriptions:null,activate:function(){this.subscriptions=new Lv.CompositeDisposable,this.subscriptions.add(atom.commands.add("atom-workspace",{"autocomplete-paths:rebuild-cache":()=>{this._provider.rebuildCache()}}));["core.ignoredNames","core.excludeVcsIgnoredPaths","autocomplete-paths.ignoreSubmodules","autocomplete-paths.ignoredNames","autocomplete-paths.ignoredPatterns","autocomplete-paths.maxFileCount"].forEach((t=>{this.subscriptions.add(atom.config.observe(t,(t=>{this._provider&&(this._provider._pathsCache.updateConfig(),this._provider.rebuildCache())})))}));const t=["autocomplete-paths.scopes"];for(let e in Nv.default)t.push("autocomplete-paths."+e);t.forEach((t=>{this.subscriptions.add(atom.config.observe(t,(t=>{this._provider&&this._provider.reloadScopes()})))}))},deactivate:function(){this._statusBarInterval&&clearInterval(this._statusBarInterval),this.subscriptions.dispose(),this._provider&&(this._provider.dispose(!0),this._provider=null),this._statusBarTile&&(this._statusBarTile.destroy(),this._statusBarTile=null)},consumeStatusBar:function(t){this._statusBar=t,this._displayStatusBarItemOnConsumption&&this._displayStatusBarTile()},_displayStatusBarTile(){this._statusBar?this._statusBarTile||(this._statusBarElement=document.createElement("autocomplete-paths-status-bar"),this._statusBarElement.innerHTML="Rebuilding paths cache...",this._statusBarTile=this._statusBar.addRightTile({item:this._statusBarElement,priority:100}),(this._provider||(this.getProvider(),this._provider))&&(this._statusBarInterval=setInterval((()=>{const t=this._provider.fileCount;t>0&&(this._statusBarElement.innerHTML=`Rebuilding paths cache... ${t} files`)}),500))):this._displayStatusBarItemOnConsumption=!0},_hideStatusBarTile(){this._statusBarInterval&&clearInterval(this._statusBarInterval),this._statusBarTile&&this._statusBarTile.destroy(),this._statusBarTile=null,this._statusBarElement=null},getProvider:function(){return this._provider||(this._provider=new Bv.default,this._provider.on("rebuild-cache",(()=>{this._displayStatusBarTile()})),this._provider.on("rebuild-cache-done",(()=>{this._hideStatusBarTile()})),this._provider.rebuildCache()),this._provider}},c.default=f,c=c.default,module.exports=c;
//# sourceMappingURL=autocomplete-paths.js.map
